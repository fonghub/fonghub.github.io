<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
    
	<title>不知有晋</title>
    <meta name="author" content="CFONG">
    
	<meta name="description" content=""> <!-- TODO: truncate -->
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="atom.xml" rel="alternate" title="不知有晋" type="application/atom+xml">
	<link href="/favicon.ico" rel="shortcut icon">
    <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
    <link href="/stylesheets/custom.css" media="screen, projection" rel="stylesheet" type="text/css">
    <link href="/stylesheets/hljs.css" media="screen, projection" rel="stylesheet" type="text/css">

    <link href='//fonts.googleapis.com/css?family=Slackey' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Amethysta' rel='stylesheet' type='text/css'>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![}]-->

    <script type="text/javascript" src="/javascripts/jquery-tapir.js"></script>
    <script src="/javascripts/MathJax.js" type="text/javascript"></script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            tex2jax: {
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
            inlineMath: [['$','$']]
            }
        });
    </script>
    <!-- remove or comment it to disable ajaxification -->   
    <!-- <script src="/javascripts/ajaxify.js"></script> -->

    

    

<meta name="generator" content="Hexo 6.2.0"></head>


<body>
    <div id="wrapper">
    <header id="header" class="inner"><!-- for more effects see _animate.scss -->
<h1 class="animated bounceInDown">
    <div id="headerbg">
        不知有晋
    </div>
</h1>
<span class="subtitle"></span>
<br>

<ul id="social-links" style="text-align:center; clear:both;">
  
  
  
  
  
  
  
  
</ul>


<!-- use full url including 'index.html' for navigation bar if you are using ajax -->
<ul id="nav">
	<li id="ajax"><a href="/index.html">Home</a></li>
	<li id="ajax"><a href="/archives/index.html">Archives</a></li>
	<li id="ajax"><a href="/tags/index.html">Tags</a></li>
    <li><a href="/atom.xml">RSS</a></li>
    
    <li>
    <div id="dark">
        <form action="//www.google.com.hk/search" method="get" accept-charset="UTF-8" id="search">
            <input type="hidden" name="sitesearch" value="http://fonghub.github.com" />
            <input type="text" name="q" results="0" placeholder="Search..." x-webkit-speech />
        </form>
    </div>
    </li>
        
</ul>




</header>

<div id="toload">
<!-- begin toload -->
    <div id="content" class="inner">
        



  <article class="post">
	<h2 class="title">
		<a href="2020/06/17/leetcode-125/">leetcode 125e 验证回文串</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2020-06-17T21:00:00.000Z" itemprop="datePublished">Jun 18, 2020</time>
</div>
      <div class="tags">Tags: 

<a href="/tags/leetcode/">leetcode</a>
</div>
    </div>
      
        <h4><span id="ti-mu-miao-shu">题目描述</span><a href="#ti-mu-miao-shu" class="header-anchor">#</a></h4><p>给定一个字符串，验证它是否是回文串，只考虑字母和数字字符，可以忽略字母的大小写。</p>
<p><strong>说明：</strong> 本题中，我们将空字符串定义为有效的回文串。</p>
<p><strong>示例 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入: &quot;A man, a plan, a canal: Panama&quot;</span><br><span class="line">输出: true</span><br></pre></td></tr></table></figure>

<p><strong>示例 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入: &quot;race a car&quot;</span><br><span class="line">输出: false</span><br></pre></td></tr></table></figure>

<h4><span id="suan-fa">算法</span><a href="#suan-fa" class="header-anchor">#</a></h4><ol>
<li>去除非字母、数字字符，大写字母转成小写字母，求出字符总长度</li>
<li>构造字符数组</li>
<li>验证</li>
</ol>
<h4><span id="c-dai-ma">C代码</span><a href="#c-dai-ma" class="header-anchor">#</a></h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> true 1</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> false 0</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> <span class="type">bool</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">char</span> data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125; strLink;</span><br><span class="line"></span><br><span class="line">strLink * <span class="title function_">StrAssign</span><span class="params">(<span class="type">char</span> *s)</span>;</span><br><span class="line"><span class="type">bool</span> <span class="title function_">isPalindrome</span><span class="params">(<span class="type">char</span> * s)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">DispStr</span><span class="params">(strLink * s)</span>;</span><br><span class="line"><span class="type">bool</span> <span class="title function_">isPalindrome</span><span class="params">(<span class="type">char</span> * s)</span>;</span><br><span class="line"><span class="type">char</span> <span class="title function_">GetChar</span><span class="params">(<span class="type">char</span> c)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">StrCopy</span><span class="params">(strLink *str,<span class="type">int</span> length,<span class="type">char</span> *s)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">DispArr</span><span class="params">(<span class="type">char</span> *arr,<span class="type">int</span> length)</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> s[] = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">if</span>(isPalindrome(&amp;s[<span class="number">0</span>]))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;true\t&quot;</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;false\t&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">char</span> <span class="title function_">GetChar</span><span class="params">(<span class="type">char</span> c)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> res=<span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">    <span class="keyword">if</span>((c &gt;= <span class="string">&#x27;a&#x27;</span> &amp;&amp; c &lt;= <span class="string">&#x27;z&#x27;</span>) || (c &gt;= <span class="string">&#x27;0&#x27;</span> &amp;&amp; c &lt;= <span class="string">&#x27;9&#x27;</span>) )</span><br><span class="line">        res = c;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>(c &gt;= <span class="string">&#x27;A&#x27;</span> &amp;&amp; c &lt;= <span class="string">&#x27;Z&#x27;</span>)</span><br><span class="line">        res = c + <span class="number">32</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">StrLength</span><span class="params">(strLink *s)</span></span><br><span class="line">&#123;</span><br><span class="line">    strLink * tmp = s-&gt;next;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(tmp != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        i++;</span><br><span class="line">        tmp = tmp-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> i;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">strLink * <span class="title function_">StrAssign</span><span class="params">(<span class="type">char</span> *s)</span></span><br><span class="line">&#123;</span><br><span class="line">    strLink *tmp,*r,*p;</span><br><span class="line">    tmp = (strLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strLink));</span><br><span class="line">    tmp-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    r = tmp;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(s[i] != <span class="string">&#x27;\0&#x27;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">char</span> res;</span><br><span class="line">        <span class="keyword">if</span>((res = GetChar(s[i])) == <span class="string">&#x27;\0&#x27;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            i++;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        p = (strLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strLink));</span><br><span class="line">        p-&gt;data = res;</span><br><span class="line">        r-&gt;next = p;</span><br><span class="line">        r = p;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    r-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">DispStr</span><span class="params">(strLink *s)</span></span><br><span class="line">&#123;</span><br><span class="line">    strLink *tmp = s-&gt;next;</span><br><span class="line">    <span class="keyword">while</span>(tmp != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>,tmp-&gt;data);</span><br><span class="line">        tmp = tmp-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">DispArr</span><span class="params">(<span class="type">char</span> *arr,<span class="type">int</span> length)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;length;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c\t&quot;</span>,*(arr+i));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">StrCopy</span><span class="params">(strLink *str,<span class="type">int</span> length,<span class="type">char</span> *s)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">    strLink * tmp = str-&gt;next;</span><br><span class="line">    <span class="keyword">while</span>(tmp != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        *(s+i) = tmp-&gt;data;</span><br><span class="line">        i++;</span><br><span class="line">        tmp = tmp-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">bool</span> <span class="title function_">isPalindrome</span><span class="params">(<span class="type">char</span> * s)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//  求出长度</span></span><br><span class="line">    strLink *str;</span><br><span class="line">    str = StrAssign(s);</span><br><span class="line">    <span class="comment">// DispStr(str);</span></span><br><span class="line">    <span class="type">int</span> length = StrLength(str);</span><br><span class="line">    <span class="keyword">if</span>(length &lt;= <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="type">char</span> strArr[length];</span><br><span class="line"></span><br><span class="line">    <span class="comment">//  构造字符数组</span></span><br><span class="line">    StrCopy(str,length,&amp;strArr[<span class="number">0</span>]);</span><br><span class="line">    <span class="comment">// DispArr(&amp;strArr[0],length);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//  验证</span></span><br><span class="line">    <span class="type">int</span> i=<span class="number">0</span>,j=length<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">while</span>(i &lt; j)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(strArr[i] != strArr[j])</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        i++;</span><br><span class="line">        j--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4><span id="shi-jian-fu-za-du">时间复杂度</span><a href="#shi-jian-fu-za-du" class="header-anchor">#</a></h4><p>算法的时间复杂度为 $O(n)$</p>

      
	</div>

<div class="meta">
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="2020/06/17/string/">串结构——顺序串、链串</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2020-06-17T05:00:00.000Z" itemprop="datePublished">Jun 17, 2020</time>
</div>
      <div class="tags">Tags: 

<a href="/tags/数据结构/">数据结构</a> <a href="/tags/串/">串</a>
</div>
    </div>
      
        <h3><span id="chuan-jie-gou-de-ding-yi-he-shu-xing">串结构的定义和属性</span><a href="#chuan-jie-gou-de-ding-yi-he-shu-xing" class="header-anchor">#</a></h3><p>“串”即是我们平常讨论的字符串，串是由零个或多个<strong>字符</strong>（只能是字符）组成的有穷序列。</p>
<p>通常记为 $S&#x3D;”a_1a_2a_3…a_n”$，每个 $a_i$ 代表一个字符，其中 $i$ 表示字符在串中的位置$(1&lt;&#x3D;i&lt;&#x3D;n)$。</p>
<p>串结构的几个属性：</p>
<ul>
<li>长度：串中的字符个数</li>
<li>空串：长度为0的串称为空串</li>
<li>子串：在一个串中任意个连续字符组成的子序列（含空串），称为该串的子串</li>
<li>真子串：不包含自身的所有子串</li>
<li>串相等：长度相等，每个字符的位置也相等的两个串</li>
</ul>
<blockquote>
<p>一个长度等于n的串</p>
<p>真子串的数量：$\frac{n(n+1)}{2}$</p>
<p>子串的数量 &#x3D; 真子串的数量 + 1 &#x3D; $\frac{n(n+1)}{2} + 1$</p>
<p>例如 串abcd，子串的组合情况和数量如下：</p>
<table>
<thead>
<tr>
<th>串长度</th>
<th>数量</th>
<th>子串</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>1</td>
<td>空串</td>
</tr>
<tr>
<td>1</td>
<td>4</td>
<td>a,b,c,d</td>
</tr>
<tr>
<td>2</td>
<td>3</td>
<td>ab,bc,cd</td>
</tr>
<tr>
<td>3</td>
<td>2</td>
<td>abc,bcd</td>
</tr>
<tr>
<td>4</td>
<td>1</td>
<td>abcd</td>
</tr>
<tr>
<td>total</td>
<td>11</td>
<td></td>
</tr>
</tbody></table>
</blockquote>
<h3><span id="chuan-jie-gou-de-chou-xiang-shu-ju-lei-xing">串结构的抽象数据类型</span><a href="#chuan-jie-gou-de-chou-xiang-shu-ju-lei-xing" class="header-anchor">#</a></h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">ADT String</span><br><span class="line">&#123;</span><br><span class="line">数据对象：</span><br><span class="line">	D = &#123;ai | ai∈ElemType, i=<span class="number">1</span>,<span class="number">2</span>,…,n, n≧<span class="number">0</span> &#125; <span class="comment">//ElemType为类型标识符</span></span><br><span class="line">数据关系：</span><br><span class="line">	R = &#123;&lt;ai, ai+<span class="number">1</span>&gt; | ai, ai+<span class="number">1</span>∈D, i=<span class="number">1</span>,<span class="number">3</span>,…,n<span class="number">-1</span> &#125;</span><br><span class="line">数据操作：</span><br><span class="line">    (<span class="number">1</span>) strSeq * InitStr();                                 <span class="comment">//  初始化串</span></span><br><span class="line">    (<span class="number">2</span>) <span class="type">void</span> <span class="title function_">StrAssign</span><span class="params">(strSeq *s,<span class="type">char</span> cstr[])</span>;              <span class="comment">//  字符串常量cstr赋给串s</span></span><br><span class="line">    (<span class="number">3</span>) <span class="type">void</span> <span class="title function_">DispStr</span><span class="params">(strSeq *s)</span>;                            <span class="comment">//  输出串</span></span><br><span class="line">    (<span class="number">4</span>) strSeq * <span class="title function_">InsStr</span><span class="params">(strSeq *s,<span class="type">int</span> i,strSeq *s1)</span>;        <span class="comment">//  串插入</span></span><br><span class="line">    (<span class="number">5</span>) strSeq * <span class="title function_">StrCopy</span><span class="params">(strSeq *s)</span>;                        <span class="comment">//  复制串s，返回新串</span></span><br><span class="line">    (<span class="number">6</span>) Bool <span class="title function_">StrEqual</span><span class="params">(strSeq *s,strSeq *t)</span>;                 <span class="comment">//  串相等</span></span><br><span class="line">    (<span class="number">7</span>) <span class="type">int</span> <span class="title function_">StrLength</span><span class="params">(strSeq *s)</span>;                           <span class="comment">//  求串长</span></span><br><span class="line">    (<span class="number">8</span>) strSeq * <span class="title function_">Concat</span><span class="params">(strSeq *s,strSeq *t)</span>;               <span class="comment">//  串连接</span></span><br><span class="line">    (<span class="number">9</span>) strSeq * <span class="title function_">SubStr</span><span class="params">(strSeq *s,<span class="type">int</span> i,<span class="type">int</span> j)</span>;             <span class="comment">//  求子串</span></span><br><span class="line">    (<span class="number">10</span>) strSeq * <span class="title function_">DelStr</span><span class="params">(strSeq *s,<span class="type">int</span> i,<span class="type">int</span> j)</span> ;            <span class="comment">//  串删除</span></span><br><span class="line">    (<span class="number">11</span>) strSeq * <span class="title function_">RepStr</span><span class="params">(strSeq *s,<span class="type">int</span> i,<span class="type">int</span> j,strSeq *t)</span>;   <span class="comment">//  串替换</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>虽然串是一种特殊的线性表，与线性表具有类似的逻辑结构。<br>但是从抽象数据类型的抽象方法可以看出来，串和线性表的操作有较大的区别。</p>
<p>串通常以整体作为操作的对象，可以从作为参数的输入和作为结果的返回看出。<br>而线性表通常以单个元素作为操作的对象。</p>
<h3><span id="shun-xu-chuan">顺序串</span><a href="#shun-xu-chuan" class="header-anchor">#</a></h3><p>定义顺序串的存储结构：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> MaxSize 100    </span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span>   <span class="type">char</span> data[MaxSize];         </span><br><span class="line">    <span class="type">int</span> length;                 </span><br><span class="line">&#125; strSeq;</span><br></pre></td></tr></table></figure>

<p>字符变量cstr赋值给串方法 <code>StrAssign</code> 和 串复制方法 <code>StrCopy</code> 比较类似，区别是遍历字符变量cstr时，是否以 <code>&#39;\0&#39;</code> 结束。</p>
<p>方法 <code>InsStr</code>, <code>SubStr</code>, <code>DelStr</code>, <code>RepStr</code> 中有参数 $i$ ，表示逻辑序号，需要转换成物理序号，避免发生越界错误。</p>
<p>顺序串代码实现：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MaxSize 100          </span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> true 1</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> false 0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> Bool;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span>   <span class="type">char</span> data[MaxSize];         </span><br><span class="line">    <span class="type">int</span> length;                 </span><br><span class="line">&#125; strSeq;</span><br><span class="line"></span><br><span class="line">strSeq * <span class="title function_">InitStr</span><span class="params">()</span>;                                 <span class="comment">//  初始化串</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">StrAssign</span><span class="params">(strSeq *s,<span class="type">char</span> cstr[])</span>;              <span class="comment">//  字符串常量cstr赋给串s</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">DispStr</span><span class="params">(strSeq *s)</span>;                            <span class="comment">//  输出串</span></span><br><span class="line">strSeq * <span class="title function_">InsStr</span><span class="params">(strSeq *s,<span class="type">int</span> i,strSeq *s1)</span>;        <span class="comment">//  串插入</span></span><br><span class="line">strSeq * <span class="title function_">StrCopy</span><span class="params">(strSeq *s)</span>;                        <span class="comment">//  复制串s，返回新串</span></span><br><span class="line">Bool <span class="title function_">StrEqual</span><span class="params">(strSeq *s,strSeq *t)</span>;                 <span class="comment">//  串相等</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">StrLength</span><span class="params">(strSeq *s)</span>;                           <span class="comment">//  求串长</span></span><br><span class="line">strSeq * <span class="title function_">Concat</span><span class="params">(strSeq *s,strSeq *t)</span>;               <span class="comment">//  串连接</span></span><br><span class="line">strSeq * <span class="title function_">SubStr</span><span class="params">(strSeq *s,<span class="type">int</span> i,<span class="type">int</span> j)</span>;             <span class="comment">//  求子串</span></span><br><span class="line">strSeq * <span class="title function_">DelStr</span><span class="params">(strSeq *s,<span class="type">int</span> i,<span class="type">int</span> j)</span> ;            <span class="comment">//  串删去</span></span><br><span class="line">strSeq * <span class="title function_">RepStr</span><span class="params">(strSeq *s,<span class="type">int</span> i,<span class="type">int</span> j,strSeq *t)</span>;   <span class="comment">//  串替换</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    strSeq *s,*s1,*s2,*s3,*s4,*s5;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;串的基本运算如下:\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (0)初始化串s:\n&quot;</span>);</span><br><span class="line">    s = InitStr();</span><br><span class="line">    <span class="type">char</span> cstr[] = <span class="string">&quot;abcdefghijklmn&quot;</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (1)字符串 %s 赋值给s\n&quot;</span>,cstr);</span><br><span class="line">    StrAssign(s,cstr);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (2)输出串s:&quot;</span>);</span><br><span class="line">    DispStr(s);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (0)初始化串s1:\n&quot;</span>);</span><br><span class="line">    s1 = InitStr();</span><br><span class="line">    StrAssign(s1,<span class="string">&quot;123&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (2)输出串s1:&quot;</span>);</span><br><span class="line">    DispStr(s1);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (3)串s的长度:%d\n&quot;</span>,StrLength(s));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (4)在串s的第9个字符位置插入串s1而产生串s2\n&quot;</span>);</span><br><span class="line">    s2 = InsStr(s,<span class="number">9</span>,s1);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (5)输出串s2:&quot;</span>);</span><br><span class="line">    DispStr(s2);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (6)删除串s第2个字符开始的5个字符而产生串s2\n&quot;</span>);</span><br><span class="line">    s2 = DelStr(s,<span class="number">2</span>,<span class="number">5</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (7)输出串s2:&quot;</span>);</span><br><span class="line">    DispStr(s2);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (8)将串s第2个字符开始的5个字符替换成串s1而产生串s2\n&quot;</span>);</span><br><span class="line">    s2 = RepStr(s,<span class="number">2</span>,<span class="number">5</span>,s1);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (9)输出串s2:&quot;</span>);</span><br><span class="line">    DispStr(s2);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (10)提取串s的第2个字符开始的10个字符而产生串s3\n&quot;</span>);</span><br><span class="line">    s3 = SubStr(s,<span class="number">2</span>,<span class="number">10</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (11)输出串s3:&quot;</span>);</span><br><span class="line">    DispStr(s3);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (12)将串s1和串s2连接起来而产生串s4\n&quot;</span>);</span><br><span class="line">    s4 = Concat(s,s1);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (13)输出串s4:&quot;</span>);</span><br><span class="line">    DispStr(s4);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (14)复制串s返回s5\n&quot;</span>);</span><br><span class="line">    s5 = StrCopy(s);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (15)输出串s5:&quot;</span>);</span><br><span class="line">    DispStr(s5);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (16)比较串s和s5\n&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span>(StrEqual(s,s5))</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;  (17)串s和s5相等&quot;</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;  (17)串s和s5不相等&quot;</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">strSeq * <span class="title function_">InitStr</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    strSeq *tmp = (strSeq *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strSeq));</span><br><span class="line">    tmp-&gt;length = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">StrAssign</span><span class="params">(strSeq *s,<span class="type">char</span> cstr[])</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (cstr[i] != <span class="string">&#x27;\0&#x27;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        s-&gt;data[i] = cstr[i];</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    s-&gt;length = i;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">strSeq * <span class="title function_">InsStr</span><span class="params">(strSeq *s,<span class="type">int</span> i,strSeq *s1)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> j,k;</span><br><span class="line">    strSeq *tmp  = (strSeq *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strSeq));</span><br><span class="line">    tmp-&gt;length = <span class="number">0</span>;</span><br><span class="line">    i--;</span><br><span class="line">    <span class="keyword">if</span>(i &lt; <span class="number">0</span> || i &gt; s-&gt;length)</span><br><span class="line">        <span class="keyword">return</span> tmp;</span><br><span class="line">    <span class="keyword">if</span>(s-&gt;length + s1-&gt;length &gt; MaxSize)</span><br><span class="line">        <span class="keyword">return</span> tmp;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> ( j = <span class="number">0</span>; j &lt; i; j++)</span><br><span class="line">        tmp-&gt;data[j] = s-&gt;data[j];</span><br><span class="line">    <span class="keyword">for</span> ( k = <span class="number">0</span>; k &lt; s1-&gt;length; k++)</span><br><span class="line">        tmp-&gt;data[j+k] = s1-&gt;data[k];    </span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> ( j = i; j &lt; s-&gt;length; j++)</span><br><span class="line">        tmp-&gt;data[j+s1-&gt;length] = s-&gt;data[j];</span><br><span class="line"></span><br><span class="line">    tmp-&gt;length = s-&gt;length + s1-&gt;length;</span><br><span class="line">    <span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">DispStr</span><span class="params">(strSeq *s)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; s-&gt;length; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c &quot;</span>,s-&gt;data[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">strSeq * <span class="title function_">Concat</span><span class="params">(strSeq *s,strSeq *t)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> k,l;</span><br><span class="line">    strSeq *tmp  = (strSeq *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strSeq));</span><br><span class="line">    tmp-&gt;length = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(k=<span class="number">0</span>;k&lt;s-&gt;length;k++)</span><br><span class="line">        tmp-&gt;data[k] = s-&gt;data[k];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(k=<span class="number">0</span>;k&lt;t-&gt;length;k++)</span><br><span class="line">        tmp-&gt;data[s-&gt;length+k] = t-&gt;data[k];</span><br><span class="line"></span><br><span class="line">    tmp-&gt;length = s-&gt;length + t-&gt;length;</span><br><span class="line">    <span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">StrLength</span><span class="params">(strSeq *s)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> s-&gt;length;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">strSeq * <span class="title function_">SubStr</span><span class="params">(strSeq *s,<span class="type">int</span> i,<span class="type">int</span> j)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> k,l;</span><br><span class="line">    strSeq *tmp = (strSeq *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strSeq));</span><br><span class="line">    tmp-&gt;length = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(i+j<span class="number">-1</span> &gt; s-&gt;length)</span><br><span class="line">        <span class="keyword">return</span> tmp;</span><br><span class="line">    i--;</span><br><span class="line">    <span class="keyword">for</span>(k=i,l=<span class="number">0</span>;l&lt;j;l++,k++)</span><br><span class="line">        tmp-&gt;data[l] = s-&gt;data[k];</span><br><span class="line"></span><br><span class="line">    tmp-&gt;length = j;</span><br><span class="line">    <span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">strSeq * <span class="title function_">RepStr</span><span class="params">(strSeq *s,<span class="type">int</span> i,<span class="type">int</span> j,strSeq *t)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> k,l;</span><br><span class="line">    strSeq *tmp = (strSeq *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strSeq));</span><br><span class="line">    tmp-&gt;length = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(i+j<span class="number">-1</span> &gt; s-&gt;length)</span><br><span class="line">        <span class="keyword">return</span> tmp;</span><br><span class="line">    i--;</span><br><span class="line">    <span class="keyword">for</span>(k=<span class="number">0</span>,l=<span class="number">0</span>;k&lt;i;k++,l++)</span><br><span class="line">        tmp-&gt;data[l] = s-&gt;data[k];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(k=<span class="number">0</span>;k&lt;t-&gt;length;k++,l++)</span><br><span class="line">        tmp-&gt;data[l] = t-&gt;data[k];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(k=i+j;k&lt;s-&gt;length;k++,l++)</span><br><span class="line">        tmp-&gt;data[l] = s-&gt;data[k];</span><br><span class="line"></span><br><span class="line">    tmp-&gt;length = s-&gt;length-j+t-&gt;length;</span><br><span class="line">    <span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">strSeq * <span class="title function_">DelStr</span><span class="params">(strSeq *s,<span class="type">int</span> i,<span class="type">int</span> j)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> k,l;</span><br><span class="line">    strSeq *tmp = (strSeq *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strSeq));</span><br><span class="line">    tmp-&gt;length = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//  元素数量不够，返回空</span></span><br><span class="line">    <span class="keyword">if</span> (i+j<span class="number">-1</span> &gt; s-&gt;length)</span><br><span class="line">        <span class="keyword">return</span> tmp;</span><br><span class="line">    i--;</span><br><span class="line">    <span class="keyword">for</span> ( k = <span class="number">0</span>,l = <span class="number">0</span>; k &lt; i; k++,l++)</span><br><span class="line">        tmp-&gt;data[l] = s-&gt;data[k];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> ( k = i+j; k &lt; s-&gt;length; k++,l++)</span><br><span class="line">        tmp-&gt;data[l] = s-&gt;data[k];</span><br><span class="line">    </span><br><span class="line">    tmp-&gt;length = s-&gt;length-j;</span><br><span class="line">    <span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//  复制串s，返回新串</span></span><br><span class="line">strSeq *<span class="title function_">StrCopy</span><span class="params">(strSeq *s)</span></span><br><span class="line">&#123;</span><br><span class="line">    strSeq *tmp = (strSeq *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strSeq));</span><br><span class="line">    tmp-&gt;length = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;s-&gt;length;i++)</span><br><span class="line">        tmp-&gt;data[i] = s-&gt;data[i];</span><br><span class="line"></span><br><span class="line">    tmp-&gt;length = s-&gt;length;</span><br><span class="line">    <span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Bool <span class="title function_">StrEqual</span><span class="params">(strSeq *s,strSeq *t)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(s-&gt;length != t-&gt;length)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;s-&gt;length;i++)</span><br><span class="line">        <span class="keyword">if</span>(s-&gt;data[i] != t-&gt;data[i])</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3><span id="lian-chuan">链串</span><a href="#lian-chuan" class="header-anchor">#</a></h3><p>链串的存储结构定义为：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">char</span> data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125; strLink;  </span><br></pre></td></tr></table></figure>

<p>链串代码实现：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> true 1</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> false 0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> Bool;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">char</span> data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125; strLink;</span><br><span class="line"></span><br><span class="line">strLink * <span class="title function_">InitStr</span><span class="params">()</span>;                                    <span class="comment">//初始化串</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">StrAssign</span><span class="params">(strLink *s,<span class="type">char</span> cstr[])</span>;                 <span class="comment">//字符串常量cstr赋给串s</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">DispStr</span><span class="params">(strLink *s)</span>;                               <span class="comment">//输出串</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">StrLength</span><span class="params">(strLink *s)</span>;                              <span class="comment">//求串长</span></span><br><span class="line">strLink * <span class="title function_">InsStr</span><span class="params">(strLink *s,<span class="type">int</span> i,strLink *t)</span>;          <span class="comment">//串插入</span></span><br><span class="line">strLink * <span class="title function_">DelStr</span><span class="params">(strLink *s,<span class="type">int</span> i,<span class="type">int</span> j)</span>;               <span class="comment">//串删去</span></span><br><span class="line">strLink * <span class="title function_">RepStr</span><span class="params">(strLink *s,<span class="type">int</span> i,<span class="type">int</span> j,strLink *t)</span>;    <span class="comment">//串替换</span></span><br><span class="line">strLink * <span class="title function_">SubStr</span><span class="params">(strLink *s,<span class="type">int</span> i,<span class="type">int</span> j)</span>;               <span class="comment">//求子串</span></span><br><span class="line">strLink * <span class="title function_">Concat</span><span class="params">(strLink *s,strLink *t)</span>;                <span class="comment">//串连接</span></span><br><span class="line">strLink * <span class="title function_">StrCopy</span><span class="params">(strLink *s)</span>;                          <span class="comment">//复制串s，返回新串</span></span><br><span class="line">Bool <span class="title function_">StrEqual</span><span class="params">(strLink *s,strLink *t)</span>;                   <span class="comment">//判串相等</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    strLink *s,*s1,*s2,*s3,*s4,*s5;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;链串的基本运算如下:\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (1)建立串s和串s1\n&quot;</span>);</span><br><span class="line">    s = InitStr();</span><br><span class="line">    StrAssign(s,<span class="string">&quot;abcdefghijklmn&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (2)输出串s:&quot;</span>);</span><br><span class="line">    DispStr(s);</span><br><span class="line">    s1 = InitStr();</span><br><span class="line">    StrAssign(s1,<span class="string">&quot;123&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (2)输出串s1:&quot;</span>);</span><br><span class="line">    DispStr(s1);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (3)串s的长度:%d\n&quot;</span>,StrLength(s));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (4)在串s的第9个字符位置插入串s1而产生串s2\n&quot;</span>);</span><br><span class="line">    s2 = InsStr(s,<span class="number">9</span>,s1);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (5)输出串s2:&quot;</span>);</span><br><span class="line">    DispStr(s2);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (6)删除串s第2个字符开始的5个字符而产生串s2\n&quot;</span>);</span><br><span class="line">    s2=DelStr(s,<span class="number">2</span>,<span class="number">5</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (7)输出串s2:&quot;</span>);</span><br><span class="line">    DispStr(s2);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (8)将串s第2个字符开始的5个字符替换成串s1而产生串s2\n&quot;</span>);</span><br><span class="line">    s2 = RepStr(s,<span class="number">2</span>,<span class="number">5</span>,s1);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (9)输出串s2:&quot;</span>);</span><br><span class="line">    DispStr(s2);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (10)提取串s的第2个字符开始的10个字符而产生串s3\n&quot;</span>);</span><br><span class="line">    s3 = SubStr(s,<span class="number">2</span>,<span class="number">10</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (11)输出串s3:&quot;</span>);</span><br><span class="line">    DispStr(s3);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (12)将串s和串s1连接起来而产生串s4\n&quot;</span>);</span><br><span class="line">    s4 = Concat(s,s1);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (13)输出串s4:&quot;</span>);</span><br><span class="line">    DispStr(s4);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (14)复制串s返回s5\n&quot;</span>);</span><br><span class="line">    s5 = StrCopy(s);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (15)输出串s5:&quot;</span>);</span><br><span class="line">    DispStr(s5);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (16)比较串s和s5\n&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span>(StrEqual(s,s5))</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;  (17)串s和s5相等&quot;</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;  (17)串s和s5不相等&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">strLink * <span class="title function_">InitStr</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    strLink *tmp = (strLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strLink));</span><br><span class="line">    tmp-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">StrAssign</span><span class="params">(strLink *s,<span class="type">char</span> cstr[])</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">    strLink *tmp,*p;</span><br><span class="line">    p = s;</span><br><span class="line">    <span class="keyword">while</span>(cstr[i] != <span class="string">&#x27;\0&#x27;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        tmp = (strLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strLink));</span><br><span class="line">        tmp-&gt;data = cstr[i];</span><br><span class="line">        p-&gt;next = tmp;</span><br><span class="line">        p = tmp;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    p-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">DispStr</span><span class="params">(strLink *s)</span></span><br><span class="line">&#123;</span><br><span class="line">    strLink *tmp = s-&gt;next;</span><br><span class="line">    <span class="keyword">while</span> (tmp != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c &quot;</span>,tmp-&gt;data);</span><br><span class="line">        tmp = tmp-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">StrLength</span><span class="params">(strLink *s)</span></span><br><span class="line">&#123;</span><br><span class="line">    strLink *tmp = s-&gt;next;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (tmp != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        i++;</span><br><span class="line">        tmp = tmp-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> i;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">strLink * <span class="title function_">InsStr</span><span class="params">(strLink *s,<span class="type">int</span> i,strLink *t)</span></span><br><span class="line">&#123;</span><br><span class="line">    strLink *tmp,*p1=s-&gt;next,*p2=t-&gt;next,*q,*r;</span><br><span class="line">    <span class="type">int</span> j;</span><br><span class="line">    tmp = (strLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strLink));</span><br><span class="line">    tmp-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    i--;    <span class="comment">//  逻辑顺序转物理顺序</span></span><br><span class="line">    <span class="keyword">if</span>(i &lt; <span class="number">0</span> || i &gt; StrLength(s))</span><br><span class="line">        <span class="keyword">return</span> tmp;</span><br><span class="line"></span><br><span class="line">    r = tmp;</span><br><span class="line">    <span class="keyword">for</span> ( j = <span class="number">0</span>; j &lt; i; j++)</span><br><span class="line">    &#123;</span><br><span class="line">        q = (strLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strLink));</span><br><span class="line">        q-&gt;data = p1-&gt;data;</span><br><span class="line">        r-&gt;next = q;</span><br><span class="line">        r = q;</span><br><span class="line">        p1 = p1-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(p2 != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        q = (strLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strLink));</span><br><span class="line">        q-&gt;data = p2-&gt;data;</span><br><span class="line">        r-&gt;next = q;</span><br><span class="line">        r = q;</span><br><span class="line">        p2 = p2-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> ( j = i; j &lt; StrLength(s); j++)</span><br><span class="line">    &#123;</span><br><span class="line">        q = (strLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strLink));</span><br><span class="line">        q-&gt;data = p1-&gt;data;</span><br><span class="line">        r-&gt;next = q;</span><br><span class="line">        r = q;</span><br><span class="line">        p1 = p1-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    r-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> tmp;  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">strLink *<span class="title function_">DelStr</span><span class="params">(strLink *s,<span class="type">int</span> i,<span class="type">int</span> j)</span></span><br><span class="line">&#123;</span><br><span class="line">    strLink *tmp,*r,*q,*p = s-&gt;next;</span><br><span class="line">    <span class="type">int</span> k=<span class="number">0</span>;</span><br><span class="line">    tmp = (strLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strLink));</span><br><span class="line">    tmp-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(i+j<span class="number">-1</span> &gt; StrLength(s))</span><br><span class="line">        <span class="keyword">return</span> tmp;</span><br><span class="line">    r = tmp;</span><br><span class="line">    i--;</span><br><span class="line">    <span class="keyword">while</span> (k &lt; i)</span><br><span class="line">    &#123;</span><br><span class="line">        q = (strLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strLink));</span><br><span class="line">        q-&gt;data = p-&gt;data;</span><br><span class="line">        r-&gt;next = q;</span><br><span class="line">        r = q;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">        k++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (k &lt; i+j)&#123;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">        k++;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> ( k &lt; StrLength(s))</span><br><span class="line">    &#123;</span><br><span class="line">        q = (strLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strLink));</span><br><span class="line">        q-&gt;data = p-&gt;data;</span><br><span class="line">        r-&gt;next = q;</span><br><span class="line">        r = q;</span><br><span class="line">        p = p-&gt;next;  </span><br><span class="line">        k++;    </span><br><span class="line">    &#125;</span><br><span class="line">    r-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">strLink *<span class="title function_">RepStr</span><span class="params">(strLink *s,<span class="type">int</span> i,<span class="type">int</span> j,strLink *t)</span></span><br><span class="line">&#123;</span><br><span class="line">    strLink *tmp,*r,*q,*p1=s-&gt;next,*p2=t-&gt;next;</span><br><span class="line">    <span class="type">int</span> k = <span class="number">0</span>;</span><br><span class="line">    tmp = (strLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strLink));</span><br><span class="line">    tmp-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(i+j<span class="number">-1</span> &gt; StrLength(s))</span><br><span class="line">        <span class="keyword">return</span> tmp;</span><br><span class="line">    r = tmp;</span><br><span class="line">    i--;</span><br><span class="line">    <span class="keyword">while</span> (k &lt; i)</span><br><span class="line">    &#123;</span><br><span class="line">        q = (strLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strLink));</span><br><span class="line">        q-&gt;data = p1-&gt;data;</span><br><span class="line">        r-&gt;next = q;</span><br><span class="line">        r = q;</span><br><span class="line">        p1 = p1-&gt;next;</span><br><span class="line">        k++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (p2 != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        q = (strLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strLink));</span><br><span class="line">        q-&gt;data = p2-&gt;data;</span><br><span class="line">        r-&gt;next = q;</span><br><span class="line">        r = q;</span><br><span class="line">        p2 = p2-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (k &lt; i+j)</span><br><span class="line">    &#123;</span><br><span class="line">        p1 = p1-&gt;next;</span><br><span class="line">        k++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> ( k &lt; StrLength(s))</span><br><span class="line">    &#123;</span><br><span class="line">        q = (strLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strLink));</span><br><span class="line">        q-&gt;data = p1-&gt;data;</span><br><span class="line">        r-&gt;next = q;</span><br><span class="line">        r = q;</span><br><span class="line">        p1 = p1-&gt;next;  </span><br><span class="line">        k++;    </span><br><span class="line">    &#125;</span><br><span class="line">    r-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> tmp;   </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">strLink * <span class="title function_">SubStr</span><span class="params">(strLink *s,<span class="type">int</span> i,<span class="type">int</span> j)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> k = <span class="number">0</span>;</span><br><span class="line">    strLink *tmp,*p = s-&gt;next,*r,*q;</span><br><span class="line">    tmp = (strLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strLink));</span><br><span class="line">    tmp-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(i<span class="number">-1</span>+j &gt; StrLength(s))</span><br><span class="line">        <span class="keyword">return</span> tmp;</span><br><span class="line">    r = tmp;</span><br><span class="line">    i--;</span><br><span class="line">    <span class="keyword">while</span> (k &lt; i)</span><br><span class="line">    &#123;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">        k++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (k &lt; i+j)</span><br><span class="line">    &#123;</span><br><span class="line">        q = (strLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strLink));</span><br><span class="line">        q-&gt;data = p-&gt;data;</span><br><span class="line">        r-&gt;next = q;</span><br><span class="line">        r = q;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">        k++;</span><br><span class="line">    &#125;</span><br><span class="line">    r-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> tmp; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">strLink * <span class="title function_">Concat</span><span class="params">(strLink *s,strLink *t)</span></span><br><span class="line">&#123;</span><br><span class="line">    strLink *tmp,*r,*q,*p1 =s-&gt;next,*p2=t-&gt;next;</span><br><span class="line">    tmp = (strLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strLink));</span><br><span class="line">    tmp-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    r = tmp;</span><br><span class="line">    <span class="keyword">while</span> (p1 != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        q = (strLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strLink));</span><br><span class="line">        q-&gt;data = p1-&gt;data;</span><br><span class="line">        r-&gt;next = q;</span><br><span class="line">        r = q;</span><br><span class="line">        p1 = p1-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (p2 != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        q = (strLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strLink));</span><br><span class="line">        q-&gt;data = p2-&gt;data;</span><br><span class="line">        r-&gt;next = q;</span><br><span class="line">        r = q;</span><br><span class="line">        p2 = p2-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    r-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//   复制串s，返回新串</span></span><br><span class="line">strLink * <span class="title function_">StrCopy</span><span class="params">(strLink *s)</span></span><br><span class="line">&#123;</span><br><span class="line">    strLink *tmp,*r,*q,*p1=s-&gt;next;</span><br><span class="line">    tmp = (strLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strLink));</span><br><span class="line">    tmp-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    r = tmp;</span><br><span class="line">    <span class="keyword">while</span> (p1 != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        q = (strLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strLink));</span><br><span class="line">        q-&gt;data = p1-&gt;data;</span><br><span class="line">        r-&gt;next = q;</span><br><span class="line">        r = q;</span><br><span class="line">        p1 = p1-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//  串相等</span></span><br><span class="line">Bool <span class="title function_">StrEqual</span><span class="params">(strLink *s,strLink *t)</span></span><br><span class="line">&#123;</span><br><span class="line">    strLink *p1=s-&gt;next,*p2=t-&gt;next;</span><br><span class="line">    <span class="keyword">if</span>(StrLength(s) != StrLength(t))</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (p1 != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(p1-&gt;data != p2-&gt;data)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">        p1=p1-&gt;next;</span><br><span class="line">        p2=p2-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
	</div>

<div class="meta">
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="2020/06/14/leetcode-1300/">leetcode 1300m 转变数组后最接近目标值的数组和</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2020-06-14T05:00:00.000Z" itemprop="datePublished">Jun 14, 2020</time>
</div>
      <div class="tags">Tags: 

<a href="/tags/leetcode/">leetcode</a>
</div>
    </div>
      
        <h4><span id="ti-mu-miao-shu">题目描述</span><a href="#ti-mu-miao-shu" class="header-anchor">#</a></h4><p>给你一个整数数组 <code>arr</code> 和一个目标值 <code>target</code> ，请你返回一个整数 <code>value</code> ，使得将数组中所有大于 <code>value</code> 的值变成 <code>value</code> 后，数组的和最接近  <code>target</code> （最接近表示两者之差的绝对值最小）。</p>
<p>如果有多种使得和最接近 <code>target</code> 的方案，请你返回这些整数中的最小值。</p>
<p>请注意，答案不一定是 <code>arr</code> 中的数字。</p>
<p>示例1:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">输入：arr = [4,9,3], target = 10</span><br><span class="line">输出：3</span><br><span class="line">解释：当选择 value 为 3 时，数组会变成 [3, 3, 3]，和为 9 ，这是最接近 target 的方案。</span><br></pre></td></tr></table></figure>

<h4><span id="suan-fa">算法</span><a href="#suan-fa" class="header-anchor">#</a></h4><ol>
<li>排序数组</li>
<li>遍历数组，找到 $i$ ，使得 $i$ 满足 $sum_{i-1} + arr[i] \times (arrSize - i) &gt; target$ $(sum_i$表示从$0$至$i$的累加和$)$ 。<br>找到 $i$ 之后，表示结果 $value &lt; arr[i]$，即从 $i$ 开始以后的元素都使用 $value$ 代替，于是 $value$ 约等于 $(target-sum_{i-1}) \div (arrSize - i)$，说约等于因为这里可能结果不是整数，所以需要根据题意找到最优解（最接近，最小）。</li>
<li>当 $i&#x3D;&#x3D;arrSize$ 时，表示数组元素之和小于 $target$ ，返回数组的最大元素即可。</li>
</ol>
<h4><span id="c-dai-ma">C代码</span><a href="#c-dai-ma" class="header-anchor">#</a></h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">bubble</span><span class="params">(<span class="type">int</span>* arr, <span class="type">int</span> arrSize)</span>;</span><br><span class="line"><span class="type">int</span> <span class="title function_">findBestValue</span><span class="params">(<span class="type">int</span>* arr, <span class="type">int</span> arrSize, <span class="type">int</span> target)</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> arr[] = &#123;<span class="number">4</span>,<span class="number">9</span>,<span class="number">3</span>&#125;;</span><br><span class="line">    <span class="type">int</span> n = <span class="number">3</span>,target = <span class="number">10</span>;</span><br><span class="line">    <span class="type">int</span> value = findBestValue(&amp;arr[<span class="number">0</span>],n,target);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;value=%d&quot;</span>,value);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//  排序</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">bubble</span><span class="params">(<span class="type">int</span>* arr, <span class="type">int</span> arrSize)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;arrSize<span class="number">-1</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> flag = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=arrSize<span class="number">-1</span>;j&gt;i;j--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(arr[j] &lt; arr[j<span class="number">-1</span>])</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="type">int</span> temp = arr[j];</span><br><span class="line">                arr[j] = arr[j<span class="number">-1</span>];</span><br><span class="line">                arr[j<span class="number">-1</span>] = temp;</span><br><span class="line">                flag = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(flag == <span class="number">1</span>) <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">findBestValue</span><span class="params">(<span class="type">int</span>* arr, <span class="type">int</span> arrSize, <span class="type">int</span> target)</span></span><br><span class="line">&#123;</span><br><span class="line">    bubble(&amp;arr[<span class="number">0</span>],arrSize);</span><br><span class="line">    <span class="type">int</span> i,sum=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;arrSize;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(sum + arr[i]*(arrSize-i) &gt; target) <span class="keyword">break</span>;</span><br><span class="line">        sum += arr[i];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(i == arrSize) <span class="keyword">return</span> arr[arrSize<span class="number">-1</span>];</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> value = (target-sum)/(arrSize-i);</span><br><span class="line">    <span class="type">double</span> value_1 = (<span class="type">double</span>)(target-sum)/(arrSize-i);</span><br><span class="line">    <span class="keyword">if</span>(value_1 - value &gt; <span class="number">0.5</span>)</span><br><span class="line">        <span class="keyword">return</span> value+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> value;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4><span id="shi-jian-fu-za-du">时间复杂度</span><a href="#shi-jian-fu-za-du" class="header-anchor">#</a></h4><p>算法的时间复杂度为排序算法时间复杂度 $O(n^2)$</p>

      
	</div>

<div class="meta">
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="2020/06/13/mount-tiantang/">风雨天堂顶</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2020-06-13T19:00:00.000Z" itemprop="datePublished">Jun 14, 2020</time>
</div>
      <div class="tags">Tags: 

<a href="/tags/爬山/">爬山</a> <a href="/tags/游玩/">游玩</a>
</div>
    </div>
      
        <p><audio src="http://images.nfncb.cn/m/%E4%BB%8A%E5%A4%A9%E5%8F%AA%E5%81%9A%E4%B8%80%E4%BB%B6%E4%BA%8B.mp3" controls autoplay loop preload="auto">别试了，是你的浏览器渣渣</audio></p>
<p>最近特别想去爬山，正好在朋友圈看到徒步天堂顶的报团活动，于是就拉上朋友一起参加了。</p>
<p>出发前一天，和朋友一起去超市买水果和零食。想到上次因为食物不足导致后期体力不支，就不由的想买多一点。</p>
<p>当天早上7:30出发，整个团有50人。考虑到人数多，体力也各不一样，所以随行有三个领队，按不同的速度行进，尽量的照顾到每个人。<br>到达良口镇时已经9点多了，大家都跟着领队做一遍热身后就开始上山了。</p>
<p>一开始上山的路还算好走，沿途风景很不错，红花绿叶蜜蜂，小桥流水院子，悠闲宁静。<br>虽然没有蓝天白云，但是满眼的都是青山绿水，感觉很舒服。</p>
<img src="http://tvax4.sinaimg.cn/large/7d4c6366gy1gft59thvduj20ni0swkjl.jpg" width="700" align="bottom">

<p>沿途会经过一处漂流点，这才想起来，从化也是有漂流的。<br>经过漂流点之后就正式上山了。</p>
<p>上山的路就不太好走了。<br>可能是最近持续下雨的缘故，地面露出了很多石头和树根。<br>甚至有的是尖锐的石头，有个小伙伴在下坡的时候，不小心就被石头划到了手指，经过简单包扎后，幸好无大碍。最后看他拿出了手套戴上，大家就都明白了——老司机翻车了。<br>相比于火炉山凤凰山的路，很明显这种的路更加有趣，但是相对的也比较危险。<br><img src="http://tva2.sinaimg.cn/large/7d4c6366gy1gft5b3mqlhj20qo0zkka6.jpg" width="700" align="bottom"></p>
<p>上山没多久就遇到了急升坡，路本来就难走，加上又陡又长的坡，于是大队人马都堵在了坡上。<br>因为不好崔前面的人，又没有其他的路，于是大家只能耐心的排着队上坡。<br>现在想起来，即使当时下着雨，也没有听见有一个人催促快点，这种情况在挤公交挤地铁的时候是绝不可能看到的。可能亲近了大自然，心性也变得没那么燥了。</p>
<p>上了急升坡后，到达一个视野比较开阔的地方。<br>天气还是多云，虽然看不到远处的风景，但是看到郁郁葱葱的山谷，蒙蒙细雨伴随着阵阵凉风，把疲倦都吹跑了，令人神清气爽。</p>
<img src="http://tva1.sinaimg.cn/large/7d4c6366gy1gft5bwrzgdj21c50ovx6p.jpg" width="700" align="bottom">

<p>中午在海拔1000米的附顶用餐，冰镇西瓜，可乐，水果还有各种零食，大家都发挥了分享精神。我们带了足够的水，加上天气没那么热，所以拿出了500ml水给有需要的人。</p>
<p>填饱肚子之余不忘与陌生的同伴闲聊几句，分享沿途的趣事。</p>
<p>用餐后休息一下，就向海拔1200米的顶峰出发了。<br>可能是一路有细雨的原因，状态越走越好，感觉很快的就到达了顶峰。</p>
<p>到达顶峰自然是各种拍拍拍，大家都排着队和块牌子拍照，哈哈哈……<br>顶峰的雾很大，能见度很低，能看到的风景很有限，于是玩了一下就去下一站了。</p>
<img src="http://tva4.sinaimg.cn/large/7d4c6366gy1gft5cjxalqj23402c0npg.jpg" alt="天堂顶峰" width="700" align="bottom">
<center>天堂顶峰</center>

<p>猴子岭就在距离天堂顶不到100米的地方，到了后同样是拍拍拍，短暂逗留一下就准备下山了。</p>
<img src="http://tvax1.sinaimg.cn/large/7d4c6366gy1gft5cvyzncj23402c0b2b.jpg" alt="猴子岭峰" width="700" align="bottom">
<center>猴子岭峰</center>



<p>下山的途中拍到一处美景，不过很快就消失了，又变成了一大片乌云。</p>
<p>因为云时刻都在飘动，要刚好遇到云都被吹开了，看到了蓝天，看到了太阳光在云上的折射，还是挺难得的。</p>
<img src="http://tva2.sinaimg.cn/large/7d4c6366gy1gft5dcy0g2j23402c04qs.jpg" width="700" align="bottom">

<p>下山的速度感觉挺快的。<br>可能注意力都在欣赏美景和寻找美景这件事上，所以反而没有感觉到路有多难走。</p>
<p>下山后需要继续走7公里的机耕路，才能到达影村。于是在山下补充一波食物后，开始往机耕路方向出发。</p>
<p>机耕路跟我想象中的完全不一样，全程都是下坡路，全程都布满了乱石，有些路段还出现了部分塌陷，有够惊险的。</p>
<p>其中几处路口被倒下的树木，竹子给挡住了，必须要钻过去，如果不是只有唯一一条路，差点都以为走到了绝境。</p>
<img src="http://tva1.sinaimg.cn/large/7d4c6366gy1gft5duuilpj20ni0swnpd.jpg" alt="机耕路" width="700" align="bottom">
<center>机耕路</center>

<p>第一次走机耕路走到失去耐心。期间问了自己好多次，爬山的目的是什么？走天堂顶和走凤凰山有什么区别？走个容易的不香吗。。。</p>
<img src="http://tvax3.sinaimg.cn/large/7d4c6366gy1gft5eb9xjfj20zk0qowuy.jpg" alt="厌走情绪" width="700" align="bottom">
<center>厌走情绪</center>

<p>下午6点多的时候，终于到达影村。</p>
<img src="http://tva4.sinaimg.cn/large/7d4c6366gy1gft5eo43amj23402c0u11.jpg" alt="影村" width="700" align="bottom">
<center>影村</center>

<p>再走10分钟就到达了驿站，看到先到达的小伙伴已经洗澡好吃饱在玩手机了。</p>
<p>这时候才知道，驿站提供洗浴服务，一次10块钱。早知道就带套干净衣服，带个拖鞋过来了，岂不美哉。</p>
<p>晚上7点多的时候，尾队的小伙伴才陆续到达。</p>
<img src="http://tvax2.sinaimg.cn/large/7d4c6366gy1gft5f31kl9j23402c01l1.jpg" alt="驿站" width="700" align="bottom">
<center>驿站</center>


<p>回家后发现，这次走天堂顶好像没看到什么美景。</p>
<p>怎么别人看到的是蓝天白云，重峦叠嶂，色彩斑斓，云海林海……，我看到的却是大雾锁山，细雨带风……<br>我可能去了个“假的天堂顶”。</p>
<p>此时一个“可怕”的想法油然而生，找哪天天气好的，再去一次，真香啊。</p>
<p>也许这就是去天堂顶的原因吧，因为那里有未知的美景在等着我，因为未知，才值得期待。</p>

      
	</div>

<div class="meta">
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="2020/06/10/queue/">队列结构——顺序队列、循环队列、链队列</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2020-06-10T05:00:00.000Z" itemprop="datePublished">Jun 10, 2020</time>
</div>
      <div class="tags">Tags: 

<a href="/tags/数据结构/">数据结构</a> <a href="/tags/队列/">队列</a>
</div>
    </div>
      
        <h3><span id="dui-lie-jie-gou-de-ding-yi-he-shu-xing">队列结构的定义和属性</span><a href="#dui-lie-jie-gou-de-ding-yi-he-shu-xing" class="header-anchor">#</a></h3><p>定义：队列是一种与<a href="/2020/06/05/linear-list#%E7%BA%BF%E6%80%A7%E8%A1%A8%E7%9A%84%E5%AE%9A%E4%B9%89%E5%92%8C%E5%B1%9E%E6%80%A7">线性表</a>相似的线性结构。但仅允许在表的一端进行插入，而在表的另一端进行删除。</p>
<p>队列结构的几个属性：</p>
<ul>
<li>队尾：插入的一端叫做队尾</li>
<li>队头：删除的一端叫做队头</li>
<li>入队：向队列中插入新节点元素称为入队</li>
<li>出队：从队列中删除节点元素称为出队</li>
<li>队空：当队列中无节点元素时，表示队空</li>
<li>队满：当队列中节点超过允许存储空间时，表示队满（链队无队满的状态）</li>
</ul>
<p>从队列的基本定义和操作来看，队列是一种具有先进先出特点的数据结构。</p>
<h3><span id="dui-lie-jie-gou-de-chou-xiang-shu-ju-lei-xing">队列结构的抽象数据类型</span><a href="#dui-lie-jie-gou-de-chou-xiang-shu-ju-lei-xing" class="header-anchor">#</a></h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">ADT Queue</span><br><span class="line">&#123;</span><br><span class="line">数据对象：</span><br><span class="line">	D = &#123;ai | ai∈ElemType, i=<span class="number">1</span>,<span class="number">2</span>,…,n, n≧<span class="number">0</span> &#125; <span class="comment">//ElemType为类型标识符</span></span><br><span class="line">数据关系：</span><br><span class="line">	R = &#123;&lt;ai, ai+<span class="number">1</span>&gt; | ai, ai+<span class="number">1</span>∈D, i=<span class="number">1</span>,<span class="number">3</span>,…,n<span class="number">-1</span> &#125;</span><br><span class="line">数据操作：</span><br><span class="line">	(<span class="number">1</span>) queSeq * InitQueue();            		<span class="comment">//初始化队列</span></span><br><span class="line">	(<span class="number">2</span>) <span class="type">void</span> <span class="title function_">DestroyQueue</span><span class="params">(queSeq *q)</span>;         	<span class="comment">//销毁队列</span></span><br><span class="line">	(<span class="number">3</span>) Bool <span class="title function_">QueueEmpty</span><span class="params">(queSeq *q)</span>;            	<span class="comment">//判断队列是否为空</span></span><br><span class="line">	(<span class="number">4</span>) <span class="type">int</span> <span class="title function_">QueueLength</span><span class="params">(queSeq *q)</span>;            	<span class="comment">//返回队列中数据元素个数</span></span><br><span class="line">	(<span class="number">5</span>) <span class="type">void</span> <span class="title function_">enQueue</span><span class="params">(queSeq *q, ElemType e)</span>;  	<span class="comment">//入队</span></span><br><span class="line">	(<span class="number">6</span>) Bool <span class="title function_">deQueue</span><span class="params">(queSeq *q, ElemType *e)</span>; 	<span class="comment">//出队</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>可以发现，相比于线性表，队列的抽象运算和栈同样受到限制。</p>
<h3><span id="shun-xu-dui-lie">顺序队列</span><a href="#shun-xu-dui-lie" class="header-anchor">#</a></h3><p>顺序队列利用数组存放节点元素，同时设置两个变量 <code>front</code> 和 <code>rear</code> 分别保存队头和队尾的索引。</p>
<p><code>front</code> 保存队头索引，即是数组索引小的一端； <code>rear</code> 保存队尾索引，即是数组索引大的一端。</p>
<p>定义顺序队列的存储结构：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> MaxSize 50</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">char</span> ElemType;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    ElemType data[MaxSize];</span><br><span class="line">    <span class="type">int</span> front, rear;        <span class="comment">//  队头和队尾指针</span></span><br><span class="line">&#125; queSeq;</span><br></pre></td></tr></table></figure>

<p>初始化队列时，设置变量 <code>front</code> &#x3D; <code>rear</code> &#x3D; -1，表示队列为空。</p>
<p>队列执行增删操作时，都需要先把 <code>front</code> 或 <code>rear</code> 向前移动一位，然后再执行取值或赋值。</p>
<p>由此可知，<code>rear</code> 位置保存队尾元素，<code>front</code> 位置为空，<code>front+1</code> 位置保存队头元素。</p>
<p>当 <code>rear</code> &#x3D; <code>MaxSize - 1</code> 时，表示数组已达到存储上限，即是队满了。</p>
<p>当 <code>front</code> &#x3D; <code>rear</code> 时，表示队头和队尾保存同一个位置，因为逻辑上 <code>front</code> 位置为空，所以队列为空。</p>
<blockquote>
<p><code>front</code> 位置物理上不为空，因为并没有释放该位置的内存，只是逻辑上认为是空的。</p>
</blockquote>
<p>顺序队列代码实现：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> true 1</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> false 0</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MaxSize 50</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> Bool;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">char</span> ElemType;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    ElemType data[MaxSize];</span><br><span class="line">    <span class="type">int</span> front, rear;        <span class="comment">//  队头和队尾指针</span></span><br><span class="line">&#125; queSeq;</span><br><span class="line"></span><br><span class="line"><span class="comment">//  初始化顺序队列</span></span><br><span class="line">queSeq * <span class="title function_">InitQueue</span><span class="params">()</span>;            </span><br><span class="line"><span class="comment">//  销毁顺序队列</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">DestroyQueue</span><span class="params">(queSeq *q)</span>;         </span><br><span class="line"><span class="comment">//  判断顺序队列是否为空</span></span><br><span class="line">Bool <span class="title function_">QueueEmpty</span><span class="params">(queSeq *q)</span>;            </span><br><span class="line"><span class="comment">//  返回队列中元素个数，也称队列长度</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">QueueLength</span><span class="params">(queSeq *q)</span>;            </span><br><span class="line"><span class="comment">//  进队</span></span><br><span class="line">Bool <span class="title function_">enQueue</span><span class="params">(queSeq *q, ElemType e)</span>;  </span><br><span class="line"><span class="comment">//  出队</span></span><br><span class="line">Bool <span class="title function_">deQueue</span><span class="params">(queSeq *q, ElemType *e)</span>; </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    ElemType e;</span><br><span class="line">    queSeq *q;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(1)初始化队列q\n&quot;</span>);</span><br><span class="line">    q = InitQueue();</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(2)依次进队列元素a,b,c\n&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (enQueue(q, <span class="string">&#x27;a&#x27;</span>) == <span class="number">0</span>)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;队满,不能进队\n&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (enQueue(q, <span class="string">&#x27;b&#x27;</span>) == <span class="number">0</span>)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;队满,不能进队\n&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (enQueue(q, <span class="string">&#x27;c&#x27;</span>) == <span class="number">0</span>)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;队满,不能进队\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(3)队列为%s\n&quot;</span>, (QueueEmpty(q) == <span class="number">1</span>? <span class="string">&quot;空&quot;</span> : <span class="string">&quot;非空&quot;</span>));</span><br><span class="line">    <span class="keyword">if</span> (deQueue(q, &amp;e) == <span class="number">0</span>)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;队空,不能出队\n&quot;</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;(4)出队一个元素%c\n&quot;</span>, e);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(5)队列q的元素个数:%d\n&quot;</span>, QueueLength(q));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(6)依次进队列元素d,e,f\n&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (enQueue(q, <span class="string">&#x27;d&#x27;</span>) == <span class="number">0</span>)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;队满,不能进队\n&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (enQueue(q, <span class="string">&#x27;e&#x27;</span>) == <span class="number">0</span>)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;队满,不能进队\n&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (enQueue(q, <span class="string">&#x27;f&#x27;</span>) == <span class="number">0</span>)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;队满,不能进队\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(7)队列q的元素个数:%d\n&quot;</span>, QueueLength(q));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(8)出队列序列:&quot;</span>);</span><br><span class="line">    <span class="keyword">while</span> (!QueueEmpty(q))</span><br><span class="line">    &#123;</span><br><span class="line">        deQueue(q, &amp;e);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c &quot;</span>, e);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(9)释放队列\n&quot;</span>);</span><br><span class="line">    DestroyQueue(q);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//  初始化顺序队列</span></span><br><span class="line">queSeq * <span class="title function_">InitQueue</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    queSeq *tmp = (queSeq *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(queSeq));</span><br><span class="line">    tmp-&gt;front = tmp-&gt;rear = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//  销毁顺序队列</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">DestroyQueue</span><span class="params">(queSeq *q)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">free</span>(q);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//是否队空</span></span><br><span class="line">Bool <span class="title function_">QueueEmpty</span><span class="params">(queSeq *q)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(q-&gt;front == q-&gt;rear)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//队长</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">QueueLength</span><span class="params">(queSeq *q)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> q-&gt;rear - q-&gt;front;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//入队</span></span><br><span class="line">Bool <span class="title function_">enQueue</span><span class="params">(queSeq *q, ElemType e)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//是否队满</span></span><br><span class="line">    <span class="keyword">if</span>(q-&gt;rear == MaxSize - <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    </span><br><span class="line">    q-&gt;rear++;</span><br><span class="line">    q-&gt;data[q-&gt;rear] = e;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//出队</span></span><br><span class="line">Bool <span class="title function_">deQueue</span><span class="params">(queSeq *q, ElemType *e)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//是否队空</span></span><br><span class="line">    <span class="keyword">if</span>(QueueEmpty(q))</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    </span><br><span class="line">    q-&gt;front++;</span><br><span class="line">    *e = q-&gt;data[q-&gt;front];</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3><span id="xun-huan-dui-lie">循环队列</span><a href="#xun-huan-dui-lie" class="header-anchor">#</a></h3><p>顺序队列使用数组存储元素节点，随着队列增删元素，<code>front</code> 和 <code>rear</code> 的值会递增。</p>
<p>当 <code>rear</code> &#x3D; <code>front</code> 和 <code>rear</code> &#x3D; <code>MaxSize-1</code> 同时出现时，队列会出现队满的假象。</p>
<p>循环队列充分地使用数组的存储空间，把数组的两端连接起来（相当于把队头和队尾连接起来），形成一个环形的顺序表。从逻辑结构来看这是一个环形队列或循环队列，但是从数据存储的物理结构来看还是和原来的数组方式是一样的。</p>
<p>初始化队列时，设置变量 <code>front</code> &#x3D; <code>rear</code> &#x3D; 0，表示队列为空。</p>
<p>因为 <code>front</code> 位置默认为空，，即队列中 <code>front</code> 指向的位置始终为空，所以循环队列的最大存储数量为 <code>MaxSize-1</code>。</p>
<p>当 <code>rear</code> 向前移动一位与 <code>front</code> 相等时表示队满。这也是初始化是 <code>front</code> 和 <code>rear</code> 不能等于 <code>-1</code> 的原因。</p>
<p>循环队列代码实现：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> true 1</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> false 0</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MaxSize 5</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> Bool;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">char</span> ElemType;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    ElemType data[MaxSize];</span><br><span class="line">    <span class="type">int</span> front, rear;        <span class="comment">//  队头和队尾指针</span></span><br><span class="line">&#125; queCyc;</span><br><span class="line"></span><br><span class="line"><span class="comment">//  初始化循环队列</span></span><br><span class="line">queCyc * <span class="title function_">InitQueue</span><span class="params">()</span>;            </span><br><span class="line"><span class="comment">//  销毁循环队列</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">DestroyQueue</span><span class="params">(queCyc *q)</span>;         </span><br><span class="line"><span class="comment">//  判断循环队列是否为空</span></span><br><span class="line">Bool <span class="title function_">QueueEmpty</span><span class="params">(queCyc *q)</span>;            </span><br><span class="line"><span class="comment">//  返回队列中元素个数，也称队列长度</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">QueueLength</span><span class="params">(queCyc *q)</span>;            </span><br><span class="line"><span class="comment">//  进队</span></span><br><span class="line">Bool <span class="title function_">enQueue</span><span class="params">(queCyc *q, ElemType e)</span>;  </span><br><span class="line"><span class="comment">//  出队</span></span><br><span class="line">Bool <span class="title function_">deQueue</span><span class="params">(queCyc *q, ElemType *e)</span>; </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    ElemType e;</span><br><span class="line">    queCyc *q;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(1)初始化队列q\n&quot;</span>);</span><br><span class="line">    q = InitQueue();</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(2)依次进队列元素a,b,c\n&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (enQueue(q, <span class="string">&#x27;a&#x27;</span>) == <span class="number">0</span>)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;队满,不能进队\n&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (enQueue(q, <span class="string">&#x27;b&#x27;</span>) == <span class="number">0</span>)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;队满,不能进队\n&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (enQueue(q, <span class="string">&#x27;c&#x27;</span>) == <span class="number">0</span>)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;队满,不能进队\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(3)队列为%s\n&quot;</span>, (QueueEmpty(q) == <span class="number">1</span>? <span class="string">&quot;空&quot;</span> : <span class="string">&quot;非空&quot;</span>));</span><br><span class="line">    <span class="keyword">if</span> (deQueue(q, &amp;e) == <span class="number">0</span>)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;队空,不能出队\n&quot;</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;(4)出队一个元素%c\n&quot;</span>, e);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(5)队列q的元素个数:%d\n&quot;</span>, QueueLength(q));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(6)依次进队列元素d,e,f\n&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (enQueue(q, <span class="string">&#x27;d&#x27;</span>) == <span class="number">0</span>)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;队满,不能进队\n&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (enQueue(q, <span class="string">&#x27;e&#x27;</span>) == <span class="number">0</span>)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;队满,不能进队\n&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (enQueue(q, <span class="string">&#x27;f&#x27;</span>) == <span class="number">0</span>)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;队满,不能进队\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(7)队列q的元素个数:%d\n&quot;</span>, QueueLength(q));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(8)出队列序列:&quot;</span>);</span><br><span class="line">    <span class="keyword">while</span> (!QueueEmpty(q))</span><br><span class="line">    &#123;</span><br><span class="line">        deQueue(q, &amp;e);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c &quot;</span>, e);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(9)释放队列\n&quot;</span>);</span><br><span class="line">    DestroyQueue(q);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//  初始化循环队列</span></span><br><span class="line">queCyc * <span class="title function_">InitQueue</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    queCyc *tmp = (queCyc *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(queCyc));</span><br><span class="line">    tmp-&gt;front = tmp-&gt;rear = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//  销毁循环队列</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">DestroyQueue</span><span class="params">(queCyc *q)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">free</span>(q);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//是否队空</span></span><br><span class="line">Bool <span class="title function_">QueueEmpty</span><span class="params">(queCyc *q)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(q-&gt;front == q-&gt;rear)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//队长</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">QueueLength</span><span class="params">(queCyc *q)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(q-&gt;rear &gt;= q-&gt;front)</span><br><span class="line">        <span class="keyword">return</span> q-&gt;rear - q-&gt;front;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> q-&gt;rear + MaxSize - q-&gt;front;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//入队</span></span><br><span class="line">Bool <span class="title function_">enQueue</span><span class="params">(queCyc *q, ElemType e)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//是否队满</span></span><br><span class="line">    <span class="keyword">if</span>((q-&gt;rear+<span class="number">1</span>)%MaxSize == q-&gt;front)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    </span><br><span class="line">    q-&gt;rear++;</span><br><span class="line">    q-&gt;data[q-&gt;rear] = e;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//出队</span></span><br><span class="line">Bool <span class="title function_">deQueue</span><span class="params">(queCyc *q, ElemType *e)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//是否队空</span></span><br><span class="line">    <span class="keyword">if</span>(QueueEmpty(q))</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    </span><br><span class="line">    q-&gt;front++;</span><br><span class="line">    *e = q-&gt;data[q-&gt;front];</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3><span id="lian-dui-lie">链队列</span><a href="#lian-dui-lie" class="header-anchor">#</a></h3><p>链队的存储结构定义为：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="type">char</span> ElemType;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    ElemType data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125; queNode;              <span class="comment">//链队数据结点类型定义</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    queNode *front;</span><br><span class="line">    queNode *rear;</span><br><span class="line">&#125; queLink;   </span><br></pre></td></tr></table></figure>

<p>链队由两部分组成，分别是：<strong>数据节点组成的数据链队</strong>和<strong>两个指向数据节点的指针</strong>。<br>数据节点保存数据和后继节点的地址，两个指针分别指向队头和队尾的数据节点。</p>
<p>初始化队列时，设置指针变量 <code>front</code> &#x3D; <code>rear</code> &#x3D; <code>NULL</code>，表示队列为空。</p>
<p><code>front</code> 和 <code>rear</code> 不为空时， <code>front</code> 指向队头节点， <code>rear</code> 指向队尾节点。</p>
<p><code>rear</code> 为空时，表示队列为空。</p>
<blockquote>
<p>不能使用 <code>front</code> &#x3D; <code>rear</code> 作为 队列为空 的判断依据，因为当 <code>front</code> &#x3D; <code>rear</code> 时，有可能队列里还有一个元素。</p>
</blockquote>
<p>链队代码实现：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> true 1</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> false 0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> Bool;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">char</span> ElemType;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    ElemType data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125; queNode;              <span class="comment">//链队数据结点类型定义</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    queNode *front;</span><br><span class="line">    queNode *rear;</span><br><span class="line">&#125; queLink;                              <span class="comment">//链队类型定义</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">queLink * <span class="title function_">InitQueue</span><span class="params">()</span>;                  <span class="comment">//初始化链队</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">DestroyQueue</span><span class="params">(queLink *q)</span>;          <span class="comment">//销毁链队</span></span><br><span class="line">Bool <span class="title function_">QueueEmpty</span><span class="params">(queLink *q)</span>;            <span class="comment">//判断链队是否为空</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">QueueLength</span><span class="params">(queLink *q)</span>;            <span class="comment">//返回队列中数据元素个数</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">enQueue</span><span class="params">(queLink *q, ElemType e)</span>;   <span class="comment">//入队</span></span><br><span class="line">Bool <span class="title function_">deQueue</span><span class="params">(queLink *q, ElemType *e)</span>;  <span class="comment">//出队</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    ElemType e;</span><br><span class="line">    queLink *q;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(1)初始化链队q\n&quot;</span>);</span><br><span class="line">    q = InitQueue();</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(2)依次进链队元素a,b,c\n&quot;</span>);</span><br><span class="line">    enQueue(q, <span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">    enQueue(q, <span class="string">&#x27;b&#x27;</span>);</span><br><span class="line">    enQueue(q, <span class="string">&#x27;c&#x27;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(3)链队为%s\n&quot;</span>, (QueueEmpty(q) == <span class="number">1</span> ? <span class="string">&quot;空&quot;</span> : <span class="string">&quot;非空&quot;</span>));</span><br><span class="line">    <span class="keyword">if</span> (deQueue(q, &amp;e) == <span class="number">0</span>)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;队空,不能出队\n&quot;</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;(4)出队一个元素%c\n&quot;</span>, e);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(5)链队q的元素个数:%d\n&quot;</span>, QueueLength(q));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(6)依次进链队元素d,e,f\n&quot;</span>);</span><br><span class="line">    enQueue(q, <span class="string">&#x27;d&#x27;</span>);</span><br><span class="line">    enQueue(q, <span class="string">&#x27;e&#x27;</span>);</span><br><span class="line">    enQueue(q, <span class="string">&#x27;f&#x27;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(7)链队q的元素个数:%d\n&quot;</span>, QueueLength(q));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(8)出链队序列:&quot;</span>);</span><br><span class="line">    <span class="keyword">while</span> (!QueueEmpty(q))</span><br><span class="line">    &#123;</span><br><span class="line">        deQueue(q, &amp;e);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c &quot;</span>,e);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(9)释放链队\n&quot;</span>);</span><br><span class="line">    DestroyQueue(q);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//初始化</span></span><br><span class="line">queLink * <span class="title function_">InitQueue</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    queLink *tmp = (queLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(queLink));</span><br><span class="line">    <span class="comment">//默认头尾指针同时为NULL</span></span><br><span class="line">    tmp-&gt;front = tmp-&gt;rear = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//销毁</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">DestroyQueue</span><span class="params">(queLink *q)</span></span><br><span class="line">&#123;</span><br><span class="line">    queNode *node = q-&gt;front,*tmp;</span><br><span class="line">    <span class="keyword">while</span>(node != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;   </span><br><span class="line">        tmp = node;</span><br><span class="line">        <span class="comment">//node节点继续向后移动</span></span><br><span class="line">        node = node-&gt;next;</span><br><span class="line">        <span class="built_in">free</span>(tmp);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">free</span>(node);</span><br><span class="line">    <span class="built_in">free</span>(q);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//队列是否为空</span></span><br><span class="line">Bool <span class="title function_">QueueEmpty</span><span class="params">(queLink *q)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(q-&gt;rear == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">else</span> </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//队列长度</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">QueueLength</span><span class="params">(queLink *q)</span></span><br><span class="line">&#123;</span><br><span class="line">    queNode *node = q-&gt;front;</span><br><span class="line">    <span class="type">int</span> n = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(node != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        n++;</span><br><span class="line">        node = node-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> n;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 入队</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">enQueue</span><span class="params">(queLink *q, ElemType e)</span></span><br><span class="line">&#123;</span><br><span class="line">    queNode *node = (queNode *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(queNode));</span><br><span class="line">    node-&gt;data = e;</span><br><span class="line">    node-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="comment">//空队列时，把新节点赋值给头尾指针</span></span><br><span class="line">    <span class="comment">//当不为空队列时，把新节点赋值给尾指针的next指针，并把尾指针向后移动</span></span><br><span class="line">    <span class="keyword">if</span>(QueueEmpty(q))</span><br><span class="line">        q-&gt;front = q-&gt;rear = node;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        q-&gt;rear-&gt;next = node;</span><br><span class="line">        q-&gt;rear = node;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//出队</span></span><br><span class="line">Bool <span class="title function_">deQueue</span><span class="params">(queLink *q, ElemType *e)</span></span><br><span class="line">&#123;</span><br><span class="line">    queNode *node;</span><br><span class="line">    <span class="comment">//空队列时，直接return</span></span><br><span class="line">    <span class="keyword">if</span>(QueueEmpty(q))</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    </span><br><span class="line">    node = q-&gt;front;</span><br><span class="line">    <span class="comment">//只剩下一个节点时，把头尾指针重新赋值为NULL</span></span><br><span class="line">    <span class="comment">//剩余多个节点时，把头节点响后移动</span></span><br><span class="line">    <span class="keyword">if</span> (node-&gt;next == <span class="literal">NULL</span>)</span><br><span class="line">        q-&gt;front = q-&gt;rear = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        q-&gt;front = q-&gt;front-&gt;next;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//节点取值，通过指针传值</span></span><br><span class="line">    *e = node-&gt;data;</span><br><span class="line">    <span class="built_in">free</span>(node);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
	</div>

<div class="meta">
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="2020/06/08/stack/">栈结构——顺序栈、链栈</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2020-06-08T05:00:00.000Z" itemprop="datePublished">Jun 8, 2020</time>
</div>
      <div class="tags">Tags: 

<a href="/tags/数据结构/">数据结构</a> <a href="/tags/栈/">栈</a>
</div>
    </div>
      
        <h3><span id="zhan-jie-gou-de-ding-yi-he-shu-xing">栈结构的定义和属性</span><a href="#zhan-jie-gou-de-ding-yi-he-shu-xing" class="header-anchor">#</a></h3><p>定义：栈是一种与<a href="/2020/06/05/linear-list#%E7%BA%BF%E6%80%A7%E8%A1%A8%E7%9A%84%E5%AE%9A%E4%B9%89%E5%92%8C%E5%B1%9E%E6%80%A7">线性表</a>相似的线性结构。<br>不同之处是当需要对节点做增删操作时，只能操作栈顶的节点，因此具有先进后出（或者后进先出）的特点。</p>
<p>按存储结构的不同，可分为顺序栈和链栈。</p>
<p>栈结构的几个属性：</p>
<ul>
<li>栈顶&#x2F;栈底：可接受节点增删操作的一端称为栈顶，另一端称为栈底</li>
<li>入栈：在栈顶一端新增节点的操作称为入栈</li>
<li>出栈：在栈顶一端删除节点的操作称为出栈</li>
<li>栈满：当栈中节点超过允许存储空间时，表示栈满（链栈无栈满的状态）</li>
<li>栈空：当栈中无节点元素时，表示栈空</li>
</ul>
<h3><span id="zhan-jie-gou-de-chou-xiang-shu-ju-lei-xing">栈结构的抽象数据类型</span><a href="#zhan-jie-gou-de-chou-xiang-shu-ju-lei-xing" class="header-anchor">#</a></h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">ADT Stack</span><br><span class="line">&#123;</span><br><span class="line">数据对象：</span><br><span class="line">    D = &#123;ai | ai ∈ ElemType, i=<span class="number">1</span>,<span class="number">2</span>,…,n, n&gt;=<span class="number">0</span> &#125;              <span class="comment">// ElemType为类型标识符</span></span><br><span class="line">数据关系：</span><br><span class="line">    R = &#123;&lt;ai, ai+<span class="number">1</span>&gt; | ai, ai+<span class="number">1</span>∈D, i=<span class="number">1</span>,<span class="number">3</span>,…,n<span class="number">-1</span> &#125;</span><br><span class="line">数据操作：</span><br><span class="line">    (<span class="number">1</span>) stackSeq * InitStack();    				<span class="comment">//	初始化栈</span></span><br><span class="line">    (<span class="number">2</span>) <span class="type">void</span> <span class="title function_">DestroyStack</span><span class="params">(stackSeq *s)</span>; 		<span class="comment">//	销毁栈</span></span><br><span class="line">    (<span class="number">3</span>) Bool <span class="title function_">StackEmpty</span><span class="params">(stackSeq *s)</span>;   		<span class="comment">//	栈是否为空</span></span><br><span class="line">    (<span class="number">4</span>) Bool <span class="title function_">StackFull</span><span class="params">(stackSeq *s)</span>;    		<span class="comment">//	栈是否为满</span></span><br><span class="line">    (<span class="number">5</span>) <span class="type">int</span> <span class="title function_">StackLength</span><span class="params">(stackSeq *s)</span>;  			<span class="comment">//	返回栈中元素个数——栈长度</span></span><br><span class="line">    (<span class="number">6</span>) Bool <span class="title function_">Push</span><span class="params">(stackSeq *s,ElemType e)</span>; 		<span class="comment">//	入栈</span></span><br><span class="line">    (<span class="number">7</span>) <span class="type">void</span> <span class="title function_">Pop</span><span class="params">(stackSeq *s,ElemType *e)</span>; 		<span class="comment">//	出栈</span></span><br><span class="line">    (<span class="number">8</span>) Bool <span class="title function_">GetTop</span><span class="params">(stackSeq *s,ElemType *e)</span>; 	<span class="comment">//	取栈顶数据元素</span></span><br><span class="line">    (<span class="number">9</span>) <span class="type">void</span> <span class="title function_">DispStack</span><span class="params">(stackSeq *s)</span>;  			<span class="comment">//	输出栈</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>对比线性表的抽象数据类型可以发现，栈的抽象数据类型少了 <strong>返回指定序号的元素</strong> 和 <strong>返回指定元素的序号</strong> 两个方法，并且插入节点和删除节点方法也有位置上的限制，这些在计算上的限制正是栈结构的特点，因此栈也被称为受限的线性表。</p>
<h3><span id="shun-xu-zhan">顺序栈</span><a href="#shun-xu-zhan" class="header-anchor">#</a></h3><p>顺序栈的存储结构是利用一组地址连续的存储空间依次存放自栈底到栈顶的数据元素，同时设置栈顶元素的下标 <code>top</code> 指向栈顶元素的位置。</p>
<p>定义顺序栈的存储结构：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> MaxSize 50</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">char</span> ElemType;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    ElemType data[MaxSize];</span><br><span class="line">    <span class="type">int</span> top;                </span><br><span class="line">&#125; stackSeq;  </span><br></pre></td></tr></table></figure>


<p>顺序栈代码实现：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MaxSize 50</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> true 1</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> false 0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> Bool;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">char</span> ElemType;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    ElemType data[MaxSize];</span><br><span class="line">    <span class="type">int</span> top;                </span><br><span class="line">&#125; stackSeq;                          </span><br><span class="line"></span><br><span class="line"><span class="comment">//初始化栈</span></span><br><span class="line">stackSeq * <span class="title function_">InitStack</span><span class="params">()</span>;    </span><br><span class="line"><span class="comment">//销毁栈</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">DestroyStack</span><span class="params">(stackSeq *s)</span>;  </span><br><span class="line"><span class="comment">//栈是否为空</span></span><br><span class="line">Bool <span class="title function_">StackEmpty</span><span class="params">(stackSeq *s)</span>;    </span><br><span class="line"><span class="comment">//栈是否为满</span></span><br><span class="line">Bool <span class="title function_">StackFull</span><span class="params">(stackSeq *s)</span>;     </span><br><span class="line"><span class="comment">//返回栈中元素个数——栈长度</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">StackLength</span><span class="params">(stackSeq *s)</span>;  </span><br><span class="line"><span class="comment">//入栈</span></span><br><span class="line">Bool <span class="title function_">Push</span><span class="params">(stackSeq *s,ElemType e)</span>; </span><br><span class="line"><span class="comment">//出栈</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">Pop</span><span class="params">(stackSeq *s,ElemType *e)</span>; </span><br><span class="line"><span class="comment">//取栈顶数据元素</span></span><br><span class="line">Bool <span class="title function_">GetTop</span><span class="params">(stackSeq *s,ElemType *e)</span>; </span><br><span class="line"><span class="comment">//输出栈</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">DispStack</span><span class="params">(stackSeq *s)</span>;  </span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    ElemType e;</span><br><span class="line">    stackSeq *s;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(1)初始化栈s\n&quot;</span>);</span><br><span class="line">    s = InitStack();</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(2)栈为%s\n&quot;</span>,(StackEmpty(s) == <span class="number">1</span>?<span class="string">&quot;空&quot;</span>:<span class="string">&quot;非空&quot;</span>));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(3)依次进栈元素a,b,c,d,e\n&quot;</span>);</span><br><span class="line">    Push(s,<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">    Push(s,<span class="string">&#x27;b&#x27;</span>);</span><br><span class="line">    Push(s,<span class="string">&#x27;c&#x27;</span>);</span><br><span class="line">    Push(s,<span class="string">&#x27;d&#x27;</span>);</span><br><span class="line">    Push(s,<span class="string">&#x27;e&#x27;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(4)栈为%s\n&quot;</span>,(StackEmpty(s) == <span class="number">1</span>?<span class="string">&quot;空&quot;</span>:<span class="string">&quot;非空&quot;</span>));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(5)栈长度:%d\n&quot;</span>,StackLength(s));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(6)从栈顶到栈底元素:&quot;</span>);DispStack(s);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(7)出栈序列:&quot;</span>);</span><br><span class="line">    <span class="keyword">while</span> (!StackEmpty(s))</span><br><span class="line">    &#123;</span><br><span class="line">        Pop(s,&amp;e);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c &quot;</span>,e);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(8)栈为%s\n&quot;</span>,(StackEmpty(s) == <span class="number">1</span>?<span class="string">&quot;空&quot;</span>:<span class="string">&quot;非空&quot;</span>));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(9)释放栈\n&quot;</span>);</span><br><span class="line">    DestroyStack(s);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">stackSeq * <span class="title function_">InitStack</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    stackSeq *tmp = (stackSeq *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(stackSeq));</span><br><span class="line">    tmp-&gt;top = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Bool <span class="title function_">StackEmpty</span><span class="params">(stackSeq *s)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (s-&gt;top == <span class="number">-1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Bool <span class="title function_">StackFull</span><span class="params">(stackSeq *s)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (s-&gt;top == MaxSize<span class="number">-1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Bool <span class="title function_">Push</span><span class="params">(stackSeq *s,ElemType e)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//  判断是否满栈</span></span><br><span class="line">    <span class="keyword">if</span>(StackFull(s)) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    s-&gt;top++;</span><br><span class="line">    s-&gt;data[s-&gt;top] = e;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">StackLength</span><span class="params">(stackSeq *s)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> s-&gt;top + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">DispStack</span><span class="params">(stackSeq *s)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> top = s-&gt;top;</span><br><span class="line">    <span class="keyword">while</span> (top &gt; <span class="number">-1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c\t&quot;</span>,s-&gt;data[top]);</span><br><span class="line">        top--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Pop</span><span class="params">(stackSeq *s,ElemType *e)</span></span><br><span class="line">&#123;</span><br><span class="line">    *e = s-&gt;data[s-&gt;top];</span><br><span class="line">    s-&gt;top--;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">DestroyStack</span><span class="params">(stackSeq *s)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">free</span>(s);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3><span id="lian-zhan">链栈</span><a href="#lian-zhan" class="header-anchor">#</a></h3><p>链栈的实现与<a href="/2020/06/05/linear-list#%E9%93%BE%E8%A1%A8">头插法的链表</a>很相似。</p>
<p>链栈的存储结构定义为：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> ElemType;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    ElemType data;              </span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">next</span>;</span>      </span><br><span class="line">&#125; stackLink; </span><br></pre></td></tr></table></figure>
<p>链栈的存储结构与链表一样，区别在于链表的指针始终指向第一个节点，而链栈的指针始终指向栈顶节点。</p>
<blockquote>
<p>链栈的存储结构也可以定义为：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="keyword">typedef</span> <span class="type">int</span> ElemType;</span><br><span class="line">&gt;<span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class">&gt;</span>&#123;</span><br><span class="line">   ElemType data;              </span><br><span class="line">   <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">next</span>;</span>      </span><br><span class="line">&gt;&#125; stackNode; </span><br><span class="line"></span><br><span class="line">&gt;<span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&gt;</span>&#123;</span><br><span class="line">   stackNode *top;</span><br><span class="line">&gt;&#125; stackLink;  </span><br></pre></td></tr></table></figure>

<p>但是结构体变量 <code>stackLink</code> 只包含一个成员，所以直接把成员定义成变量。</p>
<p>因为 <code>struct Node *next</code> 与 <code>stackNode *top</code> 一样作用，所以直接使用结构体变量 <code>stackNode</code> 初始化链栈。</p>
<p>最后链栈的存储结构定义为：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="keyword">typedef</span> <span class="type">int</span> ElemType;</span><br><span class="line">&gt;<span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class">&gt;</span>&#123;</span><br><span class="line">   ElemType data;              </span><br><span class="line">   <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">next</span>;</span>      </span><br><span class="line">&gt;&#125; stackLink; </span><br></pre></td></tr></table></figure>

</blockquote>
<p>链栈的抽象运算与顺序栈一致，但是由于存储结构不一样，所以具体实现也完全不一样。</p>
<p>链栈代码实现：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> true 1</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> false 0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">char</span> ElemType;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> Bool;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    ElemType data;              </span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">next</span>;</span>      </span><br><span class="line">&#125; stackLink;                      </span><br><span class="line"></span><br><span class="line"><span class="comment">//  初始化栈</span></span><br><span class="line">stackLink * <span class="title function_">InitStack</span><span class="params">()</span>;    </span><br><span class="line"><span class="comment">//  销毁栈</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">DestroyStack</span><span class="params">(stackLink *s)</span>;  </span><br><span class="line"><span class="comment">//  栈是否为空</span></span><br><span class="line">Bool <span class="title function_">StackEmpty</span><span class="params">(stackLink *s)</span>;    </span><br><span class="line"><span class="comment">//  链栈没有栈满的概念</span></span><br><span class="line">Bool <span class="title function_">StackFull</span><span class="params">(stackLink *s)</span>;     </span><br><span class="line"><span class="comment">//  返回栈中元素个数——栈长度</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">StackLength</span><span class="params">(stackLink *s)</span>;  </span><br><span class="line"><span class="comment">//  入栈</span></span><br><span class="line">Bool <span class="title function_">Push</span><span class="params">(stackLink *s,ElemType e)</span>; </span><br><span class="line"><span class="comment">//  出栈</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">Pop</span><span class="params">(stackLink *s,ElemType *e)</span>; </span><br><span class="line"><span class="comment">//  取栈顶数据元素</span></span><br><span class="line">Bool <span class="title function_">GetTop</span><span class="params">(stackLink *s,ElemType *e)</span>; </span><br><span class="line"><span class="comment">//  输出栈</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">DispStack</span><span class="params">(stackLink *s)</span>;  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    ElemType e;</span><br><span class="line">    stackLink *s;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(1)初始化链栈s\n&quot;</span>);</span><br><span class="line">    s = InitStack();</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(2)链栈为%s\n&quot;</span>,(StackEmpty(s) == <span class="number">1</span>?<span class="string">&quot;空&quot;</span>:<span class="string">&quot;非空&quot;</span>));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(3)依次进链栈元素a,b,c,d,e\n&quot;</span>);</span><br><span class="line">    Push(s,<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">    Push(s,<span class="string">&#x27;b&#x27;</span>);</span><br><span class="line">    Push(s,<span class="string">&#x27;c&#x27;</span>);</span><br><span class="line">    Push(s,<span class="string">&#x27;d&#x27;</span>);</span><br><span class="line">    Push(s,<span class="string">&#x27;e&#x27;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(4)链栈为%s\n&quot;</span>,(StackEmpty(s) == <span class="number">1</span>?<span class="string">&quot;空&quot;</span>:<span class="string">&quot;非空&quot;</span>));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(5)链栈长度:%d\n&quot;</span>,StackLength(s));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(6)从链栈顶到链栈底元素:&quot;</span>);DispStack(s);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(7)出链栈序列:&quot;</span>);</span><br><span class="line">    <span class="keyword">while</span> (!StackEmpty(s))</span><br><span class="line">    &#123;   Pop(s,&amp;e);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c &quot;</span>,e);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(8)链栈为%s\n&quot;</span>,(StackEmpty(s) == <span class="number">1</span>?<span class="string">&quot;空&quot;</span>:<span class="string">&quot;非空&quot;</span>));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(9)释放链栈\n&quot;</span>);</span><br><span class="line">    DestroyStack(s);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//初始化栈</span></span><br><span class="line">stackLink * <span class="title function_">InitStack</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//栈头节点</span></span><br><span class="line">    stackLink *tmp = (stackLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(stackLink));</span><br><span class="line">    tmp-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Bool <span class="title function_">StackEmpty</span><span class="params">(stackLink *s)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(s-&gt;next == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//  入栈</span></span><br><span class="line">Bool <span class="title function_">Push</span><span class="params">(stackLink *s,ElemType e)</span></span><br><span class="line">&#123;</span><br><span class="line">    stackLink *tmp = (stackLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(stackLink));</span><br><span class="line">    tmp-&gt;data = e;</span><br><span class="line">    tmp-&gt;next = s-&gt;next;</span><br><span class="line">    s-&gt;next = tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">DispStack</span><span class="params">(stackLink *s)</span></span><br><span class="line">&#123;</span><br><span class="line">    stackLink *tmp;</span><br><span class="line">    tmp = s-&gt;next;</span><br><span class="line">    <span class="keyword">while</span>(tmp != <span class="literal">NULL</span>)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c\t&quot;</span>,tmp-&gt;data);</span><br><span class="line">        tmp = tmp-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">StackLength</span><span class="params">(stackLink *s)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> n = <span class="number">0</span>;</span><br><span class="line">    stackLink *tmp;</span><br><span class="line">    tmp = s-&gt;next;</span><br><span class="line">    <span class="keyword">while</span>(tmp != <span class="literal">NULL</span>)&#123;</span><br><span class="line">        n++;</span><br><span class="line">        tmp = tmp-&gt;next;</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">return</span> n;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//  出栈</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">Pop</span><span class="params">(stackLink *s,ElemType *e)</span></span><br><span class="line">&#123;</span><br><span class="line">    stackLink *tmp = s-&gt;next;</span><br><span class="line">    *e = tmp-&gt;data;</span><br><span class="line">    s-&gt;next = tmp-&gt;next;</span><br><span class="line">    <span class="built_in">free</span>(tmp);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//  销毁栈</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">DestroyStack</span><span class="params">(stackLink *s)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(s != <span class="literal">NULL</span>) </span><br><span class="line">    &#123;</span><br><span class="line">        stackLink *tmp = s-&gt;next,*q;</span><br><span class="line">        <span class="keyword">while</span> (tmp != <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            q = tmp;</span><br><span class="line">            tmp = tmp-&gt;next;</span><br><span class="line">            <span class="built_in">free</span>(q);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">free</span>(s);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
	</div>

<div class="meta">
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="2020/06/06/leetcode-128/">leetcode 128h 最长连续序列</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2020-06-06T05:00:00.000Z" itemprop="datePublished">Jun 6, 2020</time>
</div>
      <div class="tags">Tags: 

<a href="/tags/leetcode/">leetcode</a>
</div>
    </div>
      
        <h4><span id="ti-mu-miao-shu">题目描述</span><a href="#ti-mu-miao-shu" class="header-anchor">#</a></h4><p>给定一个未排序的整数数组，找出最长连续序列的长度。</p>
<p>要求算法的时间复杂度为 O(n)。</p>
<p>示例:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">输入: [100, 4, 200, 1, 3, 2]</span><br><span class="line">输出: 4</span><br><span class="line">解释: 最长连续序列是 [1, 2, 3, 4]。它的长度为 4。</span><br></pre></td></tr></table></figure>

<h4><span id="suan-fa">算法</span><a href="#suan-fa" class="header-anchor">#</a></h4><ol>
<li>对数组进行排序（基数排序算法）</li>
<li>计算最长连续序列的长度</li>
</ol>
<p>因为基数排序算法满足时间复杂度O(n)，所以一看到题就有了思路，问题变成了如何使用基数排序。</p>
<p>题目时间上有隐含条件：</p>
<p>1.数组元素可能有负整数</p>
<p>2.可能是空数组</p>
<p>3.可能存储相同的元素</p>
<p>对于第2，只要在开始前做一下判断，即可避免；</p>
<p>对于第3点，则是记得要去重；</p>
<p>第1点比较麻烦，因为基数排序不能处理负数，所以需要把数组分成正整数和负整数。<br>首先把负整数数组暂时先换成正整数，然后分别对两个数组使用基数排序，返回两个有序的数组。<br>接着把负整数数组进行倒置，最后把两个数组进行拼接，得到一个有序的数组。</p>
<p>得到一个有序的数组后，接下来的问题就简单了。</p>
<h4><span id="c-dai-ma">C代码</span><a href="#c-dai-ma" class="header-anchor">#</a></h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">int</span> data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125; RDnode;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">displayPNode</span><span class="params">(RDnode *p)</span>;</span><br><span class="line">RDnode* <span class="title function_">generalPNode</span><span class="params">(<span class="type">int</span>* nums, <span class="type">int</span> numsSize)</span>;</span><br><span class="line"><span class="type">int</span> <span class="title function_">longestConsecutive</span><span class="params">(<span class="type">int</span>* nums, <span class="type">int</span> numsSize)</span>;</span><br><span class="line"><span class="type">int</span> <span class="title function_">getBaseNum</span><span class="params">(<span class="type">int</span> num,<span class="type">int</span> numSt)</span>;</span><br><span class="line"><span class="type">int</span> <span class="title function_">getMaxNum</span><span class="params">(<span class="type">int</span>* nums, <span class="type">int</span> numsSize)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">radixSort</span><span class="params">(RDnode **p,<span class="type">int</span> loop)</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//  考虑空数组，数据元素带有负数，重复元素</span></span><br><span class="line">    <span class="type">int</span> arr[] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">0</span>,<span class="number">1</span>&#125;;</span><br><span class="line">    <span class="type">int</span> n = <span class="number">4</span>;</span><br><span class="line">    <span class="type">int</span> res = longestConsecutive(&amp;arr[<span class="number">0</span>],n);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;最长连续序列的长度=%d\n&quot;</span>,res);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">displayPNode</span><span class="params">(RDnode *p)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">while</span> (p !=<span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;data=%d\t&quot;</span>,p-&gt;data);</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//  构造基数排序存储结构</span></span><br><span class="line">RDnode* <span class="title function_">generalPNode</span><span class="params">(<span class="type">int</span>* nums, <span class="type">int</span> numsSize)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> i;</span><br><span class="line">    RDnode *p = <span class="literal">NULL</span>,*q = <span class="literal">NULL</span>,*tmp;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;numsSize;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        tmp = (RDnode *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(RDnode));</span><br><span class="line">        tmp-&gt;data = nums[i];</span><br><span class="line">        tmp-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">        <span class="keyword">if</span>(q == <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            q = tmp;</span><br><span class="line">            p = q;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            q-&gt;next = tmp;</span><br><span class="line">            q = tmp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//  基数排序</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">radixSort</span><span class="params">(RDnode **p,<span class="type">int</span> loop)</span></span><br><span class="line">&#123;   </span><br><span class="line">    RDnode *head[<span class="number">10</span>],*tail[<span class="number">10</span>],*tmp;</span><br><span class="line">    <span class="type">int</span> i,j,k;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;loop;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;<span class="number">10</span>;j++)</span><br><span class="line">            head[j] = tail[j] = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> ((*p) != <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            k = getBaseNum((*p)-&gt;data,i+<span class="number">1</span>);</span><br><span class="line">            <span class="keyword">if</span>(head[k] == <span class="literal">NULL</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                head[k] = (*p);</span><br><span class="line">                tail[k] = (*p);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                tail[k]-&gt;next = (*p);</span><br><span class="line">                tail[k] = (*p);</span><br><span class="line">            &#125;</span><br><span class="line">            (*p) = (*p)-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        (*p) = <span class="literal">NULL</span>;</span><br><span class="line">        <span class="keyword">for</span> ( j = <span class="number">0</span>; j &lt; <span class="number">10</span>; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(head[j] != <span class="literal">NULL</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>((*p) == <span class="literal">NULL</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    (*p) = head[j];</span><br><span class="line">                    tmp = tail[j];</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    tmp-&gt;next = head[j];</span><br><span class="line">                    tmp = tail[j];</span><br><span class="line">                &#125; </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        tmp-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//  求整数某一位数字</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">getBaseNum</span><span class="params">(<span class="type">int</span> num,<span class="type">int</span> numSt)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> numTimes = <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> i,baseNum;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;numSt;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        numTimes *= <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    baseNum = num/numTimes%<span class="number">10</span>;</span><br><span class="line">    <span class="keyword">return</span> baseNum;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//  求数组最大绝对值，</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">getMaxNum</span><span class="params">(<span class="type">int</span>* nums, <span class="type">int</span> numsSize)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> i;</span><br><span class="line">    <span class="type">int</span> max = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;numsSize;i++)</span><br><span class="line">        <span class="keyword">if</span>(max &lt; <span class="built_in">abs</span>(nums[i])) max = <span class="built_in">abs</span>(nums[i]);</span><br><span class="line">    <span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//  求整数的位数</span></span><br><span class="line"><span class="type">int</span>	<span class="title function_">GetMaxLoop</span><span class="params">(<span class="type">int</span> num)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> bits = <span class="number">1</span>;</span><br><span class="line">	num /= <span class="number">10</span>;</span><br><span class="line">	<span class="keyword">while</span> (num != <span class="number">0</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		++bits;</span><br><span class="line">		num /= <span class="number">10</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> bits;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">longestConsecutive</span><span class="params">(<span class="type">int</span>* nums, <span class="type">int</span> numsSize)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(numsSize &lt; <span class="number">2</span>) <span class="keyword">return</span> numsSize;</span><br><span class="line">    <span class="type">int</span> positiveArr[numsSize],positiveNum=<span class="number">0</span>,nagetiveArr[numsSize],nagetiveNum=<span class="number">0</span>;</span><br><span class="line">    RDnode *nagetiveP=<span class="literal">NULL</span>,*positiveP=<span class="literal">NULL</span>;</span><br><span class="line">    <span class="type">int</span> longest = <span class="number">1</span>, tmp_longest = <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> result[numsSize],i=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> max = getMaxNum(&amp;nums[<span class="number">0</span>],numsSize);</span><br><span class="line">    <span class="type">int</span>	loop = GetMaxLoop(max);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//  按正负数存储数据</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;numsSize;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (nums[i] &lt; <span class="number">0</span>)</span><br><span class="line">            nagetiveArr[nagetiveNum++] = <span class="built_in">abs</span>(nums[i]);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            positiveArr[positiveNum++] = nums[i];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//  构造基数排序结构，基数排序</span></span><br><span class="line">    <span class="keyword">if</span>(nagetiveNum&gt;<span class="number">0</span>) </span><br><span class="line">    &#123;</span><br><span class="line">        nagetiveP = generalPNode(&amp;nagetiveArr[<span class="number">0</span>],nagetiveNum);</span><br><span class="line">        radixSort(&amp;nagetiveP,loop);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(positiveNum&gt;<span class="number">0</span>) </span><br><span class="line">    &#123;</span><br><span class="line">        positiveP = generalPNode(&amp;positiveArr[<span class="number">0</span>],positiveNum);</span><br><span class="line">        radixSort(&amp;positiveP,loop);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//  处理有负数的情况</span></span><br><span class="line">    <span class="keyword">if</span>(nagetiveNum &gt; <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> temp;</span><br><span class="line">        <span class="keyword">while</span>(nagetiveP != <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            result[i++] = nagetiveP-&gt;data*<span class="number">-1</span>;</span><br><span class="line">            nagetiveP = nagetiveP-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;nagetiveNum/<span class="number">2</span>;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            temp = result[i];</span><br><span class="line">            result[i] = result[nagetiveNum<span class="number">-1</span>-i];</span><br><span class="line">            result[nagetiveNum<span class="number">-1</span>-i] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(positiveP != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        result[i++] = positiveP-&gt;data;</span><br><span class="line">        positiveP = positiveP-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; numsSize; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(result[i<span class="number">-1</span>]+<span class="number">1</span> == result[i])</span><br><span class="line">            tmp_longest++;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(result[i<span class="number">-1</span>] == result[i])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">continue</span>;   <span class="comment">//去重</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>        </span><br><span class="line">        &#123;</span><br><span class="line">            longest = tmp_longest&gt;longest?tmp_longest:longest;</span><br><span class="line">            tmp_longest = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    longest = tmp_longest&gt;longest?tmp_longest:longest;</span><br><span class="line">    <span class="keyword">return</span> longest;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4><span id="shi-jian-fu-za-du">时间复杂度</span><a href="#shi-jian-fu-za-du" class="header-anchor">#</a></h4><table>
<thead>
<tr>
<th>序号</th>
<th>函数</th>
<th>时间复杂度</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>getMaxNum</td>
<td>O(n)</td>
</tr>
<tr>
<td>2</td>
<td>GetMaxLoop</td>
<td>O(loop)</td>
</tr>
<tr>
<td>3</td>
<td>generalPNode</td>
<td>O(n)</td>
</tr>
<tr>
<td>4</td>
<td>radixSort</td>
<td>O(loop*(20+n))</td>
</tr>
<tr>
<td>5</td>
<td>结构语句</td>
<td>O(n)+O(n)</td>
</tr>
</tbody></table>
<p>因此算法的时间复杂度为O(loop*(20+n)) &#x3D; O(n)。</p>
<blockquote>
<p>loop表示元素的最大位数，也是循环的最大趟数</p>
</blockquote>

      
	</div>

<div class="meta">
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="2020/06/05/linear-list/">线性表——顺序表、链表</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2020-06-05T05:00:00.000Z" itemprop="datePublished">Jun 5, 2020</time>
</div>
      <div class="tags">Tags: 

<a href="/tags/数据结构/">数据结构</a> <a href="/tags/线性表/">线性表</a>
</div>
    </div>
      
        <h3><span id="xian-xing-biao-de-ding-yi-he-shu-xing">线性表的定义和属性</span><a href="#xian-xing-biao-de-ding-yi-he-shu-xing" class="header-anchor">#</a></h3><p>定义：线性表是具有相同特性的数据元素的一个有序序列。按存储结构的不同，可分为顺序表和链表。</p>
<blockquote>
<p>使用逻辑结构二元组表示：</p>
<p>B&#x3D;(D,R)</p>
<p>D&#x3D;{di∣di∈ElemType,1&lt;&#x3D;i&lt;&#x3D;n,n&gt;&#x3D;0}</p>
<p>R&#x3D;{&lt;rj−1,rj&gt;∣1&lt;&#x3D;j&lt;&#x3D;m,m&gt;&#x3D;0}</p>
</blockquote>
<p>线性表的几个属性：</p>
<ul>
<li>空表：当$n&#x3D;0$时，表示线性表是一个空表，即表中不包含任何元素</li>
<li>前驱：$a_{i-1}$是$a_i$的前驱，$2 &lt;&#x3D; i &lt;&#x3D; n$</li>
<li>后继：$a_{i+1}$是$a_i$的后继，$1 &lt;&#x3D; i &lt;&#x3D; n - 1$</li>
<li>表头元素：表中第一个元素$a_1$</li>
<li>表尾元素：最后一个元素$a_n$</li>
</ul>
<h3><span id="xian-xing-biao-de-chou-xiang-shu-ju-lei-xing">线性表的抽象数据类型</span><a href="#xian-xing-biao-de-chou-xiang-shu-ju-lei-xing" class="header-anchor">#</a></h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">ADT List</span><br><span class="line">&#123;</span><br><span class="line">数据对象：</span><br><span class="line">    D = &#123;ai | ai ∈ ElemType, i=<span class="number">1</span>,<span class="number">2</span>,…,n, n&gt;=<span class="number">0</span> &#125;              <span class="comment">// ElemType为类型标识符</span></span><br><span class="line">数据关系：</span><br><span class="line">    R = &#123;&lt;ai<span class="number">-1</span>, ai&gt; | ai<span class="number">-1</span>, ai ∈ D, i=<span class="number">2</span>,<span class="number">3</span>,…,n &#125;</span><br><span class="line">数据操作：</span><br><span class="line">    (<span class="number">1</span>) tabSeq * InitList();	                            <span class="comment">// 初始化一个空的线性表</span></span><br><span class="line">    (<span class="number">2</span>) <span class="type">void</span> <span class="title function_">CreateList</span><span class="params">(tabSeq *L, ElemType a[], <span class="type">int</span> n)</span>;	<span class="comment">// 创建线性表</span></span><br><span class="line">    (<span class="number">3</span>) Bool <span class="title function_">ListEmpty</span><span class="params">(tabSeq *L)</span>;	                        <span class="comment">// 判断线性表是否为空</span></span><br><span class="line">    (<span class="number">4</span>) <span class="type">int</span> <span class="title function_">ListLength</span><span class="params">(tabSeq *L)</span>;	                        <span class="comment">// 返回线性表的长度</span></span><br><span class="line">    (<span class="number">5</span>) <span class="type">void</span> <span class="title function_">DispList</span><span class="params">(tabSeq *L)</span>;	                        <span class="comment">// 输出线性表元素</span></span><br><span class="line">    (<span class="number">6</span>) Bool <span class="title function_">GetElem</span><span class="params">(tabSeq *L,<span class="type">int</span> i,ElemType *e)</span>;	        <span class="comment">// 返回指定序号的元素</span></span><br><span class="line">    (<span class="number">7</span>) <span class="type">int</span> <span class="title function_">LocateElem</span><span class="params">(tabSeq *L, ElemType e)</span>;	            <span class="comment">// 返回指定元素的序号</span></span><br><span class="line">    (<span class="number">8</span>) Bool <span class="title function_">ListInsert</span><span class="params">(tabSeq *L,<span class="type">int</span> i,ElemType e)</span>;	    <span class="comment">// 在指定序号位置插入元素</span></span><br><span class="line">    (<span class="number">9</span>) Bool <span class="title function_">ListDelete</span><span class="params">(tabSeq *L,<span class="type">int</span> i,ElemType *e)</span>;	    <span class="comment">// 在指定序号位置删除元素</span></span><br><span class="line">    (<span class="number">10</span>) <span class="type">void</span> <span class="title function_">DestroyList</span><span class="params">(tabSeq *L)</span>;                       <span class="comment">//  销毁线性表</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>线性表提供丰富的运算，来操作线性表上的元素节点。</p>
<h3><span id="shun-xu-biao">顺序表</span><a href="#shun-xu-biao" class="header-anchor">#</a></h3><blockquote>
<p>线性表是基于逻辑结构的，而顺序表是基于存储结构的。</p>
</blockquote>
<p>顺序表的存储结构是指把顺序表中的所有元素存储到一块连续的存储空间，我们可以认为是一个数组。于是顺序表的存储结构定义为：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> MaxSize 50</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> ElemType;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    ElemType data[MaxSize];</span><br><span class="line">    <span class="type">int</span> length;</span><br><span class="line">&#125; tabSeq;</span><br></pre></td></tr></table></figure>
<p>把顺序表中的元素依次存储到数据data，并且更新长度length。接下来具体实现抽象数据类型里定义的抽象方法。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  初始化一个空的线性表</span></span><br><span class="line">tabSeq * <span class="title function_">InitList</span><span class="params">()</span>;</span><br><span class="line"><span class="comment">// 创建线性表</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">CreateList</span><span class="params">(tabSeq *L, ElemType a[], <span class="type">int</span> n)</span>;</span><br><span class="line"><span class="comment">// 判断线性表是否为空</span></span><br><span class="line">Bool <span class="title function_">ListEmpty</span><span class="params">(tabSeq *L)</span>;</span><br><span class="line"><span class="comment">// 返回线性表的长度</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">ListLength</span><span class="params">(tabSeq *L)</span>;</span><br><span class="line"><span class="comment">// 输出线性表元素</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">DispList</span><span class="params">(tabSeq *L)</span>;</span><br><span class="line"><span class="comment">//  返回指定序号的元素</span></span><br><span class="line">Bool <span class="title function_">GetElem</span><span class="params">(tabSeq *L,<span class="type">int</span> i,ElemType *e)</span>;</span><br><span class="line"><span class="comment">//  返回指定元素的序号</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">LocateElem</span><span class="params">(tabSeq *L, ElemType e)</span>;</span><br><span class="line"><span class="comment">//  在指定序号位置插入元素</span></span><br><span class="line">Bool <span class="title function_">ListInsert</span><span class="params">(tabSeq *L,<span class="type">int</span> i,ElemType e)</span>;</span><br><span class="line"><span class="comment">//  在指定序号位置删除元素</span></span><br><span class="line">Bool <span class="title function_">ListDelete</span><span class="params">(tabSeq *L,<span class="type">int</span> i,ElemType *e)</span>;</span><br><span class="line"><span class="comment">//  销毁线性表</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">DestroyList</span><span class="params">(tabSeq *L)</span>;</span><br></pre></td></tr></table></figure>

<p>顺序表代码实现：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MaxSize 150</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> true 1</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> false 0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> ElemType;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> Bool;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    ElemType data[MaxSize];</span><br><span class="line">    <span class="type">int</span> length;</span><br><span class="line">&#125; tabSeq;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//  初始化一个空的线性表</span></span><br><span class="line">tabSeq * <span class="title function_">InitList</span><span class="params">()</span>;</span><br><span class="line"><span class="comment">// 创建线性表</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">CreateList</span><span class="params">(tabSeq *L, ElemType a[], <span class="type">int</span> n)</span>;</span><br><span class="line"><span class="comment">// 判断线性表是否为空</span></span><br><span class="line">Bool <span class="title function_">ListEmpty</span><span class="params">(tabSeq *L)</span>;</span><br><span class="line"><span class="comment">// 返回线性表的长度</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">ListLength</span><span class="params">(tabSeq *L)</span>;</span><br><span class="line"><span class="comment">// 输出线性表元素</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">DispList</span><span class="params">(tabSeq *L)</span>;</span><br><span class="line"><span class="comment">//  返回指定序号的元素</span></span><br><span class="line">Bool <span class="title function_">GetElem</span><span class="params">(tabSeq *L,<span class="type">int</span> i,ElemType *e)</span>;</span><br><span class="line"><span class="comment">//  返回指定元素的序号</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">LocateElem</span><span class="params">(tabSeq *L, ElemType e)</span>;</span><br><span class="line"><span class="comment">//  在指定序号位置插入元素</span></span><br><span class="line">Bool <span class="title function_">ListInsert</span><span class="params">(tabSeq *L,<span class="type">int</span> i,ElemType e)</span>;</span><br><span class="line"><span class="comment">//  在指定序号位置删除元素</span></span><br><span class="line">Bool <span class="title function_">ListDelete</span><span class="params">(tabSeq *L,<span class="type">int</span> i,ElemType *e)</span>;</span><br><span class="line"><span class="comment">//  销毁线性表</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">DestroyList</span><span class="params">(tabSeq *L)</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    tabSeq *T;</span><br><span class="line">    T = InitList();</span><br><span class="line">    ElemType x[<span class="number">6</span>] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>&#125;;</span><br><span class="line">    <span class="keyword">if</span> (ListEmpty(T)) <span class="built_in">printf</span>(<span class="string">&quot;null\n&quot;</span>);</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">&quot;not null\n&quot;</span>);</span><br><span class="line">    CreateList(T,x,<span class="number">6</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;CreateList\n&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (ListEmpty(T)) <span class="built_in">printf</span>(<span class="string">&quot;null\n&quot;</span>);</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">&quot;not null\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;length of list=%d\n&quot;</span>,ListLength(T));</span><br><span class="line">    DispList(T);</span><br><span class="line">    <span class="type">int</span> num;</span><br><span class="line">    <span class="keyword">if</span>(GetElem(T,<span class="number">3</span>,&amp;num)) <span class="built_in">printf</span>(<span class="string">&quot;num = %d\n&quot;</span>,num);</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">&quot;false\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;index of 6  = %d\n&quot;</span>,LocateElem(T,<span class="number">6</span>));</span><br><span class="line">    ListInsert(T,<span class="number">1</span>,<span class="number">0</span>);</span><br><span class="line">    DispList(T);</span><br><span class="line">    <span class="keyword">if</span>(ListDelete(T,<span class="number">1</span>,&amp;num)) <span class="built_in">printf</span>(<span class="string">&quot;num = %d\n&quot;</span>,num);</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">&quot;false\n&quot;</span>);</span><br><span class="line">    DispList(T);</span><br><span class="line">    DestroyList(T);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Bool <span class="title function_">ListDelete</span><span class="params">(tabSeq *L,<span class="type">int</span> i,ElemType *e)</span></span><br><span class="line">&#123;</span><br><span class="line">    i--;</span><br><span class="line">    <span class="keyword">if</span> (i&lt;<span class="number">0</span> || i&gt;L-&gt;length<span class="number">-1</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    *e = L-&gt;data[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j=i;j&lt;L-&gt;length;j++)</span><br><span class="line">        L-&gt;data[j] = L-&gt;data[j+<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">    L-&gt;length--;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Bool <span class="title function_">ListInsert</span><span class="params">(tabSeq *L,<span class="type">int</span> i,ElemType e)</span></span><br><span class="line">&#123;</span><br><span class="line">    i--;</span><br><span class="line">    <span class="keyword">if</span> (i&lt;<span class="number">0</span> || i&gt;L-&gt;length) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j=L-&gt;length;j&gt;i;j--)</span><br><span class="line">        L-&gt;data[j] = L-&gt;data[j<span class="number">-1</span>];</span><br><span class="line"></span><br><span class="line">    L-&gt;data[i] = e;</span><br><span class="line">    L-&gt;length++;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">LocateElem</span><span class="params">(tabSeq *L, ElemType e)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (ListEmpty(L)) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;L-&gt;length;i++)</span><br><span class="line">        <span class="keyword">if</span>(L-&gt;data[i] == e) <span class="keyword">return</span> i+<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Bool <span class="title function_">GetElem</span><span class="params">(tabSeq *L,<span class="type">int</span> i,ElemType *e)</span></span><br><span class="line">&#123;</span><br><span class="line">    i--;</span><br><span class="line">    <span class="keyword">if</span> (i&lt;<span class="number">0</span> || i&gt;L-&gt;length<span class="number">-1</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    *e = L-&gt;data[i];</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">DispList</span><span class="params">(tabSeq *L)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;output elem: &quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;L-&gt;length;i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\t&quot;</span>,L-&gt;data[i]);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">ListLength</span><span class="params">(tabSeq *L)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> L-&gt;length;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Bool <span class="title function_">ListEmpty</span><span class="params">(tabSeq *L)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> L-&gt;length&gt;<span class="number">0</span>?<span class="literal">false</span>:<span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">CreateList</span><span class="params">(tabSeq *L, ElemType a[], <span class="type">int</span> n)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">        L-&gt;data[i] = a[i];</span><br><span class="line">    </span><br><span class="line">    L-&gt;length = n;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">tabSeq* <span class="title function_">InitList</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    tabSeq *tmp = (tabSeq *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(tabSeq));</span><br><span class="line">    tmp-&gt;length = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">DestroyList</span><span class="params">(tabSeq *L)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">free</span>(L);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3><span id="lian-biao">链表</span><a href="#lian-biao" class="header-anchor">#</a></h3><p>线性表的顺序存储结构使用数组实现，优点是空间利用率高，缺点是当对数据进行增删时，需要移动数据元素的位置，这个过程是很耗时的；而链式存储结构正好与其相反。</p>
<p>线性表链式存储结构，即是链表。使用指针实现，指针指向节点，每个节点包含数据域和指针域。数据域保存数据元素，指针域保存下个节点的地址由此构成链表。链表虽然空间利用率不高，但是对节点的增删调整比较方便。</p>
<p>链表的存储结构定义为：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> ElemType;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    ElemType data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125; tabLink;</span><br></pre></td></tr></table></figure>

<p>链表实际上包含了两部分，分别是：<strong>数据节点组成的数据链表</strong>和<strong>一个指向数据节点的指针</strong>。<br>数据节点保存数据和后继节点的地址，指针默认指向第一个数据节点，主要作用是遍历数据链表。</p>
<p>初始化链表的时，返回一个指向数据节点的指针，并且默认数据链表为NULL</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">tabLink* <span class="title function_">InitList</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    tabLink *tmp = (tabLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(tabLink));</span><br><span class="line">    tmp-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>数据链表有两种创建方法：<strong>头插法</strong>和<strong>尾插法</strong>。</p>
<blockquote>
<p>想象你面前有一条数据链表，左边为头，右边为尾。指针指向头节点。</p>
</blockquote>
<p>头插法即是每次新增元素，都放到最左边，具体做法是把头节点的地址保存到新增节点的指针域，把新增节点的地址保存到链表指针的指针域，此时新增节点就变成了头节点。</p>
<p>尾插法即是每次新增元素，都放到最右边，具体做法是使用链表指针遍历到最后一个节点，然后把新增节点的地址保存到最后一个节点的指针域，此时新增节点变成了最后一个节点。</p>
<p>链表的抽象运算与顺序表一致，但是由于存储结构不一样，所以具体实现也完全不一样。</p>
<p>链表代码实现：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> true 1</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> false 0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> ElemType;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> Bool;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    ElemType data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125; tabLink;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//  初始化一个空的链表</span></span><br><span class="line">tabLink * <span class="title function_">InitList</span><span class="params">()</span>;</span><br><span class="line"><span class="comment">//  创建链表-头插法</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">CreateListL</span><span class="params">(tabLink *L, ElemType a[], <span class="type">int</span> n)</span>;</span><br><span class="line"><span class="comment">//  创建链表-尾插法</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">CreateListR</span><span class="params">(tabLink *L, ElemType a[], <span class="type">int</span> n)</span>;</span><br><span class="line"><span class="comment">// 判断链表是否为空</span></span><br><span class="line">Bool <span class="title function_">ListEmpty</span><span class="params">(tabLink *L)</span>;</span><br><span class="line"><span class="comment">// 返回链表的长度</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">ListLength</span><span class="params">(tabLink *L)</span>;</span><br><span class="line"><span class="comment">// 输出链表元素</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">DispList</span><span class="params">(tabLink *L)</span>;</span><br><span class="line"><span class="comment">//  返回指定序号的元素</span></span><br><span class="line">Bool <span class="title function_">GetElem</span><span class="params">(tabLink *L,<span class="type">int</span> i,ElemType *e)</span>;</span><br><span class="line"><span class="comment">//  返回指定元素的序号</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">LocateElem</span><span class="params">(tabLink *L, ElemType e)</span>;</span><br><span class="line"><span class="comment">//  在指定序号位置插入元素</span></span><br><span class="line">Bool <span class="title function_">ListInsert</span><span class="params">(tabLink *L,<span class="type">int</span> i,ElemType e)</span>;</span><br><span class="line"><span class="comment">//  在指定序号位置删除元素</span></span><br><span class="line">Bool <span class="title function_">ListDelete</span><span class="params">(tabLink *L,<span class="type">int</span> i,ElemType *e)</span>;</span><br><span class="line"><span class="comment">//  销毁线性表</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">DestroyList</span><span class="params">(tabLink *L)</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    tabLink *T;</span><br><span class="line">    T = InitList();</span><br><span class="line">    ElemType x[<span class="number">6</span>] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>&#125;;</span><br><span class="line">    <span class="keyword">if</span> (ListEmpty(T)) <span class="built_in">printf</span>(<span class="string">&quot;null\n&quot;</span>);</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">&quot;not null\n&quot;</span>);</span><br><span class="line">    CreateListR(T,x,<span class="number">6</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;CreateListR\n&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (ListEmpty(T)) <span class="built_in">printf</span>(<span class="string">&quot;null\n&quot;</span>);</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">&quot;not null\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;length of list=%d\n&quot;</span>,ListLength(T));</span><br><span class="line">    DispList(T);</span><br><span class="line">    <span class="type">int</span> num;</span><br><span class="line">    <span class="keyword">if</span>(GetElem(T,<span class="number">3</span>,&amp;num)) <span class="built_in">printf</span>(<span class="string">&quot;num = %d\n&quot;</span>,num);</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">&quot;false\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;index of 6  = %d\n&quot;</span>,LocateElem(T,<span class="number">6</span>));</span><br><span class="line">    ListInsert(T,<span class="number">1</span>,<span class="number">0</span>);</span><br><span class="line">    DispList(T);</span><br><span class="line">    <span class="keyword">if</span>(ListDelete(T,<span class="number">1</span>,&amp;num)) <span class="built_in">printf</span>(<span class="string">&quot;num = %d\n&quot;</span>,num);</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">&quot;false\n&quot;</span>);</span><br><span class="line">    DispList(T);</span><br><span class="line">    DestroyList(T);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Bool <span class="title function_">ListDelete</span><span class="params">(tabLink *L,<span class="type">int</span> i,ElemType *e)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> length = ListLength(L);</span><br><span class="line">    <span class="keyword">if</span> (i&lt;<span class="number">1</span> || i&gt;length) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="type">int</span> j = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(j &lt; i<span class="number">-1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        L = L-&gt;next;</span><br><span class="line">        j++;</span><br><span class="line">    &#125;</span><br><span class="line">    tabLink *tmp = L-&gt;next;</span><br><span class="line">    L-&gt;next = tmp-&gt;next;</span><br><span class="line">    *e = tmp-&gt;data;</span><br><span class="line">    <span class="built_in">free</span>(tmp);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//  在第i个位置，插入节点e</span></span><br><span class="line"><span class="comment">//  关键在于找到第i-1个位置</span></span><br><span class="line">Bool <span class="title function_">ListInsert</span><span class="params">(tabLink *L,<span class="type">int</span> i,ElemType e)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> length = ListLength(L);</span><br><span class="line">    <span class="keyword">if</span> (i&lt;<span class="number">1</span> || i&gt;length+<span class="number">1</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="type">int</span> j = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (j &lt; i<span class="number">-1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        L = L-&gt;next;</span><br><span class="line">        j++;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    tabLink *tmp = (tabLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(tabLink));</span><br><span class="line">    tmp-&gt;data = e;</span><br><span class="line">    tmp-&gt;next = L-&gt;next;</span><br><span class="line">    L-&gt;next = tmp;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">LocateElem</span><span class="params">(tabLink *L, ElemType e)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (ListEmpty(L)) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    tabLink *P = L-&gt;next;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(P != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(P-&gt;data == e) <span class="keyword">return</span> i;</span><br><span class="line">        P = P-&gt;next;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Bool <span class="title function_">GetElem</span><span class="params">(tabLink *L,<span class="type">int</span> i,ElemType *e)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> length = ListLength(L);</span><br><span class="line">    <span class="keyword">if</span> (i&lt;<span class="number">1</span> || i&gt;length) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="type">int</span> j=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(j &lt; i)</span><br><span class="line">    &#123;</span><br><span class="line">        L = L-&gt;next;</span><br><span class="line">        j++;</span><br><span class="line">    &#125;</span><br><span class="line">    *e = L-&gt;data;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">DispList</span><span class="params">(tabLink *L)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;output elem: &quot;</span>);</span><br><span class="line">    tabLink *P;</span><br><span class="line">    P = L-&gt;next;</span><br><span class="line">    <span class="keyword">while</span>(P != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\t&quot;</span>,P-&gt;data);</span><br><span class="line">        P = P-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">ListLength</span><span class="params">(tabLink *L)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(ListEmpty(L)) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(L-&gt;next != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        i++;</span><br><span class="line">        L = L-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> i;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Bool <span class="title function_">ListEmpty</span><span class="params">(tabLink *L)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> L-&gt;next==<span class="literal">NULL</span>?<span class="literal">true</span>:<span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//  头插法</span></span><br><span class="line"><span class="comment">//  左为头，右为尾</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">CreateListL</span><span class="params">(tabLink *L, ElemType a[], <span class="type">int</span> n)</span></span><br><span class="line">&#123;</span><br><span class="line">    tabLink *tmp;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        tmp = (tabLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(tabLink));</span><br><span class="line">        tmp-&gt;data = a[i];</span><br><span class="line">        tmp-&gt;next = L-&gt;next;</span><br><span class="line">        L-&gt;next = tmp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//  尾插法</span></span><br><span class="line"><span class="comment">//  左为头，右为尾</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">CreateListR</span><span class="params">(tabLink *L, ElemType a[], <span class="type">int</span> n)</span></span><br><span class="line">&#123;</span><br><span class="line">    tabLink *tmp,*p;</span><br><span class="line">    p = L;</span><br><span class="line">    <span class="comment">//  p指向链表的尾指针</span></span><br><span class="line">    <span class="keyword">while</span>(p-&gt;next != <span class="literal">NULL</span>) p = p-&gt;next;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        tmp = (tabLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(tabLink));</span><br><span class="line">        tmp-&gt;data = a[i];</span><br><span class="line">        tmp-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">        p-&gt;next = tmp;</span><br><span class="line">        p = tmp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//  初始化链表</span></span><br><span class="line"><span class="comment">//  头节点不存储数据元素，指针域指向第一个节点</span></span><br><span class="line">tabLink* <span class="title function_">InitList</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    tabLink *tmp = (tabLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(tabLink));</span><br><span class="line">    tmp-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">DestroyList</span><span class="params">(tabLink *L)</span></span><br><span class="line">&#123;</span><br><span class="line">    tabLink *P;</span><br><span class="line">    <span class="keyword">while</span>(L-&gt;next != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        P = L;</span><br><span class="line">        L = L-&gt;next;</span><br><span class="line">        <span class="built_in">free</span>(P);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">free</span>(L);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
	</div>

<div class="meta">
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="2020/06/03/three-elements-ds/">数据结构三要素</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2020-06-03T05:00:00.000Z" itemprop="datePublished">Jun 3, 2020</time>
</div>
      <div class="tags">Tags: 

<a href="/tags/数据结构/">数据结构</a>
</div>
    </div>
      
        <h3><span id="shu-ju-jie-gou-san-yao-su">数据结构三要素</span><a href="#shu-ju-jie-gou-san-yao-su" class="header-anchor">#</a></h3><p>包括：</p>
<ul>
<li>数据的逻辑结构</li>
<li>数据的存储结构</li>
<li>数据的运算</li>
</ul>
<h4><span id="shu-ju-de-luo-ji-jie-gou">数据的逻辑结构</span><a href="#shu-ju-de-luo-ji-jie-gou" class="header-anchor">#</a></h4><p>指数据节点之间的逻辑关系，是数据在用户面前呈现的形式。</p>
<p>数据节点之间按逻辑结构可分为：</p>
<ul>
<li>线性结构<ul>
<li><a href="/2020/06/05/linear-list">线性表</a></li>
<li><a href="/2020/06/08/stack">栈</a></li>
<li><a href="/2020/06/10/queue">队列</a></li>
<li><a href="/2020/06/17/string">串</a></li>
</ul>
</li>
<li>非线性结构<ul>
<li><a href="/2020/07/11/btree">树</a></li>
<li>图</li>
</ul>
</li>
</ul>
<blockquote>
<p>线性结构的特点：</p>
<ul>
<li>数据节点之间只存在一对一的关系</li>
<li>开始节点和终端节点都是唯一的</li>
<li>除了开始节点和终端节点以外，其余节点都有且仅有一个前驱节点，有且仅有一个后继节点</li>
</ul>
</blockquote>
<blockquote>
<p>树形结构的特点：</p>
<ul>
<li>数据节点之间存在一对多的关系</li>
<li>开始节点唯一，终端节点不唯一</li>
<li>除了终端节点以外，每个节点有一个或多个后继节点</li>
<li>除开始节点以外，每个节点有且仅有一个前驱节点</li>
</ul>
</blockquote>
<blockquote>
<p>图形结构的特点：</p>
<ul>
<li>数据节点之间存在多对多的关系</li>
<li>没有开始节点和终端节点，所有节点都可能有多个前驱节点和多个后继节点</li>
</ul>
</blockquote>
<h4><span id="shu-ju-de-cun-chu-jie-gou">数据的存储结构</span><a href="#shu-ju-de-cun-chu-jie-gou" class="header-anchor">#</a></h4><p>指数据节点及其关系在计算机存储器中的存储方式，也称为数据的物理结构。</p>
<p>数据节点按存储结构可分为：</p>
<ul>
<li>顺序结构：利用数组实现，空间利用率高</li>
<li>链式结构：利用指针实现，便于增删调整修改</li>
<li>索引结构：利用索引项实现，索引项包括关键字和地址，查找速度快，但是存储索引项会增加空间支出</li>
<li>散列结构：利用哈希公式等计算并存储数值为地址，作为快速查找的依据，但是缺点是存储数值会占用大量空间，并且仅保存数据数值，不保存数据的逻辑关系</li>
</ul>
<h4><span id="shu-ju-de-yun-suan">数据的运算</span><a href="#shu-ju-de-yun-suan" class="header-anchor">#</a></h4><p>施加在数据上的运算包括运算的定义和实现。</p>
<ul>
<li><p><strong>运算的定义</strong>针对逻辑结构，指出运算的功能；</p>
</li>
<li><p><strong>运算的实现</strong>针对存储结构，指出运算的具体操作步骤。</p>
</li>
</ul>
<img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gffjzcrz6kj30k80kcjrm.jpg" alt="数据结构" width="700" align="bottom">
<center>数据结构</center>

<h3><span id="luo-ji-jie-gou-er-yuan-zu">逻辑结构二元组</span><a href="#luo-ji-jie-gou-er-yuan-zu" class="header-anchor">#</a></h3><p>逻辑结构二元组是是表示数据逻辑结构的抽象工具。</p>
<p>逻辑结构二元组只关心两个问题：</p>
<ol>
<li>数据是什么，包括：<ul>
<li>数据是什么类型，例如int、char、struct</li>
<li>数据的数量</li>
</ul>
</li>
<li>数据之间是什么关系<ul>
<li>数据之间是相邻关系，使用括号(e1,e2)表示</li>
<li>数据之间是先后关系，使用尖括号&lt;e1,e2&gt;表示</li>
</ul>
</li>
</ol>
<p>逻辑结构二元组表示方法：<br>$B&#x3D;(D,R)$。</p>
<ol>
<li>B是一种数据结构，由数据元素的集合D和D上二元关系的集合R所组成</li>
<li>$D&#x3D;{d_i|d_i \in ElemType,1&lt;&#x3D;i&lt;&#x3D;n,n&gt;&#x3D;0}$，<br>数据元素的集合</li>
<li>$R&#x3D;{&lt;r_{j-1},r_j&gt;|1&lt;&#x3D;j&lt;&#x3D;m,m&gt;&#x3D;0}$，<br>D上二元关系的集合</li>
</ol>
<p>比如二元组示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">B = （D，R）</span><br><span class="line">D = &#123;a，b，c，d，e，f，g，h，i，j&#125;</span><br><span class="line">R = &#123;r&#125;</span><br><span class="line">r = &#123; &lt;a，b&gt;，&lt;a，c&gt;，&lt;a，d&gt;，&lt;b，e&gt;，&lt;c，f&gt;，&lt;c，g&gt;，&lt;d，h&gt;，&lt;d，i&gt;，&lt;d，j&gt; &#125;</span><br></pre></td></tr></table></figure>
<p>从它的二元关系的序偶 &lt;a,b&gt; 中可以看出这是一个有向关系，那么其二元组关系对应的逻辑结构如下图所示：</p>
<img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gfk5mc4yk8j309d051jr6.jpg" alt="数据结构二元组示例" align="bottom">
<center>数据结构二元组示例</center>


<h3><span id="chou-xiang-shu-ju-lei-xing-adt">抽象数据类型(ADT)</span><a href="#chou-xiang-shu-ju-lei-xing-adt" class="header-anchor">#</a></h3><p>抽象数据类型只关心数据节点的逻辑结构和抽象运算（即运算的定义），暂不考虑计算机的具体存储结构和运算的具体实现。实质上就是在用抽象的方法描述问题本身，目的是在不涉及具体的，和计算机系统相关的细节情况下，优先理解问题本身，在此基础上，实现用计算机求解问题的过程。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ADT &lt;抽象数据类型&gt;</span><br><span class="line">&#123;</span><br><span class="line">    数据对象：&lt;数据对象的定义&gt;</span><br><span class="line">    数据关系：&lt;数据关系定义&gt;</span><br><span class="line">    基本操作：&lt;基本操作定义&gt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>对数据对象的定义和描述数据元素之间的关系，这个就是逻辑结构二元组的内容，所以，抽象数据类型就是逻辑结构二元组的扩展，在逻辑结构二元组的基础上增加对数据元素的基本运算定义。</p>
<p>线性表的抽象数据类型：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">ADT List</span><br><span class="line">&#123;</span><br><span class="line">数据对象：</span><br><span class="line">    D = &#123;ai | ai ∈ ElemType, i=1,2,…,n, n&gt;=0 &#125;              // ElemType为类型标识符int的别名</span><br><span class="line">数据关系：</span><br><span class="line">    R = &#123;&lt;ai-1, ai&gt; | ai-1, ai ∈ D, i=2,3,…,n &#125;</span><br><span class="line">数据操作：</span><br><span class="line">    （1）tabSeq * InitList();	                            // 初始化一个空的线性表，tabSeq为结构体类型</span><br><span class="line">    （2）void CreateList(tabSeq *L, ElemType a[], int n);	// 创建线性表</span><br><span class="line">    （3）Bool ListEmpty(tabSeq *L);	                        // 判断线性表是否为空</span><br><span class="line">    （4）int ListLength(tabSeq *L);	                        // 返回线性表的长度</span><br><span class="line">    （5）void DispList(tabSeq *L);	                        // 输出线性表元素</span><br><span class="line">    （6）Bool GetElem(tabSeq *L,int i,ElemType *e);	        // 返回指定序号的元素</span><br><span class="line">    （7）int LocateElem(tabSeq *L, ElemType e);	            // 返回指定元素的序号</span><br><span class="line">    （8）Bool ListInsert(tabSeq *L,int i,ElemType e);	    // 在指定序号位置插入元素</span><br><span class="line">    （9）Bool ListDelete(tabSeq *L,int i,ElemType *e);	    // 在指定序号位置删除元素</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>根据抽象数据类型的定义可以知道：</p>
<ul>
<li>数据元素集合D包含n个int类型整数；</li>
<li>R表示数据元素之间是有向的，具有前驱后继关系；</li>
<li>最后定义了9个基本运算，涵盖初始化，创建，判断是否为空……等等。</li>
</ul>
<p>ADT可以帮助理解问题本身，理解对外暴露的接口，在次基础上，根据实际需求，选择合适的存储结构，实现具体运算。</p>

      
	</div>

<div class="meta">
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="2020/06/01/leetcode-1431/">leetcode 1431e 拥有最多糖果的孩子</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2020-06-01T07:00:00.000Z" itemprop="datePublished">Jun 1, 2020</time>
</div>
      <div class="tags">Tags: 

<a href="/tags/leetcode/">leetcode</a>
</div>
    </div>
      
        <h4><span id="ti-mu-miao-shu">题目描述</span><a href="#ti-mu-miao-shu" class="header-anchor">#</a></h4><p>给你一个数组 candies 和一个整数 extraCandies ，其中 candies[i] 代表第 i 个孩子拥有的糖果数目。</p>
<p>对每一个孩子，检查是否存在一种方案，将额外的 extraCandies 个糖果分配给孩子们之后，此孩子有 最多 的糖果。注意，允许有多个孩子同时拥有 最多 的糖果数目。</p>
<p>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">输入：candies = [2,3,5,1,3], extraCandies = 3</span><br><span class="line">输出：[true,true,true,false,true] </span><br><span class="line">解释：</span><br><span class="line">孩子 1 有 2 个糖果，如果他得到所有额外的糖果（3个），那么他总共有 5 个糖果，他将成为拥有最多糖果的孩子。</span><br><span class="line">孩子 2 有 3 个糖果，如果他得到至少 2 个额外糖果，那么他将成为拥有最多糖果的孩子。</span><br><span class="line">孩子 3 有 5 个糖果，他已经是拥有最多糖果的孩子。</span><br><span class="line">孩子 4 有 1 个糖果，即使他得到所有额外的糖果，他也只有 4 个糖果，无法成为拥有糖果最多的孩子。</span><br><span class="line">孩子 5 有 3 个糖果，如果他得到至少 2 个额外糖果，那么他将成为拥有最多糖果的孩子。</span><br></pre></td></tr></table></figure>


<p>提示：</p>
<ul>
<li>2 &lt;&#x3D; candies.length &lt;&#x3D; 100</li>
<li>1 &lt;&#x3D; candies[i] &lt;&#x3D; 100</li>
<li>1 &lt;&#x3D; extraCandies &lt;&#x3D; 50</li>
</ul>
<p>即是：</p>
<ul>
<li>2 &lt;&#x3D; 孩子的数量 &lt;&#x3D; 100</li>
<li>1 &lt;&#x3D; 孩子的糖果数量 &lt;&#x3D; 100</li>
<li>1 &lt;&#x3D; 额外的糖果数量 &lt;&#x3D; 50</li>
</ul>
<h4><span id="suan-fa">算法</span><a href="#suan-fa" class="header-anchor">#</a></h4><ol>
<li>遍历每个小孩子的糖果数量，找到糖果数量最大值 maximum</li>
<li>把额外的糖果数量只分给一个小孩，找到此时糖果总数量 大于等于 糖果数量最大值 的小孩</li>
</ol>
<h4><span id="c-dai-ma">C代码</span><a href="#c-dai-ma" class="header-anchor">#</a></h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> true 1</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> false 0</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> <span class="type">bool</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Note: The returned array must be malloced, assume caller calls free().</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">bool</span>* <span class="title function_">kidsWithCandies</span><span class="params">(<span class="type">int</span>* candies, <span class="type">int</span> candiesSize, <span class="type">int</span> extraCandies, <span class="type">int</span>* returnSize)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> i;</span><br><span class="line">    <span class="type">int</span> maximum = <span class="number">0</span>;</span><br><span class="line">    <span class="type">bool</span> *output = (<span class="type">bool</span> *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="type">bool</span>) * candiesSize);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 遍历每个小孩子的糖果数量，找到糖果数量最大值 maximum</span></span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;candiesSize;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(candies[i] &gt; maximum) maximum = candies[i];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//  把额外的糖果数量 extraCandies 只分给一个小孩，</span></span><br><span class="line">    <span class="comment">//  找到此时糖果总数量 大于等于 糖果数量最大值 的小孩，标记true，其余标记false</span></span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;candiesSize;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (candies[i] + extraCandies &gt;= maximum)</span><br><span class="line">            output[i] = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            output[i] = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    *returnSize = candiesSize;</span><br><span class="line">    <span class="keyword">return</span> output;    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> candies[] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>&#125;;</span><br><span class="line">    <span class="type">int</span> candiesSize = <span class="number">8</span>;</span><br><span class="line">    <span class="type">int</span> extraCandies = <span class="number">2</span>;</span><br><span class="line">    <span class="type">int</span> *returnSize;</span><br><span class="line">    <span class="type">bool</span> *result;</span><br><span class="line">    result = kidsWithCandies(&amp;candies[<span class="number">0</span>],candiesSize,extraCandies,returnSize);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;[&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;*returnSize;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(result[i] == <span class="number">1</span>)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;true&quot;</span>);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;false&quot;</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(i &lt; (*returnSize<span class="number">-1</span>)) <span class="built_in">printf</span>(<span class="string">&quot;,&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;]&quot;</span>);</span><br><span class="line">    <span class="built_in">free</span>(result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4><span id="shi-jian-fu-za-du">时间复杂度</span><a href="#shi-jian-fu-za-du" class="header-anchor">#</a></h4><p>第一次for循环，时间复杂度为O(n)；</p>
<p>第二次for循环，时间复杂度也为O(n)。</p>
<p>因此算法的时间复杂度为O(n)。</p>

      
	</div>

<div class="meta">
	
</div>
</article>


  <nav id="pagenavi">
    
        <a href="/page/3/" class="prev">Prev</a>
    
    
        <a href="/page/5/" class="next">Next</a>
    
  <div class="center"><a href="/archives/index.html">Blog Archives</a></div>
  </nav>


    </div>
    <footer id="footer">
    <div style="display:inline">
    Copyright &copy; 2022

    CFONG
. Powered by <a href="http://zespia.tw/hexo/" target="_blank">Hexo</a> |
    Theme is <a target="_blank" rel="noopener" href="https://github.com/wd/hexo-fabric">hexo-fabric</a>, fork from <a target="_blank" rel="noopener" href="http://github.com/panks/fabric">fabric</a> by <a target="_blank" rel="noopener" href="http://panks.me">Pankaj Kumar</a>
</div>


    </footer>
    <script src="/javascripts/fabric.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script>
 <!-- Delete or comment this line to disable Fancybox -->



<!-- end toload --> 
</div>
</div>
<script src="/javascripts/jquery.ui.totop.js" type="text/javascript"></script>
<script type="text/javascript">
/*<![CDATA[*/
;(function($){$().UItoTop({easingType:'easeOutCirc'});})(jQuery); 
/*]]>*/
</script><!-- remove it to remove the scroll to top button -->
</body>
</html>
