<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
    
	<title>不知有晋</title>
    <meta name="author" content="CFONG">
    
	<meta name="description" content=""> <!-- TODO: truncate -->
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="atom.xml" rel="alternate" title="不知有晋" type="application/atom+xml">
	<link href="/favicon.ico" rel="shortcut icon">
    <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
    <link href="/stylesheets/custom.css" media="screen, projection" rel="stylesheet" type="text/css">
    <link href="/stylesheets/hljs.css" media="screen, projection" rel="stylesheet" type="text/css">

    <link href='//fonts.googleapis.com/css?family=Slackey' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Amethysta' rel='stylesheet' type='text/css'>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![}]-->

    <script type="text/javascript" src="/javascripts/jquery-tapir.js"></script>
    <script src="/javascripts/MathJax.js" type="text/javascript"></script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            tex2jax: {
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
            inlineMath: [['$','$']]
            }
        });
    </script>
    <!-- remove or comment it to disable ajaxification -->   
    <!-- <script src="/javascripts/ajaxify.js"></script> -->

    

    

<meta name="generator" content="Hexo 6.2.0"></head>


<body>
    <div id="wrapper">
    <header id="header" class="inner"><!-- for more effects see _animate.scss -->
<h1 class="animated bounceInDown">
    <div id="headerbg">
        不知有晋
    </div>
</h1>
<span class="subtitle"></span>
<br>

<ul id="social-links" style="text-align:center; clear:both;">
  
  
  
  
  
  
  
  
</ul>


<!-- use full url including 'index.html' for navigation bar if you are using ajax -->
<ul id="nav">
	<li id="ajax"><a href="/index.html">Home</a></li>
	<li id="ajax"><a href="/archives/index.html">Archives</a></li>
	<li id="ajax"><a href="/tags/index.html">Tags</a></li>
    <li><a href="/atom.xml">RSS</a></li>
    
    <li>
    <div id="dark">
        <form action="//www.google.com.hk/search" method="get" accept-charset="UTF-8" id="search">
            <input type="hidden" name="sitesearch" value="http://chenfeng.org" />
            <input type="text" name="q" results="0" placeholder="Search..." x-webkit-speech />
        </form>
    </div>
    </li>
        
</ul>




</header>

<div id="toload">
<!-- begin toload -->
    <div id="content" class="inner">
        



  <article class="post">
	<h2 class="title">
		<a href="2020/07/13/btree-storage/">二叉树的存储</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2020-07-13T05:00:00.000Z" itemprop="datePublished">Jul 13, 2020</time>
</div>
      <div class="tags">Tags: 

<a href="/tags/数据结构/">数据结构</a> <a href="/tags/树/">树</a>
</div>
    </div>
      
        <h3><span id="er-cha-shu-de-chou-xiang-shu-ju-lei-xing">二叉树的抽象数据类型</span><a href="#er-cha-shu-de-chou-xiang-shu-ju-lei-xing" class="header-anchor">#</a></h3><p>二叉树是有相同特性的n(n&gt;&#x3D;0)个数据节点组成的一个有穷序列，节点之间存在一对多的关系。</p>
<p>严格区分左子树和右子树，并且先有左子树后有右子树。</p>
<p>树的抽象运算方法有：构造树，遍历树，查找节点，查找左右子树等。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">ADT Tree</span><br><span class="line">&#123;</span><br><span class="line">数据对象：</span><br><span class="line">    D = &#123;ai | ai ∈ ElemType, i=<span class="number">1</span>,<span class="number">2</span>,…,n, n&gt;=<span class="number">0</span> &#125;              <span class="comment">// ElemType为类型标识符</span></span><br><span class="line">数据关系：</span><br><span class="line">    R = &#123;&lt;ai,aj&gt; | ai, aj∈D, i=<span class="number">1</span>,<span class="number">2</span>,…,n, j=<span class="number">1</span>,<span class="number">2</span>,…,n，其中每个元素只有一个前驱节点 ，可以有零个或多个后继节点，有且仅有一个元素（根节点）没有前驱节点 &#125;</span><br><span class="line">数据操作：</span><br><span class="line">    BTNode *CreateBTNode(<span class="type">char</span> *str);            <span class="comment">//由str串创建二叉树</span></span><br><span class="line">    BTNode *<span class="title function_">FindNode</span><span class="params">(BTNode *b, ElemType x)</span>;    <span class="comment">//返回data域为x的节点指针</span></span><br><span class="line">    BTNode *<span class="title function_">LchildNode</span><span class="params">(BTNode *p)</span>;              <span class="comment">//返回p节点的左孩子节点指针</span></span><br><span class="line">    BTNode *<span class="title function_">RchildNode</span><span class="params">(BTNode *p)</span>;              <span class="comment">//返回p节点的右孩子节点指针</span></span><br><span class="line">    <span class="type">int</span> <span class="title function_">BTNodeDepth</span><span class="params">(BTNode *b)</span>;                 <span class="comment">//求二叉树b的深度</span></span><br><span class="line">    <span class="type">void</span> <span class="title function_">DispBTNode</span><span class="params">(BTNode *b)</span>;                 <span class="comment">//以括号表示法输出二叉树</span></span><br><span class="line">    <span class="type">void</span> <span class="title function_">DestroyBTNode</span><span class="params">(BTNode *b)</span>;              <span class="comment">//销毁二叉树</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3><span id="shun-xu-cun-chu-jie-gou">顺序存储结构</span><a href="#shun-xu-cun-chu-jie-gou" class="header-anchor">#</a></h3><p>顺序存储结构把树节点保存到连续的存储空间中，借助于 <strong><a href="/2020/06/17/string#%E9%A1%BA%E5%BA%8F%E4%B8%B2">串结构</a></strong> 的运算构造二叉树。</p>
<p>根据 <strong><a href="/2020/07/11/btree#%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E6%80%A7%E8%B4%A8">性质4</a></strong> 可知：</p>
<ul>
<li>若编号为 $i$ 的节点是分支节点，那么其左子节点编号为 $2i$ ，其右子节点编号为$2i+1$ ；</li>
<li>若编号为 $i$ 的节点不是根节点，那么其父节点编号为 $floor(i&#x2F;2)$ 。</li>
</ul>
<p>利用 <strong>性质4</strong> 可以很方便的找到父节点或者子节点。</p>
<p>顺序存储结构的优点是节省空间，缺点是描述二叉树作为参数输入比较麻烦。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MaxSize 100</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">char</span> ElemType;</span><br><span class="line"></span><br><span class="line"><span class="comment">//借助串结构构造顺序存储结构二叉树</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span>   <span class="type">char</span> data[MaxSize];         </span><br><span class="line">    <span class="type">int</span> length;                 </span><br><span class="line">&#125; treeSeq;</span><br><span class="line"></span><br><span class="line">treeSeq * <span class="title function_">InitTree</span><span class="params">()</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">CreateTree</span><span class="params">(treeSeq *t,<span class="type">char</span> *str)</span>; <span class="comment">//由str串创建二叉树</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">FindNode</span><span class="params">(treeSeq *t,<span class="type">char</span> c)</span>;       <span class="comment">//返查找节点</span></span><br><span class="line"><span class="type">char</span> <span class="title function_">LchildNode</span><span class="params">(treeSeq *t,<span class="type">int</span> index)</span>; <span class="comment">//返回指定编号节点的左孩子节点</span></span><br><span class="line"><span class="type">char</span> <span class="title function_">RchildNode</span><span class="params">(treeSeq *t,<span class="type">int</span> index)</span>; <span class="comment">//返回指定编号节点的右孩子节点</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">MaxIndex</span><span class="params">(treeSeq *t)</span>;              <span class="comment">//返回树节点的最大编号</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">TreeDepth</span><span class="params">(<span class="type">int</span> index)</span>;              <span class="comment">//根据节点的最大编号求二叉树的深度</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">DispTree</span><span class="params">(treeSeq *t)</span>;             <span class="comment">//输出二叉树</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">DestroyTree</span><span class="params">(treeSeq *t)</span>;          <span class="comment">//销毁二叉树</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> cstr[] = <span class="string">&quot;ABCDEFG##H####I&quot;</span>;</span><br><span class="line">    treeSeq *t;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (1)初始化，创建二叉树:&quot;</span>);</span><br><span class="line">    t = InitTree();</span><br><span class="line">    CreateTree(t,cstr);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (2)输出二叉树:&quot;</span>);</span><br><span class="line">    DispTree(t);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (3)查找节点B:&quot;</span>);</span><br><span class="line">    <span class="type">int</span> index = FindNode(t, <span class="string">&#x27;B&#x27;</span>);</span><br><span class="line">    <span class="keyword">if</span>(index) </span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;节点B的index=%d\n&quot;</span>,index);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;  (4)&quot;</span>);</span><br><span class="line">        <span class="type">char</span> lp = LchildNode(t,index);</span><br><span class="line">        <span class="keyword">if</span> (lp != <span class="string">&#x27;\0&#x27;</span>)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;左孩子为%c &quot;</span>, lp);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;无左孩子 &quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">char</span> rp = RchildNode(t,index);</span><br><span class="line">        <span class="keyword">if</span> (rp != <span class="string">&#x27;\0&#x27;</span>)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;右孩子为%c&quot;</span>, rp);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;无右孩子 &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;节点B未找到！&quot;</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="type">int</span> maxIndex = MaxIndex(t);</span><br><span class="line">    <span class="type">int</span> h = TreeDepth(maxIndex);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (4)二叉树b的深度:%d\n&quot;</span>, h);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (5)释放二叉树t\n&quot;</span>);</span><br><span class="line">    DestroyTree(t);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//初始化空树</span></span><br><span class="line">treeSeq * <span class="title function_">InitTree</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    treeSeq *tmp = (treeSeq *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(treeSeq));</span><br><span class="line">    tmp-&gt;data[<span class="number">0</span>] = <span class="string">&#x27;#&#x27;</span>;</span><br><span class="line">    tmp-&gt;length = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//字符串表示法创建二叉树</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">CreateTree</span><span class="params">(treeSeq *t,<span class="type">char</span> cstr[])</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (cstr[i] != <span class="string">&#x27;\0&#x27;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        t-&gt;data[i+<span class="number">1</span>] = cstr[i];</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    t-&gt;length = i;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//输出二叉树</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">DispTree</span><span class="params">(treeSeq *t)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;t-&gt;length;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>,t-&gt;data[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//查找节点</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">FindNode</span><span class="params">(treeSeq *t, <span class="type">char</span> c)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;t-&gt;length;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(t-&gt;data[i] == c) <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//左子树</span></span><br><span class="line"><span class="type">char</span> <span class="title function_">LchildNode</span><span class="params">(treeSeq *t,<span class="type">int</span> index)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="number">2</span>*index &gt; t-&gt;length || t-&gt;data[<span class="number">2</span>*index] == <span class="string">&#x27;#&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> t-&gt;data[<span class="number">2</span>*index];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//右子树</span></span><br><span class="line"><span class="type">char</span> <span class="title function_">RchildNode</span><span class="params">(treeSeq *t,<span class="type">int</span> index)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="number">2</span>*index+<span class="number">1</span> &gt; t-&gt;length || t-&gt;data[<span class="number">2</span>*index] == <span class="string">&#x27;#&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> t-&gt;data[<span class="number">2</span>*index+<span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//二叉树深度</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">TreeDepth</span><span class="params">(<span class="type">int</span> index)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> h = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(index &lt; <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (index &gt; <span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        h++;</span><br><span class="line">        index = (<span class="type">int</span>)<span class="built_in">floor</span>(index/<span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> h;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取最大节点编号</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">MaxIndex</span><span class="params">(treeSeq *t)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=t-&gt;length;i&gt;<span class="number">0</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(t-&gt;data[i] != <span class="string">&#x27;#&#x27;</span>) <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//销毁二叉树</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">DestroyTree</span><span class="params">(treeSeq *t)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">free</span>(t);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3><span id="lian-shi-cun-chu-jie-gou">链式存储结构</span><a href="#lian-shi-cun-chu-jie-gou" class="header-anchor">#</a></h3><p>一个树节点包括有一个值域和两个分别指向左子树和右子树的指针，链式存储结构定义为：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    ElemType data;         <span class="comment">//数据元素</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">lchild</span>;</span>   <span class="comment">//指向左孩子</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">rchild</span>;</span>   <span class="comment">//指向右孩子</span></span><br><span class="line">&#125; BTNode;</span><br></pre></td></tr></table></figure>

<p>代码实现：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MaxSize 100</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">char</span> ElemType;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    ElemType data;         <span class="comment">//数据元素</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">lchild</span>;</span>   <span class="comment">//指向左孩子</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">rchild</span>;</span>   <span class="comment">//指向右孩子</span></span><br><span class="line">&#125; BTNode;</span><br><span class="line"></span><br><span class="line">BTNode *<span class="title function_">CreateBTNode</span><span class="params">(<span class="type">char</span> *str)</span>;         <span class="comment">//由str串创建二叉树</span></span><br><span class="line">BTNode *<span class="title function_">FindNode</span><span class="params">(BTNode *b, ElemType x)</span>; <span class="comment">//返回data域为x的节点指针</span></span><br><span class="line">BTNode *<span class="title function_">LchildNode</span><span class="params">(BTNode *p)</span>;           <span class="comment">//返回p节点的左孩子节点指针</span></span><br><span class="line">BTNode *<span class="title function_">RchildNode</span><span class="params">(BTNode *p)</span>;           <span class="comment">//返回p节点的右孩子节点指针</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">BTNodeDepth</span><span class="params">(BTNode *b)</span>;              <span class="comment">//求二叉树b的深度</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">DispBTNode</span><span class="params">(BTNode *b)</span>;              <span class="comment">//以括号表示法输出二叉树</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">DestroyBTNode</span><span class="params">(BTNode *b)</span>;           <span class="comment">//销毁二叉树</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    BTNode *b, *p, *lp, *rp;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (1)创建二叉树:&quot;</span>);</span><br><span class="line">    b = CreateBTNode(<span class="string">&quot;A(B(D,E(H(J,K(L,M(,N))))),C(F,G(,I)))&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (2)输出二叉树:&quot;</span>);</span><br><span class="line">    DispBTNode(b);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (3)查找H节点:&quot;</span>);</span><br><span class="line">    p = FindNode(b, <span class="string">&#x27;H&#x27;</span>);</span><br><span class="line">    <span class="keyword">if</span> (p != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        lp = LchildNode(p);</span><br><span class="line">        <span class="keyword">if</span> (lp != <span class="literal">NULL</span>)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;左孩子为%c &quot;</span>, lp-&gt;data);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;无左孩子 &quot;</span>);</span><br><span class="line">        rp = RchildNode(p);</span><br><span class="line">        <span class="keyword">if</span> (rp != <span class="literal">NULL</span>)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;右孩子为%c&quot;</span>, rp-&gt;data);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;无右孩子 &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot; 未找到！&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (4)二叉树b的深度:%d\n&quot;</span>, BTNodeDepth(b));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (5)释放二叉树b\n&quot;</span>);</span><br><span class="line">    DestroyBTNode(b);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//销毁二叉树</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">DestroyBTNode</span><span class="params">(BTNode *b)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (b != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        DestroyBTNode(b-&gt;lchild);</span><br><span class="line">        DestroyBTNode(b-&gt;rchild);</span><br><span class="line">        <span class="built_in">free</span>(b);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//二叉树深度</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">BTNodeDepth</span><span class="params">(BTNode *b)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> lchilddep, rchilddep;</span><br><span class="line">    <span class="keyword">if</span> (b == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        lchilddep = BTNodeDepth(b-&gt;lchild);</span><br><span class="line">        rchilddep = BTNodeDepth(b-&gt;rchild);</span><br><span class="line">        <span class="keyword">return</span> (lchilddep &gt; rchilddep) ? (lchilddep + <span class="number">1</span>) : (rchilddep + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//左子树</span></span><br><span class="line">BTNode *<span class="title function_">LchildNode</span><span class="params">(BTNode *p)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (p == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> p-&gt;lchild;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//右子树</span></span><br><span class="line">BTNode *<span class="title function_">RchildNode</span><span class="params">(BTNode *p)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (p == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> p-&gt;rchild;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//括号表示法创建二叉树</span></span><br><span class="line">BTNode *<span class="title function_">CreateBTNode</span><span class="params">(<span class="type">char</span> *str)</span></span><br><span class="line">&#123;</span><br><span class="line">    BTNode *st[MaxSize], *p = <span class="literal">NULL</span>,*b = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="type">int</span> top = <span class="number">-1</span>, k, j = <span class="number">0</span>;</span><br><span class="line">    <span class="type">char</span> ch = str[j];</span><br><span class="line">    <span class="keyword">while</span> (ch != <span class="string">&#x27;\0&#x27;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">switch</span> (ch)</span><br><span class="line">        &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;(&#x27;</span>:</span><br><span class="line">            top++;</span><br><span class="line">            st[top] = p;</span><br><span class="line">            k = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;)&#x27;</span>:</span><br><span class="line">            top--;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;,&#x27;</span>:</span><br><span class="line">            k = <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            p = (BTNode *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(BTNode));</span><br><span class="line">            p-&gt;data = ch;</span><br><span class="line">            p-&gt;lchild = p-&gt;rchild = <span class="literal">NULL</span>;</span><br><span class="line">            <span class="comment">//第一个元素为根节点，</span></span><br><span class="line">            <span class="keyword">if</span> (b == <span class="literal">NULL</span>)</span><br><span class="line">                b = p;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">switch</span> (k)</span><br><span class="line">                &#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                    st[top]-&gt;lchild = p;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                    st[top]-&gt;rchild = p;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        ch = str[++j];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//括号表示法输出二叉树</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">DispBTNode</span><span class="params">(BTNode *b)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(b != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">       <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>,b-&gt;data); </span><br><span class="line">       <span class="keyword">if</span>(b-&gt;lchild != <span class="literal">NULL</span> || b-&gt;rchild != <span class="literal">NULL</span>)</span><br><span class="line">       &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;(&quot;</span>); </span><br><span class="line">            <span class="keyword">if</span>(b-&gt;lchild != <span class="literal">NULL</span>)</span><br><span class="line">                DispBTNode(b-&gt;lchild);</span><br><span class="line">            <span class="keyword">if</span>(b-&gt;rchild != <span class="literal">NULL</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;,&quot;</span>); </span><br><span class="line">                DispBTNode(b-&gt;rchild);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;)&quot;</span>); </span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//查找节点</span></span><br><span class="line">BTNode *<span class="title function_">FindNode</span><span class="params">(BTNode *b, ElemType x)</span></span><br><span class="line">&#123;</span><br><span class="line">    BTNode *p;</span><br><span class="line">    <span class="keyword">if</span> (b == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (b-&gt;data == x)</span><br><span class="line">        <span class="keyword">return</span> b;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        p = FindNode(b-&gt;lchild, x);</span><br><span class="line">        <span class="keyword">if</span> (p != <span class="literal">NULL</span>)</span><br><span class="line">            <span class="keyword">return</span> p;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">return</span> FindNode(b-&gt;rchild, x);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
	</div>

<div class="meta">
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="2020/07/11/btree/">二叉树简介</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2020-07-11T05:00:00.000Z" itemprop="datePublished">Jul 11, 2020</time>
</div>
      <div class="tags">Tags: 

<a href="/tags/数据结构/">数据结构</a> <a href="/tags/树/">树</a>
</div>
    </div>
      
        <h3><span id="er-cha-shu-de-ding-yi">二叉树的定义</span><a href="#er-cha-shu-de-ding-yi" class="header-anchor">#</a></h3><p>定义：二叉树是一种特殊的树形结构，其特点是每个节点至多只有两棵子树，并且二叉树的子树有左右之分，次序不能颠倒。</p>
<p>二叉树的递归定义：二叉树是 $n(n&gt;&#x3D;0)$ 个节点的有限集合，其或者为空二叉树 $(n&#x3D;0)$ ，或者由一个根节点和两个互不相交的被称为根的左子树和右子树组成。</p>
<h3><span id="ji-ge-te-shu-de-er-cha-shu">几个特殊的二叉树</span><a href="#ji-ge-te-shu-de-er-cha-shu" class="header-anchor">#</a></h3><p><strong>满二叉树</strong></p>
<p>定义：一棵高为 $h$ ，且有 $2^{h-1}$ 个节点的二叉树称为满二叉树。</p>
<p>特点：</p>
<ol>
<li>叶子节点都在最下一层；</li>
<li>只有度为0和度为2的节点。</li>
</ol>
<p><strong>完全二叉树</strong></p>
<p>定义：二叉树中最多只有最下面两层的节点的度数可以小于2，并且最下面一层的叶节点都依次排列在该层最左边的位置上。</p>
<p>特点：</p>
<ol>
<li>叶子节点只能在层次最大的两层上出现；</li>
<li>最大层次上的叶子节点，都依次排列在该层最左边的位置；</li>
<li>如果有度为1的节点，只能有一个，且该节点只有左孩子，没有右孩子；</li>
<li>若 $i&lt;&#x3D;floor(n&#x2F;2)$ ，则节点 $i$ 为分支节点，否则为叶子节点；</li>
</ol>
<p><strong>二叉搜索树</strong></p>
<blockquote>
<p>二叉搜索树（Binary Search Tree），又称二叉排序树（Binary Sort Tree）。</p>
</blockquote>
<p>定义：一棵空树，或者是具有下列性质的二叉树：</p>
<ol>
<li>若左子树不空，则左子树上所有节点的值均小于它的根节点的值；</li>
<li>若右子树不空，则右子树上所有节点的值均大于它的根节点的值；</li>
<li>左、右子树也分别为二叉排序树；</li>
<li>没有键值相等的节点；</li>
</ol>
<p><strong>平衡二叉搜索树</strong></p>
<p>定义：树上任一节点的左子树和右子树的深度之差不超过1。</p>
<blockquote>
<p>平衡二叉搜索树也叫 <strong>AVL树</strong> ，是<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%B9%B3%E8%A1%A1%E6%A0%91">平衡树</a>的一种。</p>
<p>一般的，二叉排序树的查询复杂度取决于目标节点到树根的距离（即深度），因此当节点的深度普遍较大时，查询的均摊复杂度会上升。为了实现更高效的查询，产生了平衡二叉树。</p>
</blockquote>
<h3><span id="er-cha-shu-de-xing-zhi">二叉树的性质</span><a href="#er-cha-shu-de-xing-zhi" class="header-anchor">#</a></h3><p><strong>性质1</strong> 非空二叉树上叶节点数等于双分支节点数加 $1$ 。</p>
<blockquote>
<p>证明：</p>
<ol>
<li>设节点数 $n$ ，叶子节点数 $n_0$ ，单分支节点数 $n_1$ ，双分支节点数 $n_2$，于是有等式： $n&#x3D;n_0+n_1+n_2$ </li>
<li>设度数 $r$ ，则有等式： $r&#x3D;n_1+2n_2$ </li>
<li>由树的 <strong><a href="/2020/07/09/tree#%E6%A0%91%E7%9A%84%E6%80%A7%E8%B4%A8">性质1</a></strong> 可知有等式： $n&#x3D;r+1$ </li>
<li>因此有等式：$n_1+2n_2+1&#x3D;n_0+n_1+n_2$ </li>
<li>所以有： $n_2+1&#x3D;n_0$</li>
</ol>
</blockquote>
<p><strong>性质2</strong> 非空二叉树上第 $i$ 层上至多有 $2^{i-1}$ 个节点，这里应有 $(i&gt;&#x3D;1)$ 。</p>
<blockquote>
<p>由树的 <strong><a href="/2020/07/09/tree#%E6%A0%91%E7%9A%84%E6%80%A7%E8%B4%A8">性质2</a></strong> 可推出</p>
</blockquote>
<p><strong>性质3</strong> 高度为 $h$ 的二叉树至多有 $2^{h-1}$个节点 $(h&gt;&#x3D;1)$ 。</p>
<blockquote>
<p>由树的 <strong><a href="/2020/07/09/tree#%E6%A0%91%E7%9A%84%E6%80%A7%E8%B4%A8">性质3</a></strong> 可推出</p>
</blockquote>
<p><strong>性质4</strong> 对完全二叉树中编号为 $i$ 的节点 $(1&lt;&#x3D;i&lt;&#x3D;n,n&gt;&#x3D;1)$</p>
<ol>
<li>若 $i&lt;&#x3D;floor(n&#x2F;2)$ ，即 $2i&lt;&#x3D;n$ ，则编号为 $i$ 的节点为分支节点，否则为叶子节点。</li>
<li>若 $n$ 为奇数，则每个分支节点都既有左孩子节点，也有右孩子节点；若 $n$ 为偶数，则编号最大的分支节点只有左孩子节点，没有右孩子节点，其余分支节点都有左、右孩子节点。</li>
<li>若编号为 $i$ 的节点有左孩子节点，则左孩子节点的编号为 $2i$ ；若编号为 $i$ 的节点有右孩子节点，则右孩子节点的编号为 $2i+1$ 。</li>
</ol>
<p><strong>性质5</strong> 具有 $n(n＞0)$ 个节点的完全二叉树的高度为 $ceil(log_2n)$ 或 $floor(log_2n)+1$</p>
<blockquote>
<p>证明：</p>
<ol>
<li>设二叉树高度为 $h$ ，可得等式：$f(h)&#x3D;2^h-1&#x3D;n$</li>
<li>二叉树的节点数量范围等式：$f(h-1) &lt; n &lt;&#x3D; f(h)$</li>
</ol>
<ul>
<li><strong>两边加1：</strong> $f(h-1)+1$表示完全二叉树有 $h$ 层，且第 $h$ 层只有一个元素，$f(h)+1$同理表示完全二叉树有 $h+1$ 层，且第 $h+1$ 层只有一个元素</li>
<li><strong>变换可得等式：</strong> $f(h-1)+1 &lt;&#x3D; n &lt; f(h)+1$</li>
<li><strong>即是：</strong> $2^{h-1} &lt;&#x3D; n &lt; 2^h$</li>
<li><strong>求对数：</strong> $h-1 &lt;&#x3D; log_2{n} &lt; h$</li>
<li><strong>整理可得：</strong> $log_2{n} &lt; h &lt;&#x3D; log_2{n}+1$</li>
</ul>
</blockquote>
<h3><span id="er-cha-shu-de-cun-chu-jie-gou">二叉树的存储结构</span><a href="#er-cha-shu-de-cun-chu-jie-gou" class="header-anchor">#</a></h3><div style="display: flex;">
    <div float="left">
    <img src="http://tvax2.sinaimg.cn/large/7d4c6366gy1ggrw1tyiwyj20ab06zmxa.jpg" alt align="bottom">
    <center>图1</center>
    </div>
    <div float="right">
    <img src="http://tvax4.sinaimg.cn/large/7d4c6366gy1ggrw24ht10j207d06zq31.jpg" alt align="bottom">
    <center>图2</center>
    </div>
</div>

<p><strong>顺序存储结构</strong></p>
<p>对二叉树中的每个节点进行编号，从根节点1开始，从上到下，从左到右，依序编号。</p>
<p>存储时，其编号从小到大的顺序就是节点在连续存储空间的先后次序。</p>
<p>如果是非完全二叉树（如图2），则需要先用空节点补全成为完全二叉树，然后再确定编号，最后再存储。</p>
<p>顺序存储结构保存的二叉树，需要先使用字符串表示法，描述二叉树结构，作为输入参数。</p>
<ol>
<li>图1二叉树表示为：”#1234567”</li>
<li>图2二叉树表示为：”#123#5#7”</li>
</ol>
<blockquote>
<p>二叉树若使用顺序存储结构，则需要先使用字符串表示法描述二叉树结构。<br>如果遇到结构复杂的树，字符串表示法非常不方便描述树形结构，所以在实际应用中几乎不用。</p>
</blockquote>
<p><strong>链式存储结构</strong></p>
<p>链式存储结构保存二叉树，使用括号表示法描述二叉树结构，作为输入参数。</p>
<ol>
<li>图1二叉树表示为：”1(2(4,5),3(6,7))”</li>
<li>图2二叉树表示为：”1(2(,5),3(,7))”</li>
</ol>
<p>定义一个结构体节点，包含有值域和两个分别指向左孩子节点和有孩子节点的指针。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="type">char</span> ElemType;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    ElemType data;                          <span class="comment">//数据元素</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">lchild</span>;</span>                    <span class="comment">//指向左孩子</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">rchild</span>;</span>                    <span class="comment">//指向右孩子</span></span><br><span class="line">&#125; BTNode;</span><br></pre></td></tr></table></figure>


<h3><span id="er-cha-shu-de-bian-li">二叉树的遍历</span><a href="#er-cha-shu-de-bian-li" class="header-anchor">#</a></h3><p><strong>定义</strong> 按照一定次序访问树中所有节点，并且每个节点仅被访问一次的过程称为遍历。<br>遍历是最基本的运算，是树中所有其他运算的基础。</p>
<p>二叉树遍历算法有四种，分别是先序遍历、中序遍历、后序遍历、层次遍历。一般提及的有前三种，第四种层次遍历法比较少出现。</p>
<p><strong>先序遍历</strong></p>
<ul>
<li>访问顺序：<strong>根节点</strong>-左子树-右子树</li>
<li>遍历图1结果：1245367</li>
</ul>
<p><strong>中序遍历</strong></p>
<ul>
<li>访问顺序：左子树-<strong>根节点</strong>-右子树</li>
<li>遍历图1结果：4251637</li>
</ul>
<p><strong>后序遍历</strong></p>
<ul>
<li>访问顺序：左子树-右子树-<strong>根节点</strong></li>
<li>遍历图1结果：4526731</li>
</ul>
<p><strong>层次遍历</strong></p>
<ul>
<li>访问顺序：从上到下，从左到右依次访问</li>
<li>遍历图1结果：1234567</li>
</ul>

      
	</div>

<div class="meta">
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="2020/07/09/tree/">树和树结构</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2020-07-09T05:00:00.000Z" itemprop="datePublished">Jul 9, 2020</time>
</div>
      <div class="tags">Tags: 

<a href="/tags/数据结构/">数据结构</a> <a href="/tags/树/">树</a>
</div>
    </div>
      
        <img src="http://tva4.sinaimg.cn/large/7d4c6366gy1ggkhkeo6j9j20go0b40ty.jpg" alt="树" width="700" align="bottom">

<h3><span id="shu-jie-gou-de-ding-yi-he-shu-xing">树结构的定义和属性</span><a href="#shu-jie-gou-de-ding-yi-he-shu-xing" class="header-anchor">#</a></h3><p>定义：具有相同特性的n(n&gt;&#x3D;0)个数据节点组成的一个有穷序列，节点之间存在一对多的关系。</p>
<ul>
<li>当n等于0时，为空树</li>
<li>当n大于0时，有且仅有一个根节点，且根节点没有前驱节点<ul>
<li>除根节点外，其余节点都有且仅有一个前驱节点</li>
<li>树中每个节点都有零个或者多个后继节点</li>
</ul>
</li>
</ul>
<p>属性（如上图）：</p>
<ul>
<li><strong>空树</strong> 节点数为0的树称为空树</li>
<li><strong>根节点</strong> 节点①为根节点，根节点没有前驱节点，在树中具有唯一性</li>
<li><strong>前驱节点</strong> 前驱节点是一个相对位置的概念，节点①是节点②③的前驱节点</li>
<li><strong>后继节点</strong> 后继节点是一个相对位置的概念，节点②③是节点①的后继节点<blockquote>
<p>换一种说法:节点①的后继节点是节点②，节点①的后继节点是节点③</p>
</blockquote>
</li>
<li><strong>子节点</strong> 节点的后继节点称为子节点</li>
<li><strong>父节点</strong> 节点的前驱节点称为父节点</li>
<li><strong>兄弟节点</strong> 具有相同父节点的子节点互为兄弟节点</li>
<li><strong>子孙节点</strong> 节点的所有子树中的节点称为子孙节点</li>
<li><strong>祖先节点</strong> 从树根节点到达节点的路径上经过的所有节点被称为该节点的祖先节点</li>
</ul>
<h3><span id="chou-xiang-shu-ju-lei-xing">抽象数据类型</span><a href="#chou-xiang-shu-ju-lei-xing" class="header-anchor">#</a></h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">ADT Tree</span><br><span class="line">&#123;</span><br><span class="line">数据对象：</span><br><span class="line">    D = &#123;ai | ai ∈ ElemType, i=<span class="number">1</span>,<span class="number">2</span>,…,n, n&gt;=<span class="number">0</span> &#125;              <span class="comment">// ElemType为类型标识符</span></span><br><span class="line">数据关系：</span><br><span class="line">    R = &#123;&lt;ai,aj&gt; | ai, aj∈D, i=<span class="number">1</span>,<span class="number">2</span>,…,n, j=<span class="number">1</span>,<span class="number">2</span>,…,n，其中每个元素只有一个前驱节点 ，可以有零个或多个后继节点，有且仅有一个元素（根节点）没有前驱节点 &#125;</span><br><span class="line">数据操作：</span><br><span class="line">    (<span class="number">1</span>) treeSeq * InitTree();                              <span class="comment">//构造一个空的树t      </span></span><br><span class="line">    (<span class="number">2</span>) DestroyTree(treeSeq *t);                           <span class="comment">//释放树t占用的内存空间      </span></span><br><span class="line">    (<span class="number">3</span>) Parent(treeSeq *t);                                <span class="comment">//求t所指节点的双亲结点      </span></span><br><span class="line">    (<span class="number">4</span>) Sons(treeSeq *t);                                  <span class="comment">//求t所指节点的子孙节点      </span></span><br><span class="line">    ... ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>树的运算主要分为三大类：</p>
<ol>
<li>寻找满足某种特定关系的节点，如寻找双亲节点；</li>
<li>插入或删除某个节点，如在树的当前节点上插入一个新节点 或删除当前节点的第i个孩子节点等；</li>
<li>遍历树中每个节点。</li>
</ol>
<p>总结起来就是查找、增删、遍历</p>
</blockquote>
<h3><span id="shu-de-biao-shi-fang-fa">树的表示方法</span><a href="#shu-de-biao-shi-fang-fa" class="header-anchor">#</a></h3><p>树的表示方法：树形表示法、文氏图表示法、凹入表示法、括号表示法</p>
<img src="http://tva4.sinaimg.cn/large/7d4c6366gy1ggkigwbmk7j20m709cabq.jpg" alt="树的表示方法" width="700" align="bottom">


<h3><span id="shu-de-bian-li">树的遍历</span><a href="#shu-de-bian-li" class="header-anchor">#</a></h3><p>树的遍历指按照一定次序访问树中所有节点，并且每个节点仅被访问一次的过程。</p>
<p>三种方法实现树的遍历：</p>
<ol>
<li><p><strong>先根遍历</strong><br>若树不空，则先访问根节点，然后依次从左到右访问子节点。先根遍历上图的树：<code>1 2 4 8 9 5 10 11 3 6 7</code></p>
</li>
<li><p><strong>后根遍历</strong><br>若树不空，则先依次从左到右访问子节点，然后访问根节点。后根遍历上图的树：<code>8 9 4 10 11 5 2 6 7 3 1</code></p>
</li>
<li><p><strong>层次遍历</strong><br>若树不空，则自上而下，自左至右访问树中每个节点。层次遍历上图的树：<code>1 2 3 4 5 6 7 8 9 10 11</code></p>
</li>
</ol>
<h3><span id="shu-de-shu-xing-2">树的属性2</span><a href="#shu-de-shu-xing-2" class="header-anchor">#</a></h3><ul>
<li><p><strong>节点的度和树的度</strong> 树中某个节点的子节点个数称为该节点的度，节点中最大的度称为树的度</p>
</li>
<li><p><strong>分支节点与叶子节点</strong> 度不为零的节点称为分支节点，度为零的节点称为叶子节点</p>
<blockquote>
<p>节点的度数也叫节点的分支数，分支数等于1的节点称为单分支节点，分支数等于2的节点称为双分支节点，以此类推</p>
</blockquote>
</li>
<li><p><strong>路劲与路径长度</strong> 树中任意两个节点 $d_i$ 和 $d_j$ ，若存在一个节点序列 $[d_i,d_{i1},d_{i2},…,d_j]$，使得序列中除了 $d_i$ 外的任一个节点都是其在序列中前一个节点的后继节点，则称该节点序列为由 $d_i$ 到 $d_j$ 的一条路劲。路径长度等于路径序列中节点的数量减1</p>
<blockquote>
<p>节点①和⑩之间存在一个节点序列 [①②⑤⑩]，序列长度为3 </p>
</blockquote>
</li>
<li><p><strong>节点的层次和数的高度</strong> 一个节点的层次为从根节点到该节点的路径长度加1，节点的最大层次为树的高度</p>
</li>
<li><p><strong>森林</strong> n个互不相交的树的集合称为森林    </p>
<blockquote>
<p>森林转树：多个树的集合（森林）加一个根节点变成树</p>
<p>树转森林：一个树的集合去掉一个根节点变成森林</p>
</blockquote>
</li>
</ul>
<h3><span id="shu-de-xing-zhi">树的性质</span><a href="#shu-de-xing-zhi" class="header-anchor">#</a></h3><p><strong>性质1</strong> 树中的节点数等于所有节点的度数和加1</p>
<blockquote>
<p>证明：</p>
<ol>
<li>已知：树中的节点数 &#x3D; 根节点数 + 分支节点数（除根节点） + 叶子节点数</li>
<li>因为：所有节点的度数 &#x3D; 叶子节点数 + 分支节点数（除根节点）</li>
<li>所以：树中的节点树 &#x3D; 所有节点的度数 + 1</li>
</ol>
</blockquote>
<p><strong>性质2</strong> 度为m的树中第i层(i&gt;&#x3D;1)上至多有 $m^{i-1}$ 个节点</p>
<blockquote>
<p>证明：</p>
<ol>
<li>当i&#x3D;1时，$m^{i-1}&#x3D;m^0&#x3D;1$ ，表示第一层有1个节点，命题成立</li>
<li>假设当i&#x3D;n-1时，$m^{i-1}&#x3D;m^{n-2}$ 命题成立</li>
<li>则当i&#x3D;n时，第n层的最多节点数是第n-1层的最多节点数的m倍，于是第n层的节点数为： $m^{n-2}*m&#x3D;m^{n-1}$。命题成立。</li>
</ol>
</blockquote>
<p><strong>性质3</strong> 高为h的m次树至多有 $\frac{m^h-1}{m-1}$ 个节点</p>
<p>根据性质2可以计算出m度树每一层至多节点数量 $m^{i-1}$，当每一层都达到最多节点数，那么高度为h的m度树，最多节点数：<br>$m^{1-1} + m^{2-1} + m^{3-1} + … + m^{h-1} &#x3D; m^0 + m^1 + m2 + … + m^{h-1} $<br>通过等比数列前n项和公式可得结果： $\frac {m^h-1}{m-1} $</p>
<p><strong>性质4</strong> 具有n个节点的m次树的最小高度h为 $\log_{m}n(m-1)+1$</p>
<blockquote>
<p>证明：</p>
<ol>
<li>设具有n个节点的m次树的高度为h</li>
<li>若在该树中前h-1层都是满的，即每一层的节点数都等于 $m^{i-1} (1&lt;&#x3D;i&lt;&#x3D;h-1)$ ，则该树具有最小的高度</li>
<li>第h层（即最后一层）的节点数可能满，也可能不满，高度h可计算如下：</li>
<li>$\frac{m^{h-1}-1}{m-1} &lt; n &lt;&#x3D; \frac{m^h-1}{m-1} $   <ul>
<li><strong>两边乘(m-1) ：</strong>   $m^{k-1}-1 &lt; n(m-1) &lt;&#x3D; m^{k}-1$     </li>
<li><strong>两边加1求对数 ：</strong>    $h-1 &lt; \log_m(n(m-1)+1) &lt;&#x3D; h$</li>
</ul>
</li>
<li>$\log_m(n(m-1)+1) &lt;&#x3D; h &lt; log_m(n(m-1)+1)+1$</li>
<li>因为h为整数，所以 $h&#x3D;log_m(n(m-1)+1)$</li>
</ol>
</blockquote>
<h3><span id="shu-de-cun-chu-jie-gou">树的存储结构</span><a href="#shu-de-cun-chu-jie-gou" class="header-anchor">#</a></h3><p><strong>双亲存储结构</strong></p>
<p>存储结构：顺序存储结构</p>
<p>把树的节点按顺序存储到每一个节点，节点包含有值域和父节点的索引下标</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> MaxSize 50</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> ElemType;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    ElemType date;</span><br><span class="line">    <span class="type">int</span> parent;</span><br><span class="line">&#125; PTree[MaxSize];</span><br></pre></td></tr></table></figure>

<p><strong>孩子链存储结构</strong></p>
<p>存储结构：链式存储结构</p>
<p>存储每个节点的值，并且保存所有孩子的指针<br>由于每个节点的孩子数量可能不一样（节点的度），所以按最大节点的度（树的度）数来设计节点的指针数量</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> MaxSize 50</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    ElemType date;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">sone</span>[<span class="title">MaxSize</span>];</span></span><br><span class="line">&#125; TSonNode;</span><br></pre></td></tr></table></figure>

<p><strong>孩子兄弟链存储结构</strong></p>
<p>存储结构：链式存储结构</p>
<p>存储每个节点的值，并且保存第一个孩子的指针和下一个兄弟的指针</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> ElemType;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">tnode</span>·</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    ElemType date;      <span class="comment">//节点的值</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">tnode</span> *<span class="title">hp</span>;</span>   <span class="comment">//指向兄弟</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">tnode</span> *<span class="title">vp</span>;</span>   <span class="comment">//指向孩子节点</span></span><br><span class="line">&#125;TSBNode;</span><br></pre></td></tr></table></figure>
      
	</div>

<div class="meta">
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="2020/07/06/rabbitmq/">RabbitMQ入门</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2020-07-06T03:00:00.000Z" itemprop="datePublished">Jul 6, 2020</time>
</div>
      <div class="tags">Tags: 

<a href="/tags/rabbitmq/">rabbitmq</a>
</div>
    </div>
      
        <h3><span id="rabbitmq-jian-jie">RabbitMQ简介</span><a href="#rabbitmq-jian-jie" class="header-anchor">#</a></h3><p>AMQP，即Advanced Message Queuing Protocol，高级消息队列协议，是应用层协议的一个开放标准，为面向消息的中间件设计。消息中间件主要用于组件之间的解耦，消息的发送者无需知道消息使用者的存在，反之亦然。<br>AMQP的主要特征是面向消息、队列、路由（包括点对点和发布&#x2F;订阅）,可靠、安全。</p>
<p>RabbitMQ是一个开源的AMQP实现，服务器端用Erlang语言编写，支持多种客户端，如：Python、Ruby、.NET、Java、JMS、C、PHP、ActionScript等。用于在分布式系统中存储转发消息，在易用性、扩展性、高可用性等方面表现不俗。</p>
<h3><span id="an-zhuang-rabbitmq">安装RabbitMQ</span><a href="#an-zhuang-rabbitmq" class="header-anchor">#</a></h3><p>rabbitmq 的安装参考 <a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_39735923/article/details/79288578">windows10环境下的RabbitMQ安装步骤（图文）</a></p>
<h3><span id="shou-dong-shou-fa-xiao-xi">手动收发消息</span><a href="#shou-dong-shou-fa-xiao-xi" class="header-anchor">#</a></h3><p>RabbitMQ安装好后，接着测试收发消息。</p>
<h4><span id="add-a-user">Add a user</span><a href="#add-a-user" class="header-anchor">#</a></h4><img src="http://tvax3.sinaimg.cn/large/7d4c6366gy1ggh4kwv049j20yt09y74f.jpg" alt="User" width="800" align="bottom">

<p>用户Tags，即是用户角色，不同角色拥有不同的权限。</p>
<p>Management（普通管理者）：仅可登陆管理控制台，无法看到节点信息，也无法对策略进行管理。</p>
<p>Policymaker（策略制定者）：可登陆管理控制台, 同时可以对policy进行管理。但无法查看节点的相关信息。</p>
<p>Monitoring（监控者）：可登陆管理控制台，同时可以查看rabbitmq节点的相关信息(进程数，内存使用情况，磁盘使用情况等)。</p>
<p>Administrator（超级管理员）：可登陆管理控制台，可查看所有的信息，并且可以对用户，策略(policy)进行操作。</p>
<p>用户创建成功后，退出当前用户，使用刚创建的用户登陆。</p>
<h4><span id="add-a-new-virtual-host">Add a new virtual host</span><a href="#add-a-new-virtual-host" class="header-anchor">#</a></h4><img src="http://tvax3.sinaimg.cn/large/7d4c6366gy1ggh4nhxbevj20yt09jt90.jpg" alt="vhost" width="800" align="bottom">

<p>Vhost创建成功后，点击Vhost进入管理面板，展开 <strong>Permissions</strong> 一栏，可以看到当前用户已经在权限列表里了。<br>表示用户连接到RabbitMQ后，有权限向Exchange转发消息，或者消费Queue里的消息。</p>
<p>客户端连接到RabbitMQ，需要指定使用什么账户登陆、连接到哪一个Vhost，所以需要保证用户有权限操作指定Vhost。</p>
<p>如果需要为其他的用户赋予权限，则通过 <strong>Set permission</strong> 动作完成。</p>
<h4><span id="add-a-new-exchange">Add a new exchange</span><a href="#add-a-new-exchange" class="header-anchor">#</a></h4><img src="http://tvax3.sinaimg.cn/large/7d4c6366gy1ggh4nw55uvj20yd08jglm.jpg" alt="exchange" width="800" align="bottom">


<h4><span id="add-a-new-queue">Add a new queue</span><a href="#add-a-new-queue" class="header-anchor">#</a></h4><img src="http://tva3.sinaimg.cn/large/7d4c6366gy1ggh4od56x6j20yt08fq32.jpg" alt="queue" width="800" align="bottom">

<p>以上 交换机（Exchange） 和 队列（Queue） 必须同属于同一个 Vhost。</p>
<h4><span id="bindings">Bindings</span><a href="#bindings" class="header-anchor">#</a></h4><img src="http://tva1.sinaimg.cn/large/7d4c6366gy1ggh4ou20p0j20yt0c80sx.jpg" alt="binding" width="800" align="bottom">

<p>队列必须绑定到一个交换机上，并且指定一个路由键（Routing key）。</p>
<h4><span id="publish-message">Publish message</span><a href="#publish-message" class="header-anchor">#</a></h4><img src="http://tvax4.sinaimg.cn/large/7d4c6366gy1gghaxc3ovuj20yt0e3jrl.jpg" alt="sen" width="800" align="bottom">

<p>消息首先到达交换机，交换机根据路由键按照路由算法，把消息路由给指定的队列。<br>因此，测试需要从交换机发送消息。</p>
<blockquote>
<p>使用队列里的发送消息功能，消息会被以队列名为路由键发送到相同虚拟机下的默认的交换机。</p>
<p>默认交换机隐性的绑定到每一个队列，默认交换机接收到消息后，使用队列名作为路由键，发送到队列，所以消息实际上又从交换机转发到队列。</p>
</blockquote>
<h4><span id="get-messages">Get messages</span><a href="#get-messages" class="header-anchor">#</a></h4><img src="http://tvax2.sinaimg.cn/large/7d4c6366gy1gghaxp650uj20y80ckq34.jpg" alt="rec" width="800" align="bottom">

<p>消息应答模式（Ack Mode）可以选择 Ack message 或者Nack message。<br>Ack（acknowledgement）模式表示消费者接收到消息，rabbitMQ可以删除消息了，Nack（not acknowledgement）模式表示消费者接收到消息，但是rabbitMQ依然缓存消息。</p>
<h3><span id="xi-tong-jia-gou">系统架构</span><a href="#xi-tong-jia-gou" class="header-anchor">#</a></h3><p>RabbitMQ系统最核心的组件是交换机（Exchange）和队列（Queue），下图是系统简单的示意图。交换机和队列是在rabbitmq server（又叫做broker）端，生产者（producer）和消费者（consumer）在应用端。</p>
<p>RabbitMQ系统可以创建多个虚拟主机（Virtual host），提供给不同的用户使用。用户在自己的虚拟主机里创建交换机和队列，实现消息队列功能。因此虚拟主机在逻辑上隔离了不同用户的消息。</p>
<img src="http://tva3.sinaimg.cn/large/7d4c6366gy1ggh4yfepdyj210c0nsn4b.jpg" alt="架构" width="800" align="bottom">

<h4><span id="sheng-chan-zhe-amp-xiao-fei-zhe">生产者&amp;消费者</span><a href="#sheng-chan-zhe-amp-xiao-fei-zhe" class="header-anchor">#</a></h4><p>producer指的是消息生产者，consumer消息的消费者。</p>
<h4><span id="dui-lie">队列</span><a href="#dui-lie" class="header-anchor">#</a></h4><p>消息队列，提供FIFO的处理机制，交换机转发消息入队，消费者消费消息出队。<br>队列存储消息的地方,因此队列具有缓存消息的能力，缓存方式有:</p>
<ul>
<li>持久化（Durable）：       消息会在服务端本地硬盘存储一份，防止系统崩溃，数据丢失</li>
<li>临时（Transient）:        数据在系统重启之后就会丢失</li>
</ul>
<h4><span id="jiao-huan-ji">交换机</span><a href="#jiao-huan-ji" class="header-anchor">#</a></h4><p>交换机提供消息的路由策略。<br>消息由生产者提供，生产者通过信道把消息转发给交换机，交换机具有与队列一样的缓存消息的功能。<br>一个交换机可与多个队列绑定，交换机根据路由键按照路由算法，把消息路由给不同的队列。<br>交换机的路由策略与交换机的类型和路由键有关，交换机有4种类型：Direct、fanout、topic、headers。</p>
<ul>
<li>Direct：    交换机将消息转发给与路由缉拿完成一样的队列</li>
<li>fanout：    忽略路由键，交换机把消息转发给所有绑定的队列</li>
<li>topic：     以路由键为模式，交换机将消息转发给与模式匹配的队列</li>
<li>headers：   消息体的header匹配</li>
</ul>
<h4><span id="bang-ding">绑定</span><a href="#bang-ding" class="header-anchor">#</a></h4><p>把交换机和队列绑定在一起，并且付带一个路由键。一个交换机可以绑定多个队列。</p>
<blockquote>
<p>交换机除了可以绑定队列，还可以绑定交换机，同样需要付带一个路由键</p>
</blockquote>
<h4><span id="xu-ni-zhu-ji">虚拟主机</span><a href="#xu-ni-zhu-ji" class="header-anchor">#</a></h4><p>一个RabbitMQ系统可以有多个虚拟主机，每个虚拟主机管理各自的交换机、队列和绑定。<br>虚拟主机在逻辑上分离数据，使得不同应用的数据安全运行，互不干扰。<br>生产者和消费者连接RabbitMQ系统需要指定一个虚拟主机。</p>
<h3><span id="tong-xin-guo-cheng">通信过程</span><a href="#tong-xin-guo-cheng" class="header-anchor">#</a></h3><ul>
<li>消费者与RabbitMQ系统取得连接，并且订阅了一个指定队列</li>
<li>生产者与RabbitMQ系统取得连接</li>
<li>生产者通过信道（Channel）把消息（message）发送给交换机，并且提供一个路由键（Routing key）</li>
<li>交换机根据路由键按照路由算法，把消息路由给指定的队列</li>
<li>队列收到消息后，会把消息发送给消费者</li>
<li>消费者收到消息后，发送ACK命令给队列，表示确认</li>
<li>队列收到ACK命令后，从队列中删除此条消息</li>
</ul>
<h3><span id="can-kao">参考</span><a href="#can-kao" class="header-anchor">#</a></h3><p>[1] <a target="_blank" rel="noopener" href="https://www.cnblogs.com/jun-ma/p/4840869.html">Rabbitmq基本原理</a></p>
<p>[2] <a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/147675691">AMQP协议学习</a></p>

      
	</div>

<div class="meta">
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="2020/07/01/JS-Date-Helper/">JS Date日期助手函数</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2020-07-01T03:00:00.000Z" itemprop="datePublished">Jul 1, 2020</time>
</div>
      <div class="tags">Tags: 

<a href="/tags/javascript/">javascript</a>
</div>
    </div>
      
        <p>时间参数 <strong>sdate</strong> 可为时间格式字符串或者整型时间戳，例如：<code>&#39;2020-07-01 12:12:12&#39;</code>，<code>1656648732000</code> 。</p>
<p>以下 </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;   表示输入</span><br><span class="line">&lt;·  表示输出</span><br></pre></td></tr></table></figure>

<h3><span id="chu-shi-hua">初始化</span><a href="#chu-shi-hua" class="header-anchor">#</a></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> initDate = <span class="keyword">function</span>(<span class="params">sdate</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span>(</span><br><span class="line">		sdate == <span class="string">&#x27;&#x27;</span> </span><br><span class="line">		|| <span class="keyword">typeof</span> (sdate) == <span class="string">&#x27;undefined&#x27;</span></span><br><span class="line">	)</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Date</span>(sdate);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3><span id="huo-qu-nian-fen">获取年份</span><a href="#huo-qu-nian-fen" class="header-anchor">#</a></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> getYear = <span class="keyword">function</span>(<span class="params">sdate</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="title function_">initDate</span>(sdate).<span class="title function_">getFullYear</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;  getYear(&#x27;2020-07-01&#x27;);</span><br><span class="line">&lt;· 2020</span><br></pre></td></tr></table></figure>

<h3><span id="huo-qu-yue-fen">获取月份</span><a href="#huo-qu-yue-fen" class="header-anchor">#</a></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> getMonth = <span class="keyword">function</span>(<span class="params">sdate</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="title function_">initDate</span>(sdate).<span class="title function_">getMonth</span>() + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;  getMonth(&#x27;2020-07-01&#x27;);</span><br><span class="line">&lt;· 7</span><br></pre></td></tr></table></figure>

<h3><span id="huo-qu-ri-qi">获取日期</span><a href="#huo-qu-ri-qi" class="header-anchor">#</a></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> getDate = <span class="keyword">function</span>(<span class="params">sdate</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="title function_">initDate</span>(sdate).<span class="title function_">getDate</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;  getDate(&#x27;2020-07-01&#x27;);</span><br><span class="line">&lt;· 1</span><br></pre></td></tr></table></figure>

<h3><span id="huo-qu-nian-yue-ri">获取年月日</span><a href="#huo-qu-nian-yue-ri" class="header-anchor">#</a></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> getDates = <span class="keyword">function</span>(<span class="params">sdate</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">let</span> curdate = <span class="title function_">initDate</span>(sdate);</span><br><span class="line">	<span class="keyword">let</span> month = curdate.<span class="title function_">getMonth</span>() + <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">let</span> date = curdate.<span class="title function_">getDate</span>();</span><br><span class="line">	month = month &lt; <span class="number">10</span>?<span class="string">&#x27;0&#x27;</span>+<span class="attr">month</span>:month;</span><br><span class="line">	date = date &lt; <span class="number">10</span>?<span class="string">&#x27;0&#x27;</span>+<span class="attr">date</span>:date;</span><br><span class="line">	<span class="keyword">return</span> curdate.<span class="title function_">getFullYear</span>()+<span class="string">&#x27;-&#x27;</span>+month+<span class="string">&#x27;-&#x27;</span>+date;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;  getDates(&#x27;2020-07-01&#x27;);</span><br><span class="line">&lt;· &quot;2020-07-01&quot;</span><br></pre></td></tr></table></figure>

<h3><span id="huo-qu-xiao-shi">获取小时</span><a href="#huo-qu-xiao-shi" class="header-anchor">#</a></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> getHours = <span class="keyword">function</span>(<span class="params">sdate</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="title function_">initDate</span>(sdate).<span class="title function_">getHours</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;  getHours(&#x27;2020-07-01 12:12:12&#x27;);</span><br><span class="line">&lt;· 12</span><br></pre></td></tr></table></figure>

<h3><span id="huo-qu-fen-zhong">获取分钟</span><a href="#huo-qu-fen-zhong" class="header-anchor">#</a></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> getMinutes = <span class="keyword">function</span>(<span class="params">sdate</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="title function_">initDate</span>(sdate).<span class="title function_">getMinutes</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;  getMinutes(&#x27;2020-07-01 12:12:12&#x27;);</span><br><span class="line">&lt;· 12</span><br></pre></td></tr></table></figure>

<h3><span id="huo-qu-miao-zhong">获取秒钟</span><a href="#huo-qu-miao-zhong" class="header-anchor">#</a></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> getSeconds = <span class="keyword">function</span>(<span class="params">sdate</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="title function_">initDate</span>(sdate).<span class="title function_">getSeconds</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;  getSeconds(&#x27;2020-07-01 12:12:12&#x27;);</span><br><span class="line">&lt;· 12</span><br></pre></td></tr></table></figure>

<h3><span id="huo-qu-hao-miao">获取毫秒</span><a href="#huo-qu-hao-miao" class="header-anchor">#</a></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> getMilliseconds = <span class="keyword">function</span>(<span class="params">sdate</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="title function_">initDate</span>(sdate).<span class="title function_">getMilliseconds</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;  getMilliseconds(&#x27;2020-07-01 12:12:12&#x27;);</span><br><span class="line">&lt;· 0</span><br></pre></td></tr></table></figure>

<h3><span id="huo-qu-shi-fen-miao">获取时分秒</span><a href="#huo-qu-shi-fen-miao" class="header-anchor">#</a></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> getTime = <span class="keyword">function</span>(<span class="params">sdate</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">let</span> curdate = <span class="title function_">initDate</span>(sdate);</span><br><span class="line">	<span class="keyword">let</span> hours = curdate.<span class="title function_">getHours</span>();</span><br><span class="line">	<span class="keyword">let</span> minutes = curdate.<span class="title function_">getMinutes</span>();</span><br><span class="line">	<span class="keyword">let</span> seconds = curdate.<span class="title function_">getSeconds</span>();</span><br><span class="line">	hours = hours &lt; <span class="number">10</span>?<span class="string">&#x27;0&#x27;</span>+<span class="attr">hours</span>:hours;</span><br><span class="line">	minutes = minutes &lt; <span class="number">10</span>?<span class="string">&#x27;0&#x27;</span>+<span class="attr">minutes</span>:minutes;</span><br><span class="line">	seconds = seconds &lt; <span class="number">10</span>?<span class="string">&#x27;0&#x27;</span>+<span class="attr">seconds</span>:seconds;</span><br><span class="line">	<span class="keyword">return</span> hours+<span class="string">&#x27;:&#x27;</span>+minutes+<span class="string">&#x27;:&#x27;</span>+seconds;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;  getTime(&#x27;2020-07-01 12:12:12&#x27;);</span><br><span class="line">&lt;· &quot;12:12:12&quot;</span><br></pre></td></tr></table></figure>

<h3><span id="huo-qu-nian-yue-ri-shi-fen-miao">获取年月日时分秒</span><a href="#huo-qu-nian-yue-ri-shi-fen-miao" class="header-anchor">#</a></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> getDateTime = <span class="keyword">function</span>(<span class="params">sdate</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">let</span> curdate = <span class="title function_">initDate</span>(sdate);</span><br><span class="line">	<span class="keyword">let</span> month = curdate.<span class="title function_">getMonth</span>() + <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">let</span> date = curdate.<span class="title function_">getDate</span>();</span><br><span class="line">	<span class="keyword">let</span> hours = curdate.<span class="title function_">getHours</span>();</span><br><span class="line">	<span class="keyword">let</span> minutes = curdate.<span class="title function_">getMinutes</span>();</span><br><span class="line">	<span class="keyword">let</span> seconds = curdate.<span class="title function_">getSeconds</span>();</span><br><span class="line">	month = month &lt; <span class="number">10</span>?<span class="string">&#x27;0&#x27;</span>+<span class="attr">month</span>:month;</span><br><span class="line">	date = date &lt; <span class="number">10</span>?<span class="string">&#x27;0&#x27;</span>+<span class="attr">date</span>:date;</span><br><span class="line">	hours = hours &lt; <span class="number">10</span>?<span class="string">&#x27;0&#x27;</span>+<span class="attr">hours</span>:hours;</span><br><span class="line">	minutes = minutes &lt; <span class="number">10</span>?<span class="string">&#x27;0&#x27;</span>+<span class="attr">minutes</span>:minutes;</span><br><span class="line">	seconds = seconds &lt; <span class="number">10</span>?<span class="string">&#x27;0&#x27;</span>+<span class="attr">seconds</span>:seconds;</span><br><span class="line">	<span class="keyword">return</span> curdate.<span class="title function_">getFullYear</span>()+<span class="string">&#x27;-&#x27;</span>+month+<span class="string">&#x27;-&#x27;</span>+date+<span class="string">&#x27; &#x27;</span>+hours+<span class="string">&#x27;:&#x27;</span>+minutes+<span class="string">&#x27;:&#x27;</span>+seconds;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;  getDateTime(&#x27;2020-07-01 12:12:12&#x27;);</span><br><span class="line">&lt;· &quot;2020-07-01 12:12:12&quot;</span><br><span class="line">&gt;  getDateTime(1593576732000);</span><br><span class="line">&lt;· &quot;2020-07-01 12:12:12&quot;</span><br></pre></td></tr></table></figure>

<h3><span id="huo-qu-liang-ge-ri-qi-xiang-chai-de-tian-shu">获取两个日期相差的天数</span><a href="#huo-qu-liang-ge-ri-qi-xiang-chai-de-tian-shu" class="header-anchor">#</a></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> getDiffDate = <span class="keyword">function</span>(<span class="params">sdate,edate</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> (<span class="title function_">getTimeStamp</span>(<span class="title function_">getDates</span>(edate)) - <span class="title function_">getTimeStamp</span>(<span class="title function_">getDates</span>(sdate)))/(<span class="number">24</span>*<span class="number">60</span>*<span class="number">60</span>*<span class="number">1000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;  getDiffDate(&#x27;2020-06-01&#x27;,&#x27;2020-07-01&#x27;);</span><br><span class="line">&lt;· 30</span><br></pre></td></tr></table></figure>

<h3><span id="huo-qu-xing-qi">获取星期</span><a href="#huo-qu-xing-qi" class="header-anchor">#</a></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> getDay = <span class="keyword">function</span>(<span class="params">sdate</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">let</span> day = <span class="title function_">initDate</span>(sdate).<span class="title function_">getDay</span>();</span><br><span class="line">	<span class="keyword">if</span>(day == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">7</span>;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">return</span> day;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;  getDay(&#x27;2020-07-01 12:12:12&#x27;);</span><br><span class="line">&lt;· 3</span><br></pre></td></tr></table></figure>

<h3><span id="huo-qu-zhou-xu-hao">获取周序号</span><a href="#huo-qu-zhou-xu-hao" class="header-anchor">#</a></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 第几周 week of year</span></span><br><span class="line"><span class="keyword">var</span> getWof = <span class="keyword">function</span>(<span class="params">sdate,start</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span>(start &lt; <span class="number">1</span> || start &gt; <span class="number">7</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	<span class="keyword">let</span> end = start - <span class="number">1</span>;	<span class="comment">//	一周的最后一天是星期几</span></span><br><span class="line">	<span class="keyword">if</span>(end == <span class="number">0</span>) end = <span class="number">7</span>;</span><br><span class="line">	<span class="keyword">let</span> firstDate = <span class="title function_">getDates</span>(<span class="title function_">getYear</span>(sdate)+<span class="string">&#x27;&#x27;</span>);</span><br><span class="line">	<span class="keyword">let</span> firstDay = <span class="title function_">getDay</span>(firstDate);	<span class="comment">//	当年第一天是星期几</span></span><br><span class="line">	<span class="keyword">if</span>(end &lt; firstDay) end += <span class="number">7</span>;</span><br><span class="line">	<span class="keyword">let</span> firstWeekDays = end - firstDay + <span class="number">1</span>;	<span class="comment">//	当年的第一周天数</span></span><br><span class="line">	<span class="keyword">let</span> date = <span class="title function_">getDates</span>(sdate);</span><br><span class="line">	<span class="keyword">let</span> diffDate = <span class="title function_">getDiffDate</span>(firstDate,date) + <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">if</span>(diffDate &lt;= firstWeekDays) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">let</span> subDate = diffDate - firstWeekDays;</span><br><span class="line">	<span class="keyword">let</span> weeks = <span class="title class_">Math</span>.<span class="title function_">floor</span>(subDate/<span class="number">7</span>);</span><br><span class="line">	<span class="keyword">if</span>(subDate%<span class="number">7</span>) weeks++;</span><br><span class="line">	<span class="keyword">return</span> weeks+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;  getWof(&#x27;2020-07-01 12:12:12&#x27;,6);</span><br><span class="line">&lt;· 27</span><br></pre></td></tr></table></figure>

<h3><span id="huo-qu-shi-jian-chuo">获取时间戳</span><a href="#huo-qu-shi-jian-chuo" class="header-anchor">#</a></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> getTimeStamp = <span class="keyword">function</span>(<span class="params">sdate</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="title function_">initDate</span>(sdate).<span class="title function_">getTime</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;  getTimeStamp(&#x27;2020-07-01 12:12:12&#x27;);</span><br><span class="line">&lt;· 1593576732000</span><br></pre></td></tr></table></figure>

<h3><span id="jia-x2f-jian-nian-fen">加&#x2F;减 年份</span><a href="#jia-x2f-jian-nian-fen" class="header-anchor">#</a></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> setYear = <span class="keyword">function</span>(<span class="params">sdate,nums</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">let</span> curdate = <span class="title function_">initDate</span>(sdate);</span><br><span class="line">	<span class="keyword">return</span> curdate.<span class="title function_">setFullYear</span>(curdate.<span class="title function_">getFullYear</span>() + nums);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;  setYear(&#x27;2020-07-01 12:12:12&#x27;,2);</span><br><span class="line">&lt;· 1656648732000</span><br><span class="line">&gt;  getDateTime(1656648732000);</span><br><span class="line">&lt;· &quot;2022-07-01 12:12:12&quot;</span><br></pre></td></tr></table></figure>

<h3><span id="jia-x2f-jian-yue-fen">加&#x2F;减 月份</span><a href="#jia-x2f-jian-yue-fen" class="header-anchor">#</a></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> setMonth = <span class="keyword">function</span>(<span class="params">sdate,nums</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">let</span> curdate = <span class="title function_">initDate</span>(sdate);</span><br><span class="line">	<span class="keyword">return</span> curdate.<span class="title function_">setMonth</span>(curdate.<span class="title function_">getMonth</span>() + nums);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;  setMonth(&#x27;2020-07-01 12:12:12&#x27;,2);</span><br><span class="line">&lt;· 1598933532000</span><br><span class="line">&gt;  getDateTime(1598933532000);</span><br><span class="line">&lt;· &quot;2020-09-01 12:12:12&quot;</span><br></pre></td></tr></table></figure>

<h3><span id="jia-x2f-jian-ri-qi">加&#x2F;减 日期</span><a href="#jia-x2f-jian-ri-qi" class="header-anchor">#</a></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> setDate = <span class="keyword">function</span>(<span class="params">sdate,nums</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">let</span> curdate = <span class="title function_">initDate</span>(sdate);</span><br><span class="line">	<span class="keyword">return</span> curdate.<span class="title function_">setDate</span>(curdate.<span class="title function_">getDate</span>() + nums);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;  setDate(&#x27;2020-07-01 12:12:12&#x27;,2);</span><br><span class="line">&lt;· 1593749532000</span><br><span class="line">&gt;  getDateTime(1593749532000);</span><br><span class="line">&lt;· &quot;2020-07-03 12:12:12&quot;</span><br></pre></td></tr></table></figure>

<h3><span id="jia-x2f-jian-xiao-shi">加&#x2F;减 小时</span><a href="#jia-x2f-jian-xiao-shi" class="header-anchor">#</a></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> setHours = <span class="keyword">function</span>(<span class="params">sdate,nums</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">let</span> curdate = <span class="title function_">initDate</span>(sdate);</span><br><span class="line">	<span class="keyword">return</span> curdate.<span class="title function_">setHours</span>(curdate.<span class="title function_">getHours</span>() + nums);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;  setHours(&#x27;2020-07-01 12:12:12&#x27;,2);</span><br><span class="line">&lt;· 1593583932000</span><br><span class="line">&gt;  getDateTime(1593583932000);</span><br><span class="line">&lt;· &quot;2020-07-01 14:12:12&quot;</span><br></pre></td></tr></table></figure>

<h3><span id="jia-x2f-jian-fen-zhong">加&#x2F;减 分钟</span><a href="#jia-x2f-jian-fen-zhong" class="header-anchor">#</a></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> setMinutes = <span class="keyword">function</span>(<span class="params">sdate,nums</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">let</span> curdate = <span class="title function_">initDate</span>(sdate);</span><br><span class="line">	<span class="keyword">return</span> curdate.<span class="title function_">setMinutes</span>(curdate.<span class="title function_">getMinutes</span>() + nums);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;  setMinutes(&#x27;2020-07-01 12:12:12&#x27;,2);</span><br><span class="line">&lt;· 1593576852000</span><br><span class="line">&gt;  getDateTime(1593576852000);</span><br><span class="line">&lt;· &quot;2020-07-01 12:14:12&quot;</span><br></pre></td></tr></table></figure>

<h3><span id="jia-x2f-jian-miao-zhong">加&#x2F;减 秒钟</span><a href="#jia-x2f-jian-miao-zhong" class="header-anchor">#</a></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> setSeconds = <span class="keyword">function</span>(<span class="params">sdate,nums</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">let</span> curdate = <span class="title function_">initDate</span>(sdate);</span><br><span class="line">	<span class="keyword">return</span> curdate.<span class="title function_">setSeconds</span>(curdate.<span class="title function_">getSeconds</span>() + nums);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;  setSeconds(&#x27;2020-07-01 12:12:12&#x27;,2);</span><br><span class="line">&lt;· 1593576734000</span><br><span class="line">&gt;  getDateTime(1593576734000);</span><br><span class="line">&lt;· &quot;2020-07-01 12:12:14&quot;</span><br></pre></td></tr></table></figure>
<h3><span id="shi-fou-run-nian">是否闰年</span><a href="#shi-fou-run-nian" class="header-anchor">#</a></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> isLeapYear = <span class="keyword">function</span>(<span class="params">sdate</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> year = <span class="title function_">getYear</span>(sdate);</span><br><span class="line">    <span class="keyword">if</span>(year%<span class="number">100</span>)</span><br><span class="line">        <span class="keyword">return</span> year%<span class="number">4</span>?<span class="number">0</span>:<span class="number">1</span>;  <span class="comment">//  普通年</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> year%<span class="number">400</span>?<span class="number">0</span>:<span class="number">1</span>;    <span class="comment">//  世纪年</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;  isLeapYear(&#x27;2020-07-02&#x27;)</span><br><span class="line">&lt;· 1</span><br></pre></td></tr></table></figure>

<h3><span id="dang-yue-you-ji-tian">当月有几天</span><a href="#dang-yue-you-ji-tian" class="header-anchor">#</a></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> getDaysInMonth = <span class="keyword">function</span>(<span class="params">sdate</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> daysInMonth = [<span class="number">31</span>,<span class="number">28</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>];</span><br><span class="line">    <span class="keyword">let</span> month = <span class="title function_">getMonth</span>(sdate);</span><br><span class="line">    <span class="keyword">let</span> days = daysInMonth[month-<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">if</span>(month == <span class="number">2</span> &amp;&amp; <span class="title function_">isLeapYear</span>(sdate)) days++; <span class="comment">//  闰年2月</span></span><br><span class="line">    <span class="keyword">return</span> days;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;  getDaysInMonth(&#x27;2020-02-02&#x27;)</span><br><span class="line">&lt;· 29</span><br></pre></td></tr></table></figure>

<h3><span id="js-dai-ma">JS代码</span><a href="#js-dai-ma" class="header-anchor">#</a></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  date-helper.js</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 实例化，参数为时间格式字符串或者整型时间戳</span></span><br><span class="line"><span class="keyword">var</span> initDate = <span class="keyword">function</span>(<span class="params">sdate</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span>(</span><br><span class="line">		sdate == <span class="string">&#x27;&#x27;</span> </span><br><span class="line">		|| <span class="keyword">typeof</span> (sdate) == <span class="string">&#x27;undefined&#x27;</span></span><br><span class="line">	)</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Date</span>(sdate);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//	年</span></span><br><span class="line"><span class="keyword">var</span> getYear = <span class="keyword">function</span>(<span class="params">sdate</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="title function_">initDate</span>(sdate).<span class="title function_">getFullYear</span>();</span><br><span class="line">&#125;	</span><br><span class="line"><span class="comment">//	月</span></span><br><span class="line"><span class="keyword">var</span> getMonth = <span class="keyword">function</span>(<span class="params">sdate</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="title function_">initDate</span>(sdate).<span class="title function_">getMonth</span>() + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//	日</span></span><br><span class="line"><span class="keyword">var</span> getDate = <span class="keyword">function</span>(<span class="params">sdate</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="title function_">initDate</span>(sdate).<span class="title function_">getDate</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//	日期</span></span><br><span class="line"><span class="keyword">var</span> getDates = <span class="keyword">function</span>(<span class="params">sdate</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">let</span> curdate = <span class="title function_">initDate</span>(sdate);</span><br><span class="line">	<span class="keyword">let</span> month = curdate.<span class="title function_">getMonth</span>() + <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">let</span> date = curdate.<span class="title function_">getDate</span>();</span><br><span class="line">	month = month &lt; <span class="number">10</span>?<span class="string">&#x27;0&#x27;</span>+<span class="attr">month</span>:month;</span><br><span class="line">	date = date &lt; <span class="number">10</span>?<span class="string">&#x27;0&#x27;</span>+<span class="attr">date</span>:date;</span><br><span class="line">	<span class="keyword">return</span> curdate.<span class="title function_">getFullYear</span>()+<span class="string">&#x27;-&#x27;</span>+month+<span class="string">&#x27;-&#x27;</span>+date;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//	时</span></span><br><span class="line"><span class="keyword">var</span> getHours = <span class="keyword">function</span>(<span class="params">sdate</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="title function_">initDate</span>(sdate).<span class="title function_">getHours</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//	分</span></span><br><span class="line"><span class="keyword">var</span> getMinutes = <span class="keyword">function</span>(<span class="params">sdate</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="title function_">initDate</span>(sdate).<span class="title function_">getMinutes</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//	秒</span></span><br><span class="line"><span class="keyword">var</span> getSeconds = <span class="keyword">function</span>(<span class="params">sdate</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="title function_">initDate</span>(sdate).<span class="title function_">getSeconds</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//	毫秒</span></span><br><span class="line"><span class="keyword">var</span> getMilliseconds = <span class="keyword">function</span>(<span class="params">sdate</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="title function_">initDate</span>(sdate).<span class="title function_">getMilliseconds</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//	时间</span></span><br><span class="line"><span class="keyword">var</span> getTime = <span class="keyword">function</span>(<span class="params">sdate</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">let</span> curdate = <span class="title function_">initDate</span>(sdate);</span><br><span class="line">	<span class="keyword">let</span> hours = curdate.<span class="title function_">getHours</span>();</span><br><span class="line">	<span class="keyword">let</span> minutes = curdate.<span class="title function_">getMinutes</span>();</span><br><span class="line">	<span class="keyword">let</span> seconds = curdate.<span class="title function_">getSeconds</span>();</span><br><span class="line">	hours = hours &lt; <span class="number">10</span>?<span class="string">&#x27;0&#x27;</span>+<span class="attr">hours</span>:hours;</span><br><span class="line">	minutes = minutes &lt; <span class="number">10</span>?<span class="string">&#x27;0&#x27;</span>+<span class="attr">minutes</span>:minutes;</span><br><span class="line">	seconds = seconds &lt; <span class="number">10</span>?<span class="string">&#x27;0&#x27;</span>+<span class="attr">seconds</span>:seconds;</span><br><span class="line">	<span class="keyword">return</span> hours+<span class="string">&#x27;:&#x27;</span>+minutes+<span class="string">&#x27;:&#x27;</span>+seconds;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//	日期 时间</span></span><br><span class="line"><span class="keyword">var</span> getDateTime = <span class="keyword">function</span>(<span class="params">sdate</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">let</span> curdate = <span class="title function_">initDate</span>(sdate);</span><br><span class="line">	<span class="keyword">let</span> month = curdate.<span class="title function_">getMonth</span>() + <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">let</span> date = curdate.<span class="title function_">getDate</span>();</span><br><span class="line">	<span class="keyword">let</span> hours = curdate.<span class="title function_">getHours</span>();</span><br><span class="line">	<span class="keyword">let</span> minutes = curdate.<span class="title function_">getMinutes</span>();</span><br><span class="line">	<span class="keyword">let</span> seconds = curdate.<span class="title function_">getSeconds</span>();</span><br><span class="line">	month = month &lt; <span class="number">10</span>?<span class="string">&#x27;0&#x27;</span>+<span class="attr">month</span>:month;</span><br><span class="line">	date = date &lt; <span class="number">10</span>?<span class="string">&#x27;0&#x27;</span>+<span class="attr">date</span>:date;</span><br><span class="line">	hours = hours &lt; <span class="number">10</span>?<span class="string">&#x27;0&#x27;</span>+<span class="attr">hours</span>:hours;</span><br><span class="line">	minutes = minutes &lt; <span class="number">10</span>?<span class="string">&#x27;0&#x27;</span>+<span class="attr">minutes</span>:minutes;</span><br><span class="line">	seconds = seconds &lt; <span class="number">10</span>?<span class="string">&#x27;0&#x27;</span>+<span class="attr">seconds</span>:seconds;</span><br><span class="line">	<span class="keyword">return</span> curdate.<span class="title function_">getFullYear</span>()+<span class="string">&#x27;-&#x27;</span>+month+<span class="string">&#x27;-&#x27;</span>+date+<span class="string">&#x27; &#x27;</span>+hours+<span class="string">&#x27;:&#x27;</span>+minutes+<span class="string">&#x27;:&#x27;</span>+seconds;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 两个日期相差的天数</span></span><br><span class="line"><span class="keyword">var</span> getDiffDate = <span class="keyword">function</span>(<span class="params">sdate,edate</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> (<span class="title function_">getTimeStamp</span>(<span class="title function_">getDates</span>(edate)) - <span class="title function_">getTimeStamp</span>(<span class="title function_">getDates</span>(sdate)))/(<span class="number">24</span>*<span class="number">60</span>*<span class="number">60</span>*<span class="number">1000</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//	星期</span></span><br><span class="line"><span class="keyword">var</span> getDay = <span class="keyword">function</span>(<span class="params">sdate</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">let</span> day = <span class="title function_">initDate</span>(sdate).<span class="title function_">getDay</span>();</span><br><span class="line">	<span class="keyword">if</span>(day == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">7</span>;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">return</span> day;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 第几周 week of year</span></span><br><span class="line"><span class="keyword">var</span> getWof = <span class="keyword">function</span>(<span class="params">sdate,start</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span>(start &lt; <span class="number">1</span> || start &gt; <span class="number">7</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	<span class="keyword">let</span> end = start - <span class="number">1</span>;	<span class="comment">//	一周的最后一天是星期几</span></span><br><span class="line">	<span class="keyword">if</span>(end == <span class="number">0</span>) end = <span class="number">7</span>;</span><br><span class="line">	<span class="keyword">let</span> firstDate = <span class="title function_">getDates</span>(<span class="title function_">getYear</span>(sdate)+<span class="string">&#x27;&#x27;</span>);</span><br><span class="line">	<span class="keyword">let</span> firstDay = <span class="title function_">getDay</span>(firstDate);	<span class="comment">//	当年第一天是星期几</span></span><br><span class="line">	<span class="keyword">if</span>(end &lt; firstDay) end += <span class="number">7</span>;</span><br><span class="line">	<span class="keyword">let</span> firstWeekDays = end - firstDay + <span class="number">1</span>;	<span class="comment">//	当年的第一周天数</span></span><br><span class="line">	<span class="keyword">let</span> date = <span class="title function_">getDates</span>(sdate);</span><br><span class="line">	<span class="keyword">let</span> diffDate = <span class="title function_">getDiffDate</span>(firstDate,date) + <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">if</span>(diffDate &lt;= firstWeekDays) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">let</span> subDate = diffDate - firstWeekDays;</span><br><span class="line">	<span class="keyword">let</span> weeks = <span class="title class_">Math</span>.<span class="title function_">floor</span>(subDate/<span class="number">7</span>);</span><br><span class="line">	<span class="keyword">if</span>(subDate%<span class="number">7</span>) weeks++;</span><br><span class="line">	<span class="keyword">return</span> weeks+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 时间戳（毫秒）</span></span><br><span class="line"><span class="keyword">var</span> getTimeStamp = <span class="keyword">function</span>(<span class="params">sdate</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="title function_">initDate</span>(sdate).<span class="title function_">getTime</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//	加/减 年份</span></span><br><span class="line"><span class="keyword">var</span> setYear = <span class="keyword">function</span>(<span class="params">sdate,nums</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">let</span> curdate = <span class="title function_">initDate</span>(sdate);</span><br><span class="line">	<span class="keyword">return</span> curdate.<span class="title function_">setFullYear</span>(curdate.<span class="title function_">getFullYear</span>() + nums);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//	加/减 月份</span></span><br><span class="line"><span class="keyword">var</span> setMonth = <span class="keyword">function</span>(<span class="params">sdate,nums</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">let</span> curdate = <span class="title function_">initDate</span>(sdate);</span><br><span class="line">	<span class="keyword">return</span> curdate.<span class="title function_">setMonth</span>(curdate.<span class="title function_">getMonth</span>() + nums);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//	加/减 日期</span></span><br><span class="line"><span class="keyword">var</span> setDate = <span class="keyword">function</span>(<span class="params">sdate,nums</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">let</span> curdate = <span class="title function_">initDate</span>(sdate);</span><br><span class="line">	<span class="keyword">return</span> curdate.<span class="title function_">setDate</span>(curdate.<span class="title function_">getDate</span>() + nums);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//	加/减 小时</span></span><br><span class="line"><span class="keyword">var</span> setHours = <span class="keyword">function</span>(<span class="params">sdate,nums</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">let</span> curdate = <span class="title function_">initDate</span>(sdate);</span><br><span class="line">	<span class="keyword">return</span> curdate.<span class="title function_">setHours</span>(curdate.<span class="title function_">getHours</span>() + nums);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//	加/减 分钟</span></span><br><span class="line"><span class="keyword">var</span> setMinutes = <span class="keyword">function</span>(<span class="params">sdate,nums</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">let</span> curdate = <span class="title function_">initDate</span>(sdate);</span><br><span class="line">	<span class="keyword">return</span> curdate.<span class="title function_">setMinutes</span>(curdate.<span class="title function_">getMinutes</span>() + nums);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//	加/减 秒钟</span></span><br><span class="line"><span class="keyword">var</span> setSeconds = <span class="keyword">function</span>(<span class="params">sdate,nums</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">let</span> curdate = <span class="title function_">initDate</span>(sdate);</span><br><span class="line">	<span class="keyword">return</span> curdate.<span class="title function_">setSeconds</span>(curdate.<span class="title function_">getSeconds</span>() + nums);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//	是否闰年</span></span><br><span class="line"><span class="keyword">var</span> isLeapYear = <span class="keyword">function</span>(<span class="params">sdate</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> year = <span class="title function_">getYear</span>(sdate);</span><br><span class="line">    <span class="keyword">if</span>(year%<span class="number">100</span>)</span><br><span class="line">        <span class="keyword">return</span> year%<span class="number">4</span>?<span class="number">0</span>:<span class="number">1</span>;  <span class="comment">//  普通年</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> year%<span class="number">400</span>?<span class="number">0</span>:<span class="number">1</span>;    <span class="comment">//  世纪年</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//	求当月有几天</span></span><br><span class="line"><span class="keyword">var</span> getDaysInMonth = <span class="keyword">function</span>(<span class="params">sdate</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> daysInMonth = [<span class="number">31</span>,<span class="number">28</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>];</span><br><span class="line">    <span class="keyword">let</span> month = <span class="title function_">getMonth</span>(sdate);</span><br><span class="line">    <span class="keyword">let</span> days = daysInMonth[month-<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">if</span>(month == <span class="number">2</span> &amp;&amp; <span class="title function_">isLeapYear</span>(sdate)) days++; <span class="comment">//  闰年2月</span></span><br><span class="line">    <span class="keyword">return</span> days;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
	</div>

<div class="meta">
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="2020/06/28/leetcode-209/">leetcode 209m 长度最小的子数组</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2020-06-28T05:00:00.000Z" itemprop="datePublished">Jun 28, 2020</time>
</div>
      <div class="tags">Tags: 

<a href="/tags/leetcode/">leetcode</a>
</div>
    </div>
      
        <h4><span id="ti-mu-miao-shu">题目描述</span><a href="#ti-mu-miao-shu" class="header-anchor">#</a></h4><p>给定一个含有 n 个正整数的数组和一个正整数 s ，找出该数组中满足其和 ≥ s 的长度最小的连续子数组，并返回其长度。如果不存在符合条件的连续子数组，返回 0。</p>
<p> <br>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">输入：s = 7, nums = [2,3,1,2,4,3]</span><br><span class="line">输出：2</span><br><span class="line">解释：子数组 [4,3] 是该条件下的长度最小的连续子数组。</span><br></pre></td></tr></table></figure>
<blockquote>
<p>数组元素 和 s均为正整数，即均大于0</p>
</blockquote>
<h4><span id="suan-fa">算法</span><a href="#suan-fa" class="header-anchor">#</a></h4><ol>
<li>定义两个数组下标：i j，遍历数组</li>
<li>外层循环i表示子数组的起点下标，内层循环j从位置i开始，逐个累加数组元素,同时计算数组元素个数tmplength，直到累加和大于等于s 或者 j大于等于元素个数numsSize 时停止</li>
<li>取得最小的元素个数</li>
</ol>
<blockquote>
<p>当 $i&#x3D;0,j&#x3D;numsSize-1,sum&lt;s$ 时，即是：整个数组的和小于s，直接返回0</p>
<p>类似的，<br>当 $i&gt;0,j&#x3D;numsSize-1,sum&lt;s$ 时，即是：从i到j的累加和小于s，表示i后面的元素累加和都小于s，不存在符合条件的子数组，直接跳出循环</p>
</blockquote>
<h4><span id="c-dai-ma">C代码</span><a href="#c-dai-ma" class="header-anchor">#</a></h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">minSubArrayLen</span><span class="params">(<span class="type">int</span> s, <span class="type">int</span>* nums, <span class="type">int</span> numsSize)</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> s = <span class="number">3</span>,numsSize = <span class="number">2</span>;</span><br><span class="line">    <span class="type">int</span> nums[<span class="number">2</span>] = &#123;<span class="number">1</span>,<span class="number">1</span>&#125;;</span><br><span class="line">    <span class="type">int</span> length = minSubArrayLen( s, &amp;nums[<span class="number">0</span>],  numsSize);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;长度最小的子数组长度length=%d&quot;</span>,length);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">minSubArrayLen</span><span class="params">(<span class="type">int</span> s, <span class="type">int</span>* nums, <span class="type">int</span> numsSize)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> length = numsSize;  </span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;numsSize;i++)</span><br><span class="line">    &#123;    </span><br><span class="line">        <span class="type">int</span> sum = <span class="number">0</span>,tmpLength = <span class="number">0</span>,j;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(j=i;j&lt;numsSize &amp;&amp; sum&lt;s;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            sum += nums[j];</span><br><span class="line">            tmpLength++;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(sum &lt; s)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(i == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;   </span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">break</span>; </span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(tmpLength &lt; length) length = tmpLength;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;i=%d,j=%d,tmpLength=%d,sum=%d\n&quot;</span>,i,j,tmpLength,sum);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> length;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4><span id="shi-jian-fu-za-du">时间复杂度</span><a href="#shi-jian-fu-za-du" class="header-anchor">#</a></h4><p>算法的时间复杂度为 $O(n)$</p>

      
	</div>

<div class="meta">
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="2020/06/18/string-BF/">串的模式匹配(Brute-Force算法)</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2020-06-18T03:00:00.000Z" itemprop="datePublished">Jun 18, 2020</time>
</div>
      <div class="tags">Tags: 

<a href="/tags/数据结构/">数据结构</a> <a href="/tags/串/">串</a>
</div>
    </div>
      
        <h4><span id="suan-fa-jie-shao">算法介绍</span><a href="#suan-fa-jie-shao" class="header-anchor">#</a></h4><p>Brute-Force算法也称为简单匹配算法。B-F算法使用暴力枚举的方式，从目标串S中查找与模式串T一样的子串，若存在，则返回子串的开始位置，若不存在则返回-1.</p>
<ul>
<li>目标串：$S &#x3D; s_1s_2s_3…s_n$</li>
<li>模式串：$T &#x3D; t_1t_2t_3…t_n$</li>
<li>模式匹配：查找与模式串一样的子串的过程称为模式匹配</li>
<li>目标串长度 $sLength$，模式串长度 $tLength$</li>
</ul>
<h4><span id="suan-fa-pi-pei-guo-cheng">算法匹配过程</span><a href="#suan-fa-pi-pei-guo-cheng" class="header-anchor">#</a></h4><ol>
<li>首先模式串T的长度必须小于等于目标串</li>
<li>模式匹配过程</li>
</ol>
<ul>
<li>从目标串 $S$ 的第 $i$ 个位置开始寻找与模式串 $T$ 一样的子串 $( 0 &lt;&#x3D; i &lt;&#x3D; sLength-tLength)$</li>
<li>遍历目标串 $S$ ，从 $i$ 到 $i+tLength$ 之间的字符，与模式串逐个比较<ul>
<li>若出现任意一个字符不相同，则跳出遍历，$i$ 向前移动一位，重新遍历目标串 $S$</li>
<li>若每一个字符都相同，则返回 $i$</li>
</ul>
</li>
</ul>
<h4><span id="c-dai-ma">C代码</span><a href="#c-dai-ma" class="header-anchor">#</a></h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">bf</span><span class="params">(<span class="type">char</span> *s,<span class="type">char</span> *t)</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> s[] = <span class="string">&quot;[Done] exited with code=0 in 0.454 seconds&quot;</span>;</span><br><span class="line">    <span class="type">char</span> t[] = <span class="string">&quot;Done&quot;</span>;</span><br><span class="line">    <span class="type">int</span> index = bf(&amp;s[<span class="number">0</span>],&amp;t[<span class="number">0</span>]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;index=%d\n&quot;</span>,index);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">StrLength</span><span class="params">(<span class="type">char</span> *s)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(*(s+i) != <span class="string">&#x27;\0&#x27;</span>)</span><br><span class="line">        i++;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> i;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//  Brute-Force算法 </span></span><br><span class="line"><span class="type">int</span> <span class="title function_">bf</span><span class="params">(<span class="type">char</span> *s,<span class="type">char</span> *t)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> sLength = StrLength(s);</span><br><span class="line">    <span class="type">int</span> tLength = StrLength(t);</span><br><span class="line">    <span class="keyword">if</span>(sLength &lt; tLength) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="type">int</span> si = <span class="number">0</span>,ti = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (si+tLength &lt;= sLength)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> flag = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(ti=<span class="number">0</span>;ti&lt;tLength;ti++)</span><br><span class="line">            <span class="keyword">if</span>(*(s+si+ti) != *(t+ti))</span><br><span class="line">            &#123;</span><br><span class="line">                flag = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(flag)</span><br><span class="line">            <span class="keyword">return</span> si;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            ti = <span class="number">0</span>;</span><br><span class="line">            si++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4><span id="shi-jian-fu-za-du">时间复杂度</span><a href="#shi-jian-fu-za-du" class="header-anchor">#</a></h4><table>
<thead>
<tr>
<th>情况</th>
<th>时间复杂度</th>
</tr>
</thead>
<tbody><tr>
<td>最好情况：</td>
<td>$O(tLength)$</td>
</tr>
<tr>
<td>最坏情况：</td>
<td>$O(tLength*sLength)$</td>
</tr>
</tbody></table>

      
	</div>

<div class="meta">
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="2020/06/17/leetcode-125/">leetcode 125e 验证回文串</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2020-06-17T21:00:00.000Z" itemprop="datePublished">Jun 18, 2020</time>
</div>
      <div class="tags">Tags: 

<a href="/tags/leetcode/">leetcode</a>
</div>
    </div>
      
        <h4><span id="ti-mu-miao-shu">题目描述</span><a href="#ti-mu-miao-shu" class="header-anchor">#</a></h4><p>给定一个字符串，验证它是否是回文串，只考虑字母和数字字符，可以忽略字母的大小写。</p>
<p><strong>说明：</strong> 本题中，我们将空字符串定义为有效的回文串。</p>
<p><strong>示例 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入: &quot;A man, a plan, a canal: Panama&quot;</span><br><span class="line">输出: true</span><br></pre></td></tr></table></figure>

<p><strong>示例 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入: &quot;race a car&quot;</span><br><span class="line">输出: false</span><br></pre></td></tr></table></figure>

<h4><span id="suan-fa">算法</span><a href="#suan-fa" class="header-anchor">#</a></h4><ol>
<li>去除非字母、数字字符，大写字母转成小写字母，求出字符总长度</li>
<li>构造字符数组</li>
<li>验证</li>
</ol>
<h4><span id="c-dai-ma">C代码</span><a href="#c-dai-ma" class="header-anchor">#</a></h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> true 1</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> false 0</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> <span class="type">bool</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">char</span> data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125; strLink;</span><br><span class="line"></span><br><span class="line">strLink * <span class="title function_">StrAssign</span><span class="params">(<span class="type">char</span> *s)</span>;</span><br><span class="line"><span class="type">bool</span> <span class="title function_">isPalindrome</span><span class="params">(<span class="type">char</span> * s)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">DispStr</span><span class="params">(strLink * s)</span>;</span><br><span class="line"><span class="type">bool</span> <span class="title function_">isPalindrome</span><span class="params">(<span class="type">char</span> * s)</span>;</span><br><span class="line"><span class="type">char</span> <span class="title function_">GetChar</span><span class="params">(<span class="type">char</span> c)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">StrCopy</span><span class="params">(strLink *str,<span class="type">int</span> length,<span class="type">char</span> *s)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">DispArr</span><span class="params">(<span class="type">char</span> *arr,<span class="type">int</span> length)</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> s[] = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">if</span>(isPalindrome(&amp;s[<span class="number">0</span>]))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;true\t&quot;</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;false\t&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">char</span> <span class="title function_">GetChar</span><span class="params">(<span class="type">char</span> c)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> res=<span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">    <span class="keyword">if</span>((c &gt;= <span class="string">&#x27;a&#x27;</span> &amp;&amp; c &lt;= <span class="string">&#x27;z&#x27;</span>) || (c &gt;= <span class="string">&#x27;0&#x27;</span> &amp;&amp; c &lt;= <span class="string">&#x27;9&#x27;</span>) )</span><br><span class="line">        res = c;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>(c &gt;= <span class="string">&#x27;A&#x27;</span> &amp;&amp; c &lt;= <span class="string">&#x27;Z&#x27;</span>)</span><br><span class="line">        res = c + <span class="number">32</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">StrLength</span><span class="params">(strLink *s)</span></span><br><span class="line">&#123;</span><br><span class="line">    strLink * tmp = s-&gt;next;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(tmp != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        i++;</span><br><span class="line">        tmp = tmp-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> i;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">strLink * <span class="title function_">StrAssign</span><span class="params">(<span class="type">char</span> *s)</span></span><br><span class="line">&#123;</span><br><span class="line">    strLink *tmp,*r,*p;</span><br><span class="line">    tmp = (strLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strLink));</span><br><span class="line">    tmp-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    r = tmp;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(s[i] != <span class="string">&#x27;\0&#x27;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">char</span> res;</span><br><span class="line">        <span class="keyword">if</span>((res = GetChar(s[i])) == <span class="string">&#x27;\0&#x27;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            i++;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        p = (strLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strLink));</span><br><span class="line">        p-&gt;data = res;</span><br><span class="line">        r-&gt;next = p;</span><br><span class="line">        r = p;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    r-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">DispStr</span><span class="params">(strLink *s)</span></span><br><span class="line">&#123;</span><br><span class="line">    strLink *tmp = s-&gt;next;</span><br><span class="line">    <span class="keyword">while</span>(tmp != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>,tmp-&gt;data);</span><br><span class="line">        tmp = tmp-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">DispArr</span><span class="params">(<span class="type">char</span> *arr,<span class="type">int</span> length)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;length;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c\t&quot;</span>,*(arr+i));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">StrCopy</span><span class="params">(strLink *str,<span class="type">int</span> length,<span class="type">char</span> *s)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">    strLink * tmp = str-&gt;next;</span><br><span class="line">    <span class="keyword">while</span>(tmp != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        *(s+i) = tmp-&gt;data;</span><br><span class="line">        i++;</span><br><span class="line">        tmp = tmp-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">bool</span> <span class="title function_">isPalindrome</span><span class="params">(<span class="type">char</span> * s)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//  求出长度</span></span><br><span class="line">    strLink *str;</span><br><span class="line">    str = StrAssign(s);</span><br><span class="line">    <span class="comment">// DispStr(str);</span></span><br><span class="line">    <span class="type">int</span> length = StrLength(str);</span><br><span class="line">    <span class="keyword">if</span>(length &lt;= <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="type">char</span> strArr[length];</span><br><span class="line"></span><br><span class="line">    <span class="comment">//  构造字符数组</span></span><br><span class="line">    StrCopy(str,length,&amp;strArr[<span class="number">0</span>]);</span><br><span class="line">    <span class="comment">// DispArr(&amp;strArr[0],length);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//  验证</span></span><br><span class="line">    <span class="type">int</span> i=<span class="number">0</span>,j=length<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">while</span>(i &lt; j)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(strArr[i] != strArr[j])</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        i++;</span><br><span class="line">        j--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4><span id="shi-jian-fu-za-du">时间复杂度</span><a href="#shi-jian-fu-za-du" class="header-anchor">#</a></h4><p>算法的时间复杂度为 $O(n)$</p>

      
	</div>

<div class="meta">
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="2020/06/17/string/">串结构——顺序串、链串</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2020-06-17T05:00:00.000Z" itemprop="datePublished">Jun 17, 2020</time>
</div>
      <div class="tags">Tags: 

<a href="/tags/数据结构/">数据结构</a> <a href="/tags/串/">串</a>
</div>
    </div>
      
        <h3><span id="chuan-jie-gou-de-ding-yi-he-shu-xing">串结构的定义和属性</span><a href="#chuan-jie-gou-de-ding-yi-he-shu-xing" class="header-anchor">#</a></h3><p>“串”即是我们平常讨论的字符串，串是由零个或多个<strong>字符</strong>（只能是字符）组成的有穷序列。</p>
<p>通常记为 $S&#x3D;”a_1a_2a_3…a_n”$，每个 $a_i$ 代表一个字符，其中 $i$ 表示字符在串中的位置$(1&lt;&#x3D;i&lt;&#x3D;n)$。</p>
<p>串结构的几个属性：</p>
<ul>
<li>长度：串中的字符个数</li>
<li>空串：长度为0的串称为空串</li>
<li>子串：在一个串中任意个连续字符组成的子序列（含空串），称为该串的子串</li>
<li>真子串：不包含自身的所有子串</li>
<li>串相等：长度相等，每个字符的位置也相等的两个串</li>
</ul>
<blockquote>
<p>一个长度等于n的串</p>
<p>真子串的数量：$\frac{n(n+1)}{2}$</p>
<p>子串的数量 &#x3D; 真子串的数量 + 1 &#x3D; $\frac{n(n+1)}{2} + 1$</p>
<p>例如 串abcd，子串的组合情况和数量如下：</p>
<table>
<thead>
<tr>
<th>串长度</th>
<th>数量</th>
<th>子串</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>1</td>
<td>空串</td>
</tr>
<tr>
<td>1</td>
<td>4</td>
<td>a,b,c,d</td>
</tr>
<tr>
<td>2</td>
<td>3</td>
<td>ab,bc,cd</td>
</tr>
<tr>
<td>3</td>
<td>2</td>
<td>abc,bcd</td>
</tr>
<tr>
<td>4</td>
<td>1</td>
<td>abcd</td>
</tr>
<tr>
<td>total</td>
<td>11</td>
<td></td>
</tr>
</tbody></table>
</blockquote>
<h3><span id="chuan-jie-gou-de-chou-xiang-shu-ju-lei-xing">串结构的抽象数据类型</span><a href="#chuan-jie-gou-de-chou-xiang-shu-ju-lei-xing" class="header-anchor">#</a></h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">ADT String</span><br><span class="line">&#123;</span><br><span class="line">数据对象：</span><br><span class="line">	D = &#123;ai | ai∈ElemType, i=<span class="number">1</span>,<span class="number">2</span>,…,n, n≧<span class="number">0</span> &#125; <span class="comment">//ElemType为类型标识符</span></span><br><span class="line">数据关系：</span><br><span class="line">	R = &#123;&lt;ai, ai+<span class="number">1</span>&gt; | ai, ai+<span class="number">1</span>∈D, i=<span class="number">1</span>,<span class="number">3</span>,…,n<span class="number">-1</span> &#125;</span><br><span class="line">数据操作：</span><br><span class="line">    (<span class="number">1</span>) strSeq * InitStr();                                 <span class="comment">//  初始化串</span></span><br><span class="line">    (<span class="number">2</span>) <span class="type">void</span> <span class="title function_">StrAssign</span><span class="params">(strSeq *s,<span class="type">char</span> cstr[])</span>;              <span class="comment">//  字符串常量cstr赋给串s</span></span><br><span class="line">    (<span class="number">3</span>) <span class="type">void</span> <span class="title function_">DispStr</span><span class="params">(strSeq *s)</span>;                            <span class="comment">//  输出串</span></span><br><span class="line">    (<span class="number">4</span>) strSeq * <span class="title function_">InsStr</span><span class="params">(strSeq *s,<span class="type">int</span> i,strSeq *s1)</span>;        <span class="comment">//  串插入</span></span><br><span class="line">    (<span class="number">5</span>) strSeq * <span class="title function_">StrCopy</span><span class="params">(strSeq *s)</span>;                        <span class="comment">//  复制串s，返回新串</span></span><br><span class="line">    (<span class="number">6</span>) Bool <span class="title function_">StrEqual</span><span class="params">(strSeq *s,strSeq *t)</span>;                 <span class="comment">//  串相等</span></span><br><span class="line">    (<span class="number">7</span>) <span class="type">int</span> <span class="title function_">StrLength</span><span class="params">(strSeq *s)</span>;                           <span class="comment">//  求串长</span></span><br><span class="line">    (<span class="number">8</span>) strSeq * <span class="title function_">Concat</span><span class="params">(strSeq *s,strSeq *t)</span>;               <span class="comment">//  串连接</span></span><br><span class="line">    (<span class="number">9</span>) strSeq * <span class="title function_">SubStr</span><span class="params">(strSeq *s,<span class="type">int</span> i,<span class="type">int</span> j)</span>;             <span class="comment">//  求子串</span></span><br><span class="line">    (<span class="number">10</span>) strSeq * <span class="title function_">DelStr</span><span class="params">(strSeq *s,<span class="type">int</span> i,<span class="type">int</span> j)</span> ;            <span class="comment">//  串删除</span></span><br><span class="line">    (<span class="number">11</span>) strSeq * <span class="title function_">RepStr</span><span class="params">(strSeq *s,<span class="type">int</span> i,<span class="type">int</span> j,strSeq *t)</span>;   <span class="comment">//  串替换</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>虽然串是一种特殊的线性表，与线性表具有类似的逻辑结构。<br>但是从抽象数据类型的抽象方法可以看出来，串和线性表的操作有较大的区别。</p>
<p>串通常以整体作为操作的对象，可以从作为参数的输入和作为结果的返回看出。<br>而线性表通常以单个元素作为操作的对象。</p>
<h3><span id="shun-xu-chuan">顺序串</span><a href="#shun-xu-chuan" class="header-anchor">#</a></h3><p>定义顺序串的存储结构：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> MaxSize 100    </span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span>   <span class="type">char</span> data[MaxSize];         </span><br><span class="line">    <span class="type">int</span> length;                 </span><br><span class="line">&#125; strSeq;</span><br></pre></td></tr></table></figure>

<p>字符变量cstr赋值给串方法 <code>StrAssign</code> 和 串复制方法 <code>StrCopy</code> 比较类似，区别是遍历字符变量cstr时，是否以 <code>&#39;\0&#39;</code> 结束。</p>
<p>方法 <code>InsStr</code>, <code>SubStr</code>, <code>DelStr</code>, <code>RepStr</code> 中有参数 $i$ ，表示逻辑序号，需要转换成物理序号，避免发生越界错误。</p>
<p>顺序串代码实现：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MaxSize 100          </span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> true 1</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> false 0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> Bool;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span>   <span class="type">char</span> data[MaxSize];         </span><br><span class="line">    <span class="type">int</span> length;                 </span><br><span class="line">&#125; strSeq;</span><br><span class="line"></span><br><span class="line">strSeq * <span class="title function_">InitStr</span><span class="params">()</span>;                                 <span class="comment">//  初始化串</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">StrAssign</span><span class="params">(strSeq *s,<span class="type">char</span> cstr[])</span>;              <span class="comment">//  字符串常量cstr赋给串s</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">DispStr</span><span class="params">(strSeq *s)</span>;                            <span class="comment">//  输出串</span></span><br><span class="line">strSeq * <span class="title function_">InsStr</span><span class="params">(strSeq *s,<span class="type">int</span> i,strSeq *s1)</span>;        <span class="comment">//  串插入</span></span><br><span class="line">strSeq * <span class="title function_">StrCopy</span><span class="params">(strSeq *s)</span>;                        <span class="comment">//  复制串s，返回新串</span></span><br><span class="line">Bool <span class="title function_">StrEqual</span><span class="params">(strSeq *s,strSeq *t)</span>;                 <span class="comment">//  串相等</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">StrLength</span><span class="params">(strSeq *s)</span>;                           <span class="comment">//  求串长</span></span><br><span class="line">strSeq * <span class="title function_">Concat</span><span class="params">(strSeq *s,strSeq *t)</span>;               <span class="comment">//  串连接</span></span><br><span class="line">strSeq * <span class="title function_">SubStr</span><span class="params">(strSeq *s,<span class="type">int</span> i,<span class="type">int</span> j)</span>;             <span class="comment">//  求子串</span></span><br><span class="line">strSeq * <span class="title function_">DelStr</span><span class="params">(strSeq *s,<span class="type">int</span> i,<span class="type">int</span> j)</span> ;            <span class="comment">//  串删去</span></span><br><span class="line">strSeq * <span class="title function_">RepStr</span><span class="params">(strSeq *s,<span class="type">int</span> i,<span class="type">int</span> j,strSeq *t)</span>;   <span class="comment">//  串替换</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    strSeq *s,*s1,*s2,*s3,*s4,*s5;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;串的基本运算如下:\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (0)初始化串s:\n&quot;</span>);</span><br><span class="line">    s = InitStr();</span><br><span class="line">    <span class="type">char</span> cstr[] = <span class="string">&quot;abcdefghijklmn&quot;</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (1)字符串 %s 赋值给s\n&quot;</span>,cstr);</span><br><span class="line">    StrAssign(s,cstr);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (2)输出串s:&quot;</span>);</span><br><span class="line">    DispStr(s);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (0)初始化串s1:\n&quot;</span>);</span><br><span class="line">    s1 = InitStr();</span><br><span class="line">    StrAssign(s1,<span class="string">&quot;123&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (2)输出串s1:&quot;</span>);</span><br><span class="line">    DispStr(s1);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (3)串s的长度:%d\n&quot;</span>,StrLength(s));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (4)在串s的第9个字符位置插入串s1而产生串s2\n&quot;</span>);</span><br><span class="line">    s2 = InsStr(s,<span class="number">9</span>,s1);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (5)输出串s2:&quot;</span>);</span><br><span class="line">    DispStr(s2);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (6)删除串s第2个字符开始的5个字符而产生串s2\n&quot;</span>);</span><br><span class="line">    s2 = DelStr(s,<span class="number">2</span>,<span class="number">5</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (7)输出串s2:&quot;</span>);</span><br><span class="line">    DispStr(s2);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (8)将串s第2个字符开始的5个字符替换成串s1而产生串s2\n&quot;</span>);</span><br><span class="line">    s2 = RepStr(s,<span class="number">2</span>,<span class="number">5</span>,s1);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (9)输出串s2:&quot;</span>);</span><br><span class="line">    DispStr(s2);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (10)提取串s的第2个字符开始的10个字符而产生串s3\n&quot;</span>);</span><br><span class="line">    s3 = SubStr(s,<span class="number">2</span>,<span class="number">10</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (11)输出串s3:&quot;</span>);</span><br><span class="line">    DispStr(s3);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (12)将串s1和串s2连接起来而产生串s4\n&quot;</span>);</span><br><span class="line">    s4 = Concat(s,s1);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (13)输出串s4:&quot;</span>);</span><br><span class="line">    DispStr(s4);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (14)复制串s返回s5\n&quot;</span>);</span><br><span class="line">    s5 = StrCopy(s);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (15)输出串s5:&quot;</span>);</span><br><span class="line">    DispStr(s5);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (16)比较串s和s5\n&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span>(StrEqual(s,s5))</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;  (17)串s和s5相等&quot;</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;  (17)串s和s5不相等&quot;</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">strSeq * <span class="title function_">InitStr</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    strSeq *tmp = (strSeq *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strSeq));</span><br><span class="line">    tmp-&gt;length = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">StrAssign</span><span class="params">(strSeq *s,<span class="type">char</span> cstr[])</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (cstr[i] != <span class="string">&#x27;\0&#x27;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        s-&gt;data[i] = cstr[i];</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    s-&gt;length = i;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">strSeq * <span class="title function_">InsStr</span><span class="params">(strSeq *s,<span class="type">int</span> i,strSeq *s1)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> j,k;</span><br><span class="line">    strSeq *tmp  = (strSeq *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strSeq));</span><br><span class="line">    tmp-&gt;length = <span class="number">0</span>;</span><br><span class="line">    i--;</span><br><span class="line">    <span class="keyword">if</span>(i &lt; <span class="number">0</span> || i &gt; s-&gt;length)</span><br><span class="line">        <span class="keyword">return</span> tmp;</span><br><span class="line">    <span class="keyword">if</span>(s-&gt;length + s1-&gt;length &gt; MaxSize)</span><br><span class="line">        <span class="keyword">return</span> tmp;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> ( j = <span class="number">0</span>; j &lt; i; j++)</span><br><span class="line">        tmp-&gt;data[j] = s-&gt;data[j];</span><br><span class="line">    <span class="keyword">for</span> ( k = <span class="number">0</span>; k &lt; s1-&gt;length; k++)</span><br><span class="line">        tmp-&gt;data[j+k] = s1-&gt;data[k];    </span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> ( j = i; j &lt; s-&gt;length; j++)</span><br><span class="line">        tmp-&gt;data[j+s1-&gt;length] = s-&gt;data[j];</span><br><span class="line"></span><br><span class="line">    tmp-&gt;length = s-&gt;length + s1-&gt;length;</span><br><span class="line">    <span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">DispStr</span><span class="params">(strSeq *s)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; s-&gt;length; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c &quot;</span>,s-&gt;data[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">strSeq * <span class="title function_">Concat</span><span class="params">(strSeq *s,strSeq *t)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> k,l;</span><br><span class="line">    strSeq *tmp  = (strSeq *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strSeq));</span><br><span class="line">    tmp-&gt;length = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(k=<span class="number">0</span>;k&lt;s-&gt;length;k++)</span><br><span class="line">        tmp-&gt;data[k] = s-&gt;data[k];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(k=<span class="number">0</span>;k&lt;t-&gt;length;k++)</span><br><span class="line">        tmp-&gt;data[s-&gt;length+k] = t-&gt;data[k];</span><br><span class="line"></span><br><span class="line">    tmp-&gt;length = s-&gt;length + t-&gt;length;</span><br><span class="line">    <span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">StrLength</span><span class="params">(strSeq *s)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> s-&gt;length;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">strSeq * <span class="title function_">SubStr</span><span class="params">(strSeq *s,<span class="type">int</span> i,<span class="type">int</span> j)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> k,l;</span><br><span class="line">    strSeq *tmp = (strSeq *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strSeq));</span><br><span class="line">    tmp-&gt;length = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(i+j<span class="number">-1</span> &gt; s-&gt;length)</span><br><span class="line">        <span class="keyword">return</span> tmp;</span><br><span class="line">    i--;</span><br><span class="line">    <span class="keyword">for</span>(k=i,l=<span class="number">0</span>;l&lt;j;l++,k++)</span><br><span class="line">        tmp-&gt;data[l] = s-&gt;data[k];</span><br><span class="line"></span><br><span class="line">    tmp-&gt;length = j;</span><br><span class="line">    <span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">strSeq * <span class="title function_">RepStr</span><span class="params">(strSeq *s,<span class="type">int</span> i,<span class="type">int</span> j,strSeq *t)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> k,l;</span><br><span class="line">    strSeq *tmp = (strSeq *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strSeq));</span><br><span class="line">    tmp-&gt;length = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(i+j<span class="number">-1</span> &gt; s-&gt;length)</span><br><span class="line">        <span class="keyword">return</span> tmp;</span><br><span class="line">    i--;</span><br><span class="line">    <span class="keyword">for</span>(k=<span class="number">0</span>,l=<span class="number">0</span>;k&lt;i;k++,l++)</span><br><span class="line">        tmp-&gt;data[l] = s-&gt;data[k];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(k=<span class="number">0</span>;k&lt;t-&gt;length;k++,l++)</span><br><span class="line">        tmp-&gt;data[l] = t-&gt;data[k];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(k=i+j;k&lt;s-&gt;length;k++,l++)</span><br><span class="line">        tmp-&gt;data[l] = s-&gt;data[k];</span><br><span class="line"></span><br><span class="line">    tmp-&gt;length = s-&gt;length-j+t-&gt;length;</span><br><span class="line">    <span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">strSeq * <span class="title function_">DelStr</span><span class="params">(strSeq *s,<span class="type">int</span> i,<span class="type">int</span> j)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> k,l;</span><br><span class="line">    strSeq *tmp = (strSeq *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strSeq));</span><br><span class="line">    tmp-&gt;length = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//  元素数量不够，返回空</span></span><br><span class="line">    <span class="keyword">if</span> (i+j<span class="number">-1</span> &gt; s-&gt;length)</span><br><span class="line">        <span class="keyword">return</span> tmp;</span><br><span class="line">    i--;</span><br><span class="line">    <span class="keyword">for</span> ( k = <span class="number">0</span>,l = <span class="number">0</span>; k &lt; i; k++,l++)</span><br><span class="line">        tmp-&gt;data[l] = s-&gt;data[k];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> ( k = i+j; k &lt; s-&gt;length; k++,l++)</span><br><span class="line">        tmp-&gt;data[l] = s-&gt;data[k];</span><br><span class="line">    </span><br><span class="line">    tmp-&gt;length = s-&gt;length-j;</span><br><span class="line">    <span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//  复制串s，返回新串</span></span><br><span class="line">strSeq *<span class="title function_">StrCopy</span><span class="params">(strSeq *s)</span></span><br><span class="line">&#123;</span><br><span class="line">    strSeq *tmp = (strSeq *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strSeq));</span><br><span class="line">    tmp-&gt;length = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;s-&gt;length;i++)</span><br><span class="line">        tmp-&gt;data[i] = s-&gt;data[i];</span><br><span class="line"></span><br><span class="line">    tmp-&gt;length = s-&gt;length;</span><br><span class="line">    <span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Bool <span class="title function_">StrEqual</span><span class="params">(strSeq *s,strSeq *t)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(s-&gt;length != t-&gt;length)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;s-&gt;length;i++)</span><br><span class="line">        <span class="keyword">if</span>(s-&gt;data[i] != t-&gt;data[i])</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3><span id="lian-chuan">链串</span><a href="#lian-chuan" class="header-anchor">#</a></h3><p>链串的存储结构定义为：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">char</span> data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125; strLink;  </span><br></pre></td></tr></table></figure>

<p>链串代码实现：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> true 1</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> false 0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> Bool;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">char</span> data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125; strLink;</span><br><span class="line"></span><br><span class="line">strLink * <span class="title function_">InitStr</span><span class="params">()</span>;                                    <span class="comment">//初始化串</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">StrAssign</span><span class="params">(strLink *s,<span class="type">char</span> cstr[])</span>;                 <span class="comment">//字符串常量cstr赋给串s</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">DispStr</span><span class="params">(strLink *s)</span>;                               <span class="comment">//输出串</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">StrLength</span><span class="params">(strLink *s)</span>;                              <span class="comment">//求串长</span></span><br><span class="line">strLink * <span class="title function_">InsStr</span><span class="params">(strLink *s,<span class="type">int</span> i,strLink *t)</span>;          <span class="comment">//串插入</span></span><br><span class="line">strLink * <span class="title function_">DelStr</span><span class="params">(strLink *s,<span class="type">int</span> i,<span class="type">int</span> j)</span>;               <span class="comment">//串删去</span></span><br><span class="line">strLink * <span class="title function_">RepStr</span><span class="params">(strLink *s,<span class="type">int</span> i,<span class="type">int</span> j,strLink *t)</span>;    <span class="comment">//串替换</span></span><br><span class="line">strLink * <span class="title function_">SubStr</span><span class="params">(strLink *s,<span class="type">int</span> i,<span class="type">int</span> j)</span>;               <span class="comment">//求子串</span></span><br><span class="line">strLink * <span class="title function_">Concat</span><span class="params">(strLink *s,strLink *t)</span>;                <span class="comment">//串连接</span></span><br><span class="line">strLink * <span class="title function_">StrCopy</span><span class="params">(strLink *s)</span>;                          <span class="comment">//复制串s，返回新串</span></span><br><span class="line">Bool <span class="title function_">StrEqual</span><span class="params">(strLink *s,strLink *t)</span>;                   <span class="comment">//判串相等</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    strLink *s,*s1,*s2,*s3,*s4,*s5;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;链串的基本运算如下:\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (1)建立串s和串s1\n&quot;</span>);</span><br><span class="line">    s = InitStr();</span><br><span class="line">    StrAssign(s,<span class="string">&quot;abcdefghijklmn&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (2)输出串s:&quot;</span>);</span><br><span class="line">    DispStr(s);</span><br><span class="line">    s1 = InitStr();</span><br><span class="line">    StrAssign(s1,<span class="string">&quot;123&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (2)输出串s1:&quot;</span>);</span><br><span class="line">    DispStr(s1);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (3)串s的长度:%d\n&quot;</span>,StrLength(s));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (4)在串s的第9个字符位置插入串s1而产生串s2\n&quot;</span>);</span><br><span class="line">    s2 = InsStr(s,<span class="number">9</span>,s1);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (5)输出串s2:&quot;</span>);</span><br><span class="line">    DispStr(s2);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (6)删除串s第2个字符开始的5个字符而产生串s2\n&quot;</span>);</span><br><span class="line">    s2=DelStr(s,<span class="number">2</span>,<span class="number">5</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (7)输出串s2:&quot;</span>);</span><br><span class="line">    DispStr(s2);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (8)将串s第2个字符开始的5个字符替换成串s1而产生串s2\n&quot;</span>);</span><br><span class="line">    s2 = RepStr(s,<span class="number">2</span>,<span class="number">5</span>,s1);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (9)输出串s2:&quot;</span>);</span><br><span class="line">    DispStr(s2);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (10)提取串s的第2个字符开始的10个字符而产生串s3\n&quot;</span>);</span><br><span class="line">    s3 = SubStr(s,<span class="number">2</span>,<span class="number">10</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (11)输出串s3:&quot;</span>);</span><br><span class="line">    DispStr(s3);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (12)将串s和串s1连接起来而产生串s4\n&quot;</span>);</span><br><span class="line">    s4 = Concat(s,s1);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (13)输出串s4:&quot;</span>);</span><br><span class="line">    DispStr(s4);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (14)复制串s返回s5\n&quot;</span>);</span><br><span class="line">    s5 = StrCopy(s);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (15)输出串s5:&quot;</span>);</span><br><span class="line">    DispStr(s5);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;  (16)比较串s和s5\n&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span>(StrEqual(s,s5))</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;  (17)串s和s5相等&quot;</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;  (17)串s和s5不相等&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">strLink * <span class="title function_">InitStr</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    strLink *tmp = (strLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strLink));</span><br><span class="line">    tmp-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">StrAssign</span><span class="params">(strLink *s,<span class="type">char</span> cstr[])</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">    strLink *tmp,*p;</span><br><span class="line">    p = s;</span><br><span class="line">    <span class="keyword">while</span>(cstr[i] != <span class="string">&#x27;\0&#x27;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        tmp = (strLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strLink));</span><br><span class="line">        tmp-&gt;data = cstr[i];</span><br><span class="line">        p-&gt;next = tmp;</span><br><span class="line">        p = tmp;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    p-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">DispStr</span><span class="params">(strLink *s)</span></span><br><span class="line">&#123;</span><br><span class="line">    strLink *tmp = s-&gt;next;</span><br><span class="line">    <span class="keyword">while</span> (tmp != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c &quot;</span>,tmp-&gt;data);</span><br><span class="line">        tmp = tmp-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">StrLength</span><span class="params">(strLink *s)</span></span><br><span class="line">&#123;</span><br><span class="line">    strLink *tmp = s-&gt;next;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (tmp != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        i++;</span><br><span class="line">        tmp = tmp-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> i;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">strLink * <span class="title function_">InsStr</span><span class="params">(strLink *s,<span class="type">int</span> i,strLink *t)</span></span><br><span class="line">&#123;</span><br><span class="line">    strLink *tmp,*p1=s-&gt;next,*p2=t-&gt;next,*q,*r;</span><br><span class="line">    <span class="type">int</span> j;</span><br><span class="line">    tmp = (strLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strLink));</span><br><span class="line">    tmp-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    i--;    <span class="comment">//  逻辑顺序转物理顺序</span></span><br><span class="line">    <span class="keyword">if</span>(i &lt; <span class="number">0</span> || i &gt; StrLength(s))</span><br><span class="line">        <span class="keyword">return</span> tmp;</span><br><span class="line"></span><br><span class="line">    r = tmp;</span><br><span class="line">    <span class="keyword">for</span> ( j = <span class="number">0</span>; j &lt; i; j++)</span><br><span class="line">    &#123;</span><br><span class="line">        q = (strLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strLink));</span><br><span class="line">        q-&gt;data = p1-&gt;data;</span><br><span class="line">        r-&gt;next = q;</span><br><span class="line">        r = q;</span><br><span class="line">        p1 = p1-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(p2 != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        q = (strLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strLink));</span><br><span class="line">        q-&gt;data = p2-&gt;data;</span><br><span class="line">        r-&gt;next = q;</span><br><span class="line">        r = q;</span><br><span class="line">        p2 = p2-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> ( j = i; j &lt; StrLength(s); j++)</span><br><span class="line">    &#123;</span><br><span class="line">        q = (strLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strLink));</span><br><span class="line">        q-&gt;data = p1-&gt;data;</span><br><span class="line">        r-&gt;next = q;</span><br><span class="line">        r = q;</span><br><span class="line">        p1 = p1-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    r-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> tmp;  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">strLink *<span class="title function_">DelStr</span><span class="params">(strLink *s,<span class="type">int</span> i,<span class="type">int</span> j)</span></span><br><span class="line">&#123;</span><br><span class="line">    strLink *tmp,*r,*q,*p = s-&gt;next;</span><br><span class="line">    <span class="type">int</span> k=<span class="number">0</span>;</span><br><span class="line">    tmp = (strLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strLink));</span><br><span class="line">    tmp-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(i+j<span class="number">-1</span> &gt; StrLength(s))</span><br><span class="line">        <span class="keyword">return</span> tmp;</span><br><span class="line">    r = tmp;</span><br><span class="line">    i--;</span><br><span class="line">    <span class="keyword">while</span> (k &lt; i)</span><br><span class="line">    &#123;</span><br><span class="line">        q = (strLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strLink));</span><br><span class="line">        q-&gt;data = p-&gt;data;</span><br><span class="line">        r-&gt;next = q;</span><br><span class="line">        r = q;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">        k++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (k &lt; i+j)&#123;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">        k++;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> ( k &lt; StrLength(s))</span><br><span class="line">    &#123;</span><br><span class="line">        q = (strLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strLink));</span><br><span class="line">        q-&gt;data = p-&gt;data;</span><br><span class="line">        r-&gt;next = q;</span><br><span class="line">        r = q;</span><br><span class="line">        p = p-&gt;next;  </span><br><span class="line">        k++;    </span><br><span class="line">    &#125;</span><br><span class="line">    r-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">strLink *<span class="title function_">RepStr</span><span class="params">(strLink *s,<span class="type">int</span> i,<span class="type">int</span> j,strLink *t)</span></span><br><span class="line">&#123;</span><br><span class="line">    strLink *tmp,*r,*q,*p1=s-&gt;next,*p2=t-&gt;next;</span><br><span class="line">    <span class="type">int</span> k = <span class="number">0</span>;</span><br><span class="line">    tmp = (strLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strLink));</span><br><span class="line">    tmp-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(i+j<span class="number">-1</span> &gt; StrLength(s))</span><br><span class="line">        <span class="keyword">return</span> tmp;</span><br><span class="line">    r = tmp;</span><br><span class="line">    i--;</span><br><span class="line">    <span class="keyword">while</span> (k &lt; i)</span><br><span class="line">    &#123;</span><br><span class="line">        q = (strLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strLink));</span><br><span class="line">        q-&gt;data = p1-&gt;data;</span><br><span class="line">        r-&gt;next = q;</span><br><span class="line">        r = q;</span><br><span class="line">        p1 = p1-&gt;next;</span><br><span class="line">        k++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (p2 != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        q = (strLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strLink));</span><br><span class="line">        q-&gt;data = p2-&gt;data;</span><br><span class="line">        r-&gt;next = q;</span><br><span class="line">        r = q;</span><br><span class="line">        p2 = p2-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (k &lt; i+j)</span><br><span class="line">    &#123;</span><br><span class="line">        p1 = p1-&gt;next;</span><br><span class="line">        k++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> ( k &lt; StrLength(s))</span><br><span class="line">    &#123;</span><br><span class="line">        q = (strLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strLink));</span><br><span class="line">        q-&gt;data = p1-&gt;data;</span><br><span class="line">        r-&gt;next = q;</span><br><span class="line">        r = q;</span><br><span class="line">        p1 = p1-&gt;next;  </span><br><span class="line">        k++;    </span><br><span class="line">    &#125;</span><br><span class="line">    r-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> tmp;   </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">strLink * <span class="title function_">SubStr</span><span class="params">(strLink *s,<span class="type">int</span> i,<span class="type">int</span> j)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> k = <span class="number">0</span>;</span><br><span class="line">    strLink *tmp,*p = s-&gt;next,*r,*q;</span><br><span class="line">    tmp = (strLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strLink));</span><br><span class="line">    tmp-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(i<span class="number">-1</span>+j &gt; StrLength(s))</span><br><span class="line">        <span class="keyword">return</span> tmp;</span><br><span class="line">    r = tmp;</span><br><span class="line">    i--;</span><br><span class="line">    <span class="keyword">while</span> (k &lt; i)</span><br><span class="line">    &#123;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">        k++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (k &lt; i+j)</span><br><span class="line">    &#123;</span><br><span class="line">        q = (strLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strLink));</span><br><span class="line">        q-&gt;data = p-&gt;data;</span><br><span class="line">        r-&gt;next = q;</span><br><span class="line">        r = q;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">        k++;</span><br><span class="line">    &#125;</span><br><span class="line">    r-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> tmp; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">strLink * <span class="title function_">Concat</span><span class="params">(strLink *s,strLink *t)</span></span><br><span class="line">&#123;</span><br><span class="line">    strLink *tmp,*r,*q,*p1 =s-&gt;next,*p2=t-&gt;next;</span><br><span class="line">    tmp = (strLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strLink));</span><br><span class="line">    tmp-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    r = tmp;</span><br><span class="line">    <span class="keyword">while</span> (p1 != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        q = (strLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strLink));</span><br><span class="line">        q-&gt;data = p1-&gt;data;</span><br><span class="line">        r-&gt;next = q;</span><br><span class="line">        r = q;</span><br><span class="line">        p1 = p1-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (p2 != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        q = (strLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strLink));</span><br><span class="line">        q-&gt;data = p2-&gt;data;</span><br><span class="line">        r-&gt;next = q;</span><br><span class="line">        r = q;</span><br><span class="line">        p2 = p2-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    r-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//   复制串s，返回新串</span></span><br><span class="line">strLink * <span class="title function_">StrCopy</span><span class="params">(strLink *s)</span></span><br><span class="line">&#123;</span><br><span class="line">    strLink *tmp,*r,*q,*p1=s-&gt;next;</span><br><span class="line">    tmp = (strLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strLink));</span><br><span class="line">    tmp-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    r = tmp;</span><br><span class="line">    <span class="keyword">while</span> (p1 != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        q = (strLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(strLink));</span><br><span class="line">        q-&gt;data = p1-&gt;data;</span><br><span class="line">        r-&gt;next = q;</span><br><span class="line">        r = q;</span><br><span class="line">        p1 = p1-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//  串相等</span></span><br><span class="line">Bool <span class="title function_">StrEqual</span><span class="params">(strLink *s,strLink *t)</span></span><br><span class="line">&#123;</span><br><span class="line">    strLink *p1=s-&gt;next,*p2=t-&gt;next;</span><br><span class="line">    <span class="keyword">if</span>(StrLength(s) != StrLength(t))</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (p1 != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(p1-&gt;data != p2-&gt;data)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">        p1=p1-&gt;next;</span><br><span class="line">        p2=p2-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
	</div>

<div class="meta">
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="2020/06/14/leetcode-1300/">leetcode 1300m 转变数组后最接近目标值的数组和</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2020-06-14T05:00:00.000Z" itemprop="datePublished">Jun 14, 2020</time>
</div>
      <div class="tags">Tags: 

<a href="/tags/leetcode/">leetcode</a>
</div>
    </div>
      
        <h4><span id="ti-mu-miao-shu">题目描述</span><a href="#ti-mu-miao-shu" class="header-anchor">#</a></h4><p>给你一个整数数组 <code>arr</code> 和一个目标值 <code>target</code> ，请你返回一个整数 <code>value</code> ，使得将数组中所有大于 <code>value</code> 的值变成 <code>value</code> 后，数组的和最接近  <code>target</code> （最接近表示两者之差的绝对值最小）。</p>
<p>如果有多种使得和最接近 <code>target</code> 的方案，请你返回这些整数中的最小值。</p>
<p>请注意，答案不一定是 <code>arr</code> 中的数字。</p>
<p>示例1:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">输入：arr = [4,9,3], target = 10</span><br><span class="line">输出：3</span><br><span class="line">解释：当选择 value 为 3 时，数组会变成 [3, 3, 3]，和为 9 ，这是最接近 target 的方案。</span><br></pre></td></tr></table></figure>

<h4><span id="suan-fa">算法</span><a href="#suan-fa" class="header-anchor">#</a></h4><ol>
<li>排序数组</li>
<li>遍历数组，找到 $i$ ，使得 $i$ 满足 $sum_{i-1} + arr[i] \times (arrSize - i) &gt; target$ $(sum_i$表示从$0$至$i$的累加和$)$ 。<br>找到 $i$ 之后，表示结果 $value &lt; arr[i]$，即从 $i$ 开始以后的元素都使用 $value$ 代替，于是 $value$ 约等于 $(target-sum_{i-1}) \div (arrSize - i)$，说约等于因为这里可能结果不是整数，所以需要根据题意找到最优解（最接近，最小）。</li>
<li>当 $i&#x3D;&#x3D;arrSize$ 时，表示数组元素之和小于 $target$ ，返回数组的最大元素即可。</li>
</ol>
<h4><span id="c-dai-ma">C代码</span><a href="#c-dai-ma" class="header-anchor">#</a></h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">bubble</span><span class="params">(<span class="type">int</span>* arr, <span class="type">int</span> arrSize)</span>;</span><br><span class="line"><span class="type">int</span> <span class="title function_">findBestValue</span><span class="params">(<span class="type">int</span>* arr, <span class="type">int</span> arrSize, <span class="type">int</span> target)</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> arr[] = &#123;<span class="number">4</span>,<span class="number">9</span>,<span class="number">3</span>&#125;;</span><br><span class="line">    <span class="type">int</span> n = <span class="number">3</span>,target = <span class="number">10</span>;</span><br><span class="line">    <span class="type">int</span> value = findBestValue(&amp;arr[<span class="number">0</span>],n,target);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;value=%d&quot;</span>,value);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//  排序</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">bubble</span><span class="params">(<span class="type">int</span>* arr, <span class="type">int</span> arrSize)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;arrSize<span class="number">-1</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> flag = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=arrSize<span class="number">-1</span>;j&gt;i;j--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(arr[j] &lt; arr[j<span class="number">-1</span>])</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="type">int</span> temp = arr[j];</span><br><span class="line">                arr[j] = arr[j<span class="number">-1</span>];</span><br><span class="line">                arr[j<span class="number">-1</span>] = temp;</span><br><span class="line">                flag = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(flag == <span class="number">1</span>) <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">findBestValue</span><span class="params">(<span class="type">int</span>* arr, <span class="type">int</span> arrSize, <span class="type">int</span> target)</span></span><br><span class="line">&#123;</span><br><span class="line">    bubble(&amp;arr[<span class="number">0</span>],arrSize);</span><br><span class="line">    <span class="type">int</span> i,sum=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;arrSize;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(sum + arr[i]*(arrSize-i) &gt; target) <span class="keyword">break</span>;</span><br><span class="line">        sum += arr[i];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(i == arrSize) <span class="keyword">return</span> arr[arrSize<span class="number">-1</span>];</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> value = (target-sum)/(arrSize-i);</span><br><span class="line">    <span class="type">double</span> value_1 = (<span class="type">double</span>)(target-sum)/(arrSize-i);</span><br><span class="line">    <span class="keyword">if</span>(value_1 - value &gt; <span class="number">0.5</span>)</span><br><span class="line">        <span class="keyword">return</span> value+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> value;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4><span id="shi-jian-fu-za-du">时间复杂度</span><a href="#shi-jian-fu-za-du" class="header-anchor">#</a></h4><p>算法的时间复杂度为排序算法时间复杂度 $O(n^2)$</p>

      
	</div>

<div class="meta">
	
</div>
</article>


  <nav id="pagenavi">
    
        <a href="/page/4/" class="prev">Prev</a>
    
    
        <a href="/page/6/" class="next">Next</a>
    
  <div class="center"><a href="/archives/index.html">Blog Archives</a></div>
  </nav>


    </div>
    <footer id="footer">
    <div style="display:inline">
    Copyright &copy; 2023

    CFONG
. Powered by <a href="http://zespia.tw/hexo/" target="_blank">Hexo</a> |
    Theme is <a target="_blank" rel="noopener" href="https://github.com/wd/hexo-fabric">hexo-fabric</a>, fork from <a target="_blank" rel="noopener" href="http://github.com/panks/fabric">fabric</a> by <a target="_blank" rel="noopener" href="http://panks.me">Pankaj Kumar</a>
</div>


    </footer>
    <script src="/javascripts/fabric.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script>
 <!-- Delete or comment this line to disable Fancybox -->



<!-- end toload --> 
</div>
</div>
<script src="/javascripts/jquery.ui.totop.js" type="text/javascript"></script>
<script type="text/javascript">
/*<![CDATA[*/
;(function($){$().UItoTop({easingType:'easeOutCirc'});})(jQuery); 
/*]]>*/
</script><!-- remove it to remove the scroll to top button -->
</body>
</html>
